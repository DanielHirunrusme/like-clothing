require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function intervalometer(e,t,r,n){function o(r){a=t(o,n),e(r-(m||r)),m=r}var a,m;return{start:function(){a||o(0)},stop:function(){r(a),a=null,m=0}}}function frameIntervalometer(e){return intervalometer(e,requestAnimationFrame,cancelAnimationFrame)}function timerIntervalometer(e,t){return intervalometer(e,setTimeout,clearTimeout,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.intervalometer=intervalometer,exports.frameIntervalometer=frameIntervalometer,exports.timerIntervalometer=timerIntervalometer;
},{}],2:[function(require,module,exports){
"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function preventEvent(e,t,r,n){function i(t){Boolean(e[r])===Boolean(n)&&t.stopImmediatePropagation(),delete e[r]}return e.addEventListener(t,i,!1),i}function proxyProperty(e,t,r,n){function i(){return r[t]}function d(e){r[t]=e}n&&d(e[t]),Object.defineProperty(e,t,{get:i,set:d})}function proxyEvent(e,t,r){r.addEventListener(t,function(){return e.dispatchEvent(new Event(t))})}function dispatchEventAsync(e,t){Promise.resolve().then(function(){e.dispatchEvent(new Event(t))})}function getAudioFromVideo(e){var t=new Audio;return proxyEvent(e,"play",t),proxyEvent(e,"playing",t),proxyEvent(e,"pause",t),t.crossOrigin=e.crossOrigin,t.src=e.src||e.currentSrc||"data:",t}function setTime(e,t,r){(lastTimeupdateEvent||0)+200<Date.now()&&(e[ಠevent]=!0,lastTimeupdateEvent=Date.now()),r||(e.currentTime=t),lastRequests[++requestIndex%3]=100*t|0}function isPlayerEnded(e){return e.driver.currentTime>=e.video.duration}function update(e){var t=this;t.video.readyState>=t.video.HAVE_FUTURE_DATA?(t.hasAudio||(t.driver.currentTime=t.video.currentTime+e*t.video.playbackRate/1e3,t.video.loop&&isPlayerEnded(t)&&(t.driver.currentTime=0)),setTime(t.video,t.driver.currentTime)):t.video.networkState!==t.video.NETWORK_IDLE||t.video.buffered.length||t.video.load(),t.video.ended&&(delete t.video[ಠevent],t.video.pause(!0))}function play(){var e=this,t=e[ಠ];return e.webkitDisplayingFullscreen?void e[ಠplay]():("data:"!==t.driver.src&&t.driver.src!==e.src&&(setTime(e,0,!0),t.driver.src=e.src),void(e.paused&&(t.paused=!1,e.buffered.length||e.load(),t.driver.play(),t.updater.start(),t.hasAudio||(dispatchEventAsync(e,"play"),t.video.readyState>=t.video.HAVE_ENOUGH_DATA&&dispatchEventAsync(e,"playing")))))}function pause(e){var t=this,r=t[ಠ];r.driver.pause(),r.updater.stop(),t.webkitDisplayingFullscreen&&t[ಠpause](),r.paused&&!e||(r.paused=!0,r.hasAudio||dispatchEventAsync(t,"pause"),t.ended&&(t[ಠevent]=!0,dispatchEventAsync(t,"ended")))}function addPlayer(e,t){var r=e[ಠ]={};r.paused=!0,r.hasAudio=t,r.video=e,r.updater=intervalometer.frameIntervalometer(update.bind(r)),t?r.driver=getAudioFromVideo(e):(e.addEventListener("canplay",function(){e.paused||dispatchEventAsync(e,"playing")}),r.driver={src:e.src||e.currentSrc||"data:",muted:!0,paused:!0,pause:function(){r.driver.paused=!0},play:function(){r.driver.paused=!1,isPlayerEnded(r)&&setTime(e,0)},get ended(){return isPlayerEnded(r)}}),e.addEventListener("emptied",function(){var t=!r.driver.src||"data:"===r.driver.src;r.driver.src&&r.driver.src!==e.src&&(setTime(e,0,!0),r.driver.src=e.src,t?r.driver.play():r.updater.stop())},!1),e.addEventListener("webkitbeginfullscreen",function(){e.paused?t&&!r.driver.buffered.length&&r.driver.load():(e.pause(),e[ಠplay]())}),t&&(e.addEventListener("webkitendfullscreen",function(){r.driver.currentTime=e.currentTime}),e.addEventListener("seeking",function(){lastRequests.indexOf(100*e.currentTime|0)<0&&(r.driver.currentTime=e.currentTime)}))}function overloadAPI(e){var t=e[ಠ];e[ಠplay]=e.play,e[ಠpause]=e.pause,e.play=play,e.pause=pause,proxyProperty(e,"paused",t.driver),proxyProperty(e,"muted",t.driver,!0),proxyProperty(e,"playbackRate",t.driver,!0),proxyProperty(e,"ended",t.driver),proxyProperty(e,"loop",t.driver,!0),preventEvent(e,"seeking"),preventEvent(e,"seeked"),preventEvent(e,"timeupdate",ಠevent,!1),preventEvent(e,"ended",ಠevent,!1)}function enableInlineVideo(e,t,r){void 0===t&&(t=!0),void 0===r&&(r=!0),r&&!isWhitelisted||e[ಠ]||(addPlayer(e,t),overloadAPI(e),e.classList.add("IIV"),!t&&e.autoplay&&e.play(),/iPhone|iPod|iPad/.test(navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments"))}var Symbol=_interopDefault(require("poor-mans-symbol")),intervalometer=require("intervalometer"),isWhitelisted=/iPhone|iPod/i.test(navigator.userAgent)&&!matchMedia("(-webkit-video-playable-inline)").matches,ಠ=Symbol(),ಠevent=Symbol(),ಠplay=Symbol("nativeplay"),ಠpause=Symbol("nativepause"),lastRequests=[],requestIndex=0,lastTimeupdateEvent;enableInlineVideo.isWhitelisted=isWhitelisted,module.exports=enableInlineVideo;
},{"intervalometer":1,"poor-mans-symbol":4}],3:[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var s=t||window.event,a=h.call(arguments,1),r=0,f=0,d=0,c=0,m=0,g=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(d=s.detail*-1),"wheelDelta"in s&&(d=s.wheelDelta),"wheelDeltaY"in s&&(d=s.wheelDeltaY),"wheelDeltaX"in s&&(f=s.wheelDeltaX*-1),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(f=d*-1,d=0),r=0===d?f:d,"deltaY"in s&&(d=s.deltaY*-1,r=d),"deltaX"in s&&(f=s.deltaX,0===d&&(r=f*-1)),0!==d||0!==f){if(1===s.deltaMode){var w=e.data(this,"mousewheel-line-height");r*=w,d*=w,f*=w}else if(2===s.deltaMode){var v=e.data(this,"mousewheel-page-height");r*=v,d*=v,f*=v}if(c=Math.max(Math.abs(d),Math.abs(f)),(!l||c<l)&&(l=c,n(s,c)&&(l/=40)),n(s,c)&&(r/=40,f/=40,d/=40),r=Math[r>=1?"floor":"ceil"](r/l),f=Math[f>=1?"floor":"ceil"](f/l),d=Math[d>=1?"floor":"ceil"](d/l),u.settings.normalizeOffset&&this.getBoundingClientRect){var p=this.getBoundingClientRect();m=t.clientX-p.left,g=t.clientY-p.top}return t.deltaX=f,t.deltaY=d,t.deltaFactor=l,t.offsetX=m,t.offsetY=g,t.deltaMode=0,a.unshift(t,r,f,d),o&&clearTimeout(o),o=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){l=null}function n(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,l,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if(e.event.fixHooks)for(var r=s.length;r;)e.event.fixHooks[s[--r]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=a.length;i;)this.removeEventListener(a[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})});
},{}],4:[function(require,module,exports){
"use strict";var index="undefined"==typeof Symbol?function(e){return"@"+(e||"@")+Math.random()}:Symbol;module.exports=index;
},{}],5:[function(require,module,exports){
function initializeModules(){for(var e=document.querySelectorAll("[data-module-init]"),t=0;t<e.length;t++)for(var i,o=e[t],l=o.getAttribute("data-module-init").split(" "),u=0;u<l.length;u++){try{i=require("modules/"+l[u])}catch(e){i=!1,console.log(l[u]+" module does not exist.")}i&&new i(o)}unique=!1}module.exports=initializeModules;
},{}],6:[function(require,module,exports){
var initializeModules=require("./lib/init-modules.js");"loading"!==document.readyState?initializeModules():document.addEventListener("DOMContentLoaded",initializeModules);
},{"./lib/init-modules.js":5}],"modules/body":[function(require,module,exports){
var settings=require("modules/settings"),throttle=require("modules/throttle");module.exports=function(e){function t(){r.on("resize",o),$(".wrapper").fadeIn(3e3)}function o(){1.5*r.height()<r.width()?$("body").addClass("landscape-format"):$("body").removeClass("landscape-format")}var r=($(e),$(window));o(),t()};
},{"modules/settings":"modules/settings","modules/throttle":"modules/throttle"}],"modules/settings":[function(require,module,exports){
var settings=module.exports={breakpoints:{xs:481,s:769,m:1e3,ml:999,l:1281,xl:1441,xxl:1921},siteURL:$("body").data("site-url"),scrollContainer:0,animationSpeed:400,animationType:"linear",animating:!1,unique:!0,isMobile:!1,page:""};settings.isMobile=settings.isMobile,settings.breakpoints=settings.breakpoints,settings.animationSpeed=settings.animationSpeed,settings.animationType=settings.animationType,settings.scrollPos=settings.scrollPos,settings.scrollContainer=settings.scrollContainer,settings.animating=settings.animating,settings.unique=settings.unique;
},{}],"modules/throttle":[function(require,module,exports){
module.exports=function(t,e,n){e||(e=250);var o,u;return function(){var a=n||this,i=+new Date,r=arguments;o&&i<o+e?(clearTimeout(u),u=setTimeout(function(){o=i,t.apply(a,r)},e)):(o=i,t.apply(a,r))}};
},{}],"modules/videos":[function(require,module,exports){
var makeVideoPlayableInline=require("iphone-inline-video"),mousewheel=require("jquery-mousewheel")($);module.exports=function(e){function o(){clearInterval(a);var e=m.scrollTop();m.hasClass("looped")&&(m.removeClass("looped"),e>c.height()&&m.removeClass("looped")),e>=m[0].scrollHeight-c.height()&&($(".wrapper").addClass("looped"),m.scrollTop(0),$(".top-section.bottom-fixed").css("opacity",0))}function i(){var e=m.scrollTop();if(m.hasClass("looped")){if(e<2*c.height()){var o=e-c.height()+e/c.height()*1;console.log("op "+o),$("#color-overlay").css("opacity",o)}}else if(e<c.height()){var o=e/c.height()*1;console.log("op "+o),$("#color-overlay").css("opacity",o)}if(e>=m[0].scrollHeight-2*c.height()){console.log((m[0].scrollHeight-e-c.height())/c.height());var o=(m[0].scrollHeight-e-c.height())/c.height();$("#color-overlay").css("opacity",o),$(".top-section.bottom-fixed").css("opacity",1-o)}}function l(){s(),i(),$("#video-container").fadeIn(6e3),r(function(e){u-=1,f-=1,$(".video-scroll").css({"-webkit-transform":"translate("+u+"px,0)","-ms-transform":"translate("+u+"px,0)",transform:"translate("+u+"px,0)"}),g&&(o(),$("body").scrollTop($("body").scrollTop()+1)),t()}),c.on("resize",d)}function t(){if(u<-v){u=0,f=0,h.append($(".video-holder").eq(0));for(var e=0;e<$(".video-holder").length;e++)$(".video-holder").eq(e).css("left",p*e+"px");return $(".video-holder").eq(1).find("video")[0].play(),console.log("reset entire piece"),!0}if(f<-p){f=0;var o=Number($(".video-holder").last().css("left").split("px").join(""))+p;$(".video-holder").eq(2).find("video")[0].play(),$(".video-holder").eq(0).find("video")[0].pause(),$(".video-holder").eq(0).css("left",o+"px"),h.append($(".video-holder").eq(0))}}function s(){v=0,$(".video-holder").each(function(){$(this).css("left",$(this).width()*$(this).index()),v+=$(this).width()}),h.css("width",v)}function r(e,o){function i(s){l!==!1&&(requestAnimationFrame(i,o),l=e(s-t),t=s)}var l,t=+new Date;i(t)}function d(){p=$(".video-holder").width(),s()}var a,n=$(e),c=$(window),h=n.find(".video-scroll"),p=$(".video-holder").width(),v=0,f=0,u=0,g=!0,m=$(".wrapper");console.log("%c[video module init]","color:blue;"),$("video").each(function(){makeVideoPlayableInline(this)}),m.on("mousewheel",function(e){g=!1,o(),i(),e.deltaY<0&&(u+=e.deltaY,f+=e.deltaY),e.deltaX<0&&(u+=e.deltaX,f+=e.deltaX),t(),$("body").addClass("scrolling"),clearTimeout($.data(this,"timer")),$.data(this,"timer",setTimeout(function(){$("body").removeClass("scrolling")},250))}),l()};
},{"iphone-inline-video":2,"jquery-mousewheel":3}]},{},[6])


//# sourceMappingURL=main.min.js.map