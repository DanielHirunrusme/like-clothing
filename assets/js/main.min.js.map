{"version":3,"sources":["../../node_modules/browser-pack/_prelude.js","../../node_modules/intervalometer/dist/intervalometer.common-js.js","../../node_modules/iphone-inline-video/dist/iphone-inline-video.common-js.js","../../node_modules/jquery-mousewheel/jquery.mousewheel.js","../../node_modules/poor-mans-symbol/dist/poor-mans-symbol.common-js.js","../../src/js/lib/init-modules.js","../../src/js/main.js","../../src/js/modules/body.js","../../src/js/modules/control-scroll.js","../../src/js/modules/controlscroll.js","../../src/js/modules/desktop-scroll.js","../../src/js/modules/form.js","../../src/js/modules/mobile-scroll.js","../../src/js/modules/scroll-loop.js","../../src/js/modules/settings.js","../../src/js/modules/throttle.js","../../src/js/modules/videos.js"],"names":["intervalometer","cb","request","cancel","requestParameter","loop","now","requestId","previousLoopTime","start","stop","frameIntervalometer","requestAnimationFrame","cancelAnimationFrame","timerIntervalometer","delay","setTimeout","clearTimeout","Object","defineProperty","exports","value","_interopDefault","ex","preventEvent","element","eventName","toggleProperty","preventWithProperty","handler","e","Boolean","stopImmediatePropagation","addEventListener","proxyProperty","object","propertyName","sourceObject","copyFirst","get","set","proxyEvent","dispatchEvent","Event","dispatchEventAsync","type","Promise","resolve","then","getAudioFromVideo","video","audio","Audio","crossOrigin","src","currentSrc","setTime","time","rememberOnly","lastTimeupdateEvent","Date","ಠevent","currentTime","lastRequests","requestIndex","isPlayerEnded","player","driver","duration","update","timeDiff","this","readyState","HAVE_FUTURE_DATA","hasAudio","playbackRate","networkState","NETWORK_IDLE","buffered","length","load","ended","pause","play","ಠ","Document","fullscreenElement","ಠplay","paused","updater","HAVE_ENOUGH_DATA","forceEvents","ಠpause","addPlayer","bind","muted","wasEmpty","indexOf","overloadAPI","enableInlineVideo","onlyWhitelisted","isWhitelisted","classList","add","autoplay","test","navigator","platform","console","warn","Symbol","require","userAgent","matchMedia","matches","module","factory","define","amd","jQuery","$","event","orgEvent","window","args","slice","call","arguments","delta","deltaX","deltaY","absDelta","offsetX","offsetY","fix","detail","wheelDelta","wheelDeltaY","wheelDeltaX","axis","HORIZONTAL_AXIS","deltaMode","lineHeight","data","pageHeight","Math","max","abs","lowestDelta","shouldAdjustOldDeltas","special","settings","normalizeOffset","getBoundingClientRect","boundingRect","clientX","left","clientY","top","deltaFactor","unshift","nullLowestDeltaTimeout","nullLowestDelta","dispatch","handle","apply","adjustOldDeltas","toFix","toBind","document","documentMode","Array","prototype","fixHooks","i","mouseHooks","mousewheel","version","setup","onmousewheel","getLineHeight","getPageHeight","teardown","removeEventListener","removeData","elem","$elem","$parent","fn","parseInt","css","height","extend","trigger","unmousewheel","unbind","index","description","random","initializeModules","modules","querySelectorAll","Module","el","names","getAttribute","split","j","log","unique","throttle","init","$window","on","winResize","show","addClass","width","removeClass","makeVideoPlayableInline","controlScroll","watchcontrolScroll","each","position","find","xPos","-webkit-transform","-ms-transform","transform","animLoop","render","running","lastFrame","scrollInt","autoScrollTimer","$el","xListener","autoScroll","$scrollContainer","st","setScrollContainer","scrollContainer","scroll","y","fadeOverlay","checkScrollPos","scrollTo","isMobile","scroller","scrollTop","scrollMobile","hasClass","op","scrollHeight","clearInterval","animate","stopAutoScroll","deltaT","controlscroll","startAutoScroll","setVideos","fadeIn","stopPropagation","watchVideos","inputFocus","vidScrollWidth","$videoScroll","$videoWidth","getName","videos","form","desktopScroll","onScroll","winMouseDown","winMove","target","_x","pageX","_y","pageY","outerWidth","outerHeight","focus","testOver","cursor","val","updatePosition","attachScroller","myScroll","IScroll","probeType","scrollbars","fadeScrollbars","bounce","mouseWheel","scrollbarClass","deceleration","preventDefault","touchStart","originalEvent","touches","scrollLoop","checkMobile","breakpoints","xs","s","m","ml","l","xl","xxl","siteURL","animationSpeed","animationType","animating","page","scrollPos","threshold","scope","last","deferTimer","context"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*! npm.im/intervalometer */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction intervalometer(cb, request, cancel, requestParameter) {\n\tvar requestId;\n\tvar previousLoopTime;\n\tfunction loop(now) {\n\t\t// must be requested before cb() because that might call .stop()\n\t\trequestId = request(loop, requestParameter);\n\n\t\t// called with \"ms since last call\". 0 on start()\n\t\tcb(now - (previousLoopTime || now));\n\n\t\tpreviousLoopTime = now;\n\t}\n\treturn {\n\t\tstart: function start() {\n\t\t\tif (!requestId) { // prevent double starts\n\t\t\t\tloop(0);\n\t\t\t}\n\t\t},\n\t\tstop: function stop() {\n\t\t\tcancel(requestId);\n\t\t\trequestId = null;\n\t\t\tpreviousLoopTime = 0;\n\t\t}\n\t};\n}\n\nfunction frameIntervalometer(cb) {\n\treturn intervalometer(cb, requestAnimationFrame, cancelAnimationFrame);\n}\n\nfunction timerIntervalometer(cb, delay) {\n\treturn intervalometer(cb, setTimeout, clearTimeout, delay);\n}\n\nexports.intervalometer = intervalometer;\nexports.frameIntervalometer = frameIntervalometer;\nexports.timerIntervalometer = timerIntervalometer;","/*! npm.im/iphone-inline-video */\n'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar Symbol = _interopDefault(require('poor-mans-symbol'));\nvar intervalometer = require('intervalometer');\n\nfunction preventEvent(element, eventName, toggleProperty, preventWithProperty) {\n\tfunction handler(e) {\n\t\tif (Boolean(element[toggleProperty]) === Boolean(preventWithProperty)) {\n\t\t\te.stopImmediatePropagation();\n\t\t\t// console.log(eventName, 'prevented on', element);\n\t\t}\n\t\tdelete element[toggleProperty];\n\t}\n\telement.addEventListener(eventName, handler, false);\n\n\t// Return handler to allow to disable the prevention. Usage:\n\t// const preventionHandler = preventEvent(el, 'click');\n\t// el.removeEventHandler('click', preventionHandler);\n\treturn handler;\n}\n\nfunction proxyProperty(object, propertyName, sourceObject, copyFirst) {\n\tfunction get() {\n\t\treturn sourceObject[propertyName];\n\t}\n\tfunction set(value) {\n\t\tsourceObject[propertyName] = value;\n\t}\n\n\tif (copyFirst) {\n\t\tset(object[propertyName]);\n\t}\n\n\tObject.defineProperty(object, propertyName, {get: get, set: set});\n}\n\nfunction proxyEvent(object, eventName, sourceObject) {\n\tsourceObject.addEventListener(eventName, function () { return object.dispatchEvent(new Event(eventName)); });\n}\n\nfunction dispatchEventAsync(element, type) {\n\tPromise.resolve().then(function () {\n\t\telement.dispatchEvent(new Event(type));\n\t});\n}\n\n// iOS 10 adds support for native inline playback + silent autoplay\nvar isWhitelisted = /iPhone|iPod/i.test(navigator.userAgent) && !matchMedia('(-webkit-video-playable-inline)').matches;\n\nvar ಠ = Symbol();\nvar ಠevent = Symbol();\nvar ಠplay = Symbol('nativeplay');\nvar ಠpause = Symbol('nativepause');\n\n/**\n * UTILS\n */\n\nfunction getAudioFromVideo(video) {\n\tvar audio = new Audio();\n\tproxyEvent(video, 'play', audio);\n\tproxyEvent(video, 'playing', audio);\n\tproxyEvent(video, 'pause', audio);\n\taudio.crossOrigin = video.crossOrigin;\n\n\t// 'data:' causes audio.networkState > 0\n\t// which then allows to keep <audio> in a resumable playing state\n\t// i.e. once you set a real src it will keep playing if it was if .play() was called\n\taudio.src = video.src || video.currentSrc || 'data:';\n\n\t// if (audio.src === 'data:') {\n\t//   TODO: wait for video to be selected\n\t// }\n\treturn audio;\n}\n\nvar lastRequests = [];\nvar requestIndex = 0;\nvar lastTimeupdateEvent;\n\nfunction setTime(video, time, rememberOnly) {\n\t// allow one timeupdate event every 200+ ms\n\tif ((lastTimeupdateEvent || 0) + 200 < Date.now()) {\n\t\tvideo[ಠevent] = true;\n\t\tlastTimeupdateEvent = Date.now();\n\t}\n\tif (!rememberOnly) {\n\t\tvideo.currentTime = time;\n\t}\n\tlastRequests[++requestIndex % 3] = time * 100 | 0 / 100;\n}\n\nfunction isPlayerEnded(player) {\n\treturn player.driver.currentTime >= player.video.duration;\n}\n\nfunction update(timeDiff) {\n\tvar player = this;\n\t// console.log('update', player.video.readyState, player.video.networkState, player.driver.readyState, player.driver.networkState, player.driver.paused);\n\tif (player.video.readyState >= player.video.HAVE_FUTURE_DATA) {\n\t\tif (!player.hasAudio) {\n\t\t\tplayer.driver.currentTime = player.video.currentTime + ((timeDiff * player.video.playbackRate) / 1000);\n\t\t\tif (player.video.loop && isPlayerEnded(player)) {\n\t\t\t\tplayer.driver.currentTime = 0;\n\t\t\t}\n\t\t}\n\t\tsetTime(player.video, player.driver.currentTime);\n\t} else if (player.video.networkState === player.video.NETWORK_IDLE && !player.video.buffered.length) {\n\t\t// this should happen when the source is available but:\n\t\t// - it's potentially playing (.paused === false)\n\t\t// - it's not ready to play\n\t\t// - it's not loading\n\t\t// If it hasAudio, that will be loaded in the 'emptied' handler below\n\t\tplayer.video.load();\n\t\t// console.log('Will load');\n\t}\n\n\t// console.assert(player.video.currentTime === player.driver.currentTime, 'Video not updating!');\n\n\tif (player.video.ended) {\n\t\tdelete player.video[ಠevent]; // allow timeupdate event\n\t\tplayer.video.pause(true);\n\t}\n}\n\n/**\n * METHODS\n */\n\nfunction play() {\n\t// console.log('play');\n\tvar video = this;\n\tvar player = video[ಠ];\n\n\t// if it's fullscreen, use the native player\n\tif(Document.fullscreenElement) {\n\t\tvideo[ಠplay]();\n\t\treturn;\n\t}\n\t/*\n\tif (video.webkitDisplayingFullscreen) {\n\t\tvideo[ಠplay]();\n\t\treturn;\n\t}\n\t*/\n\n\tif (player.driver.src !== 'data:' && player.driver.src !== video.src) {\n\t\t// console.log('src changed on play', video.src);\n\t\tsetTime(video, 0, true);\n\t\tplayer.driver.src = video.src;\n\t}\n\n\tif (!video.paused) {\n\t\treturn;\n\t}\n\tplayer.paused = false;\n\n\tif (!video.buffered.length) {\n\t\t// .load() causes the emptied event\n\t\t// the alternative is .play()+.pause() but that triggers play/pause events, even worse\n\t\t// possibly the alternative is preventing this event only once\n\t\tvideo.load();\n\t}\n\n\tplayer.driver.play();\n\tplayer.updater.start();\n\n\tif (!player.hasAudio) {\n\t\tdispatchEventAsync(video, 'play');\n\t\tif (player.video.readyState >= player.video.HAVE_ENOUGH_DATA) {\n\t\t\t// console.log('onplay');\n\t\t\tdispatchEventAsync(video, 'playing');\n\t\t}\n\t}\n}\nfunction pause(forceEvents) {\n\t// console.log('pause');\n\tvar video = this;\n\tvar player = video[ಠ];\n\n\tplayer.driver.pause();\n\tplayer.updater.stop();\n\n\t// if it's fullscreen, the developer the native player.pause()\n\t// This is at the end of pause() because it also\n\t// needs to make sure that the simulation is paused\n\t/*\n\tif (video.webkitDisplayingFullscreen) {\n\t\tvideo[ಠpause]();\n\t}\n\t*/\n\t\n\tif(Document.fullscreenElement) {\n\t\tvideo[ಠpause]();\n\t}\n\n\tif (player.paused && !forceEvents) {\n\t\treturn;\n\t}\n\n\tplayer.paused = true;\n\tif (!player.hasAudio) {\n\t\tdispatchEventAsync(video, 'pause');\n\t}\n\tif (video.ended) {\n\t\tvideo[ಠevent] = true;\n\t\tdispatchEventAsync(video, 'ended');\n\t}\n}\n\n/**\n * SETUP\n */\n\nfunction addPlayer(video, hasAudio) {\n\tvar player = video[ಠ] = {};\n\tplayer.paused = true; // track whether 'pause' events have been fired\n\tplayer.hasAudio = hasAudio;\n\tplayer.video = video;\n\tplayer.updater = intervalometer.frameIntervalometer(update.bind(player));\n\n\tif (hasAudio) {\n\t\tplayer.driver = getAudioFromVideo(video);\n\t} else {\n\t\tvideo.addEventListener('canplay', function () {\n\t\t\tif (!video.paused) {\n\t\t\t\t// console.log('oncanplay');\n\t\t\t\tdispatchEventAsync(video, 'playing');\n\t\t\t}\n\t\t});\n\t\tplayer.driver = {\n\t\t\tsrc: video.src || video.currentSrc || 'data:',\n\t\t\tmuted: true,\n\t\t\tpaused: true,\n\t\t\tpause: function () {\n\t\t\t\tplayer.driver.paused = true;\n\t\t\t},\n\t\t\tplay: function () {\n\t\t\t\tplayer.driver.paused = false;\n\t\t\t\t// media automatically goes to 0 if .play() is called when it's done\n\t\t\t\tif (isPlayerEnded(player)) {\n\t\t\t\t\tsetTime(video, 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget ended() {\n\t\t\t\treturn isPlayerEnded(player);\n\t\t\t}\n\t\t};\n\t}\n\n\t// .load() causes the emptied event\n\tvideo.addEventListener('emptied', function () {\n\t\t// console.log('driver src is', player.driver.src);\n\t\tvar wasEmpty = !player.driver.src || player.driver.src === 'data:';\n\t\tif (player.driver.src && player.driver.src !== video.src) {\n\t\t\t// console.log('src changed to', video.src);\n\t\t\tsetTime(video, 0, true);\n\t\t\tplayer.driver.src = video.src;\n\t\t\t// playing videos will only keep playing if no src was present when .play()’ed\n\t\t\tif (wasEmpty) {\n\t\t\t\tplayer.driver.play();\n\t\t\t} else {\n\t\t\t\tplayer.updater.stop();\n\t\t\t}\n\t\t}\n\t}, false);\n\n\t// stop programmatic player when OS takes over\n\tvideo.addEventListener('webkitbeginfullscreen', function () {\n\t\tif (!video.paused) {\n\t\t\t// make sure that the <audio> and the syncer/updater are stopped\n\t\t\tvideo.pause();\n\n\t\t\t// play video natively\n\t\t\tvideo[ಠplay]();\n\t\t} else if (hasAudio && !player.driver.buffered.length) {\n\t\t\t// if the first play is native,\n\t\t\t// the <audio> needs to be buffered manually\n\t\t\t// so when the fullscreen ends, it can be set to the same current time\n\t\t\tplayer.driver.load();\n\t\t}\n\t});\n\tif (hasAudio) {\n\t\tvideo.addEventListener('webkitendfullscreen', function () {\n\t\t\t// sync audio to new video position\n\t\t\tplayer.driver.currentTime = video.currentTime;\n\t\t\t// console.assert(player.driver.currentTime === video.currentTime, 'Audio not synced');\n\t\t});\n\n\t\t// allow seeking\n\t\tvideo.addEventListener('seeking', function () {\n\t\t\tif (lastRequests.indexOf(video.currentTime * 100 | 0 / 100) < 0) {\n\t\t\t\t// console.log('User-requested seeking');\n\t\t\t\tplayer.driver.currentTime = video.currentTime;\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction overloadAPI(video) {\n\tvar player = video[ಠ];\n\tvideo[ಠplay] = video.play;\n\tvideo[ಠpause] = video.pause;\n\tvideo.play = play;\n\tvideo.pause = pause;\n\tproxyProperty(video, 'paused', player.driver);\n\tproxyProperty(video, 'muted', player.driver, true);\n\tproxyProperty(video, 'playbackRate', player.driver, true);\n\tproxyProperty(video, 'ended', player.driver);\n\tproxyProperty(video, 'loop', player.driver, true);\n\tpreventEvent(video, 'seeking');\n\tpreventEvent(video, 'seeked');\n\tpreventEvent(video, 'timeupdate', ಠevent, false);\n\tpreventEvent(video, 'ended', ಠevent, false); // prevent occasional native ended events\n}\n\nfunction enableInlineVideo(video, hasAudio, onlyWhitelisted) {\n\tif ( hasAudio === void 0 ) hasAudio = true;\n\tif ( onlyWhitelisted === void 0 ) onlyWhitelisted = true;\n\n\tif ((onlyWhitelisted && !isWhitelisted) || video[ಠ]) {\n\t\treturn;\n\t}\n\taddPlayer(video, hasAudio);\n\toverloadAPI(video);\n\tvideo.classList.add('IIV');\n\tif (!hasAudio && video.autoplay) {\n\t\tvideo.play();\n\t}\n\tif (!/iPhone|iPod|iPad/.test(navigator.platform)) {\n\t\tconsole.warn('iphone-inline-video is not guaranteed to work in emulated environments');\n\t}\n}\n\nenableInlineVideo.isWhitelisted = isWhitelisted;\n\nmodule.exports = enableInlineVideo;","/*!\n * jQuery Mousewheel 3.1.13\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n */\n\n(function (factory) {\n    if ( typeof define === 'function' && define.amd ) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object') {\n        // Node/CommonJS style for Browserify\n        module.exports = factory;\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n\n    var toFix  = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll'],\n        toBind = ( 'onwheel' in document || document.documentMode >= 9 ) ?\n                    ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'],\n        slice  = Array.prototype.slice,\n        nullLowestDeltaTimeout, lowestDelta;\n\n    if ( $.event.fixHooks ) {\n        for ( var i = toFix.length; i; ) {\n            $.event.fixHooks[ toFix[--i] ] = $.event.mouseHooks;\n        }\n    }\n\n    var special = $.event.special.mousewheel = {\n        version: '3.1.12',\n\n        setup: function() {\n            if ( this.addEventListener ) {\n                for ( var i = toBind.length; i; ) {\n                    this.addEventListener( toBind[--i], handler, false );\n                }\n            } else {\n                this.onmousewheel = handler;\n            }\n            // Store the line height and page height for this particular element\n            $.data(this, 'mousewheel-line-height', special.getLineHeight(this));\n            $.data(this, 'mousewheel-page-height', special.getPageHeight(this));\n        },\n\n        teardown: function() {\n            if ( this.removeEventListener ) {\n                for ( var i = toBind.length; i; ) {\n                    this.removeEventListener( toBind[--i], handler, false );\n                }\n            } else {\n                this.onmousewheel = null;\n            }\n            // Clean up the data we added to the element\n            $.removeData(this, 'mousewheel-line-height');\n            $.removeData(this, 'mousewheel-page-height');\n        },\n\n        getLineHeight: function(elem) {\n            var $elem = $(elem),\n                $parent = $elem['offsetParent' in $.fn ? 'offsetParent' : 'parent']();\n            if (!$parent.length) {\n                $parent = $('body');\n            }\n            return parseInt($parent.css('fontSize'), 10) || parseInt($elem.css('fontSize'), 10) || 16;\n        },\n\n        getPageHeight: function(elem) {\n            return $(elem).height();\n        },\n\n        settings: {\n            adjustOldDeltas: true, // see shouldAdjustOldDeltas() below\n            normalizeOffset: true  // calls getBoundingClientRect for each event\n        }\n    };\n\n    $.fn.extend({\n        mousewheel: function(fn) {\n            return fn ? this.bind('mousewheel', fn) : this.trigger('mousewheel');\n        },\n\n        unmousewheel: function(fn) {\n            return this.unbind('mousewheel', fn);\n        }\n    });\n\n\n    function handler(event) {\n        var orgEvent   = event || window.event,\n            args       = slice.call(arguments, 1),\n            delta      = 0,\n            deltaX     = 0,\n            deltaY     = 0,\n            absDelta   = 0,\n            offsetX    = 0,\n            offsetY    = 0;\n        event = $.event.fix(orgEvent);\n        event.type = 'mousewheel';\n\n        // Old school scrollwheel delta\n        if ( 'detail'      in orgEvent ) { deltaY = orgEvent.detail * -1;      }\n        if ( 'wheelDelta'  in orgEvent ) { deltaY = orgEvent.wheelDelta;       }\n        if ( 'wheelDeltaY' in orgEvent ) { deltaY = orgEvent.wheelDeltaY;      }\n        if ( 'wheelDeltaX' in orgEvent ) { deltaX = orgEvent.wheelDeltaX * -1; }\n\n        // Firefox < 17 horizontal scrolling related to DOMMouseScroll event\n        if ( 'axis' in orgEvent && orgEvent.axis === orgEvent.HORIZONTAL_AXIS ) {\n            deltaX = deltaY * -1;\n            deltaY = 0;\n        }\n\n        // Set delta to be deltaY or deltaX if deltaY is 0 for backwards compatabilitiy\n        delta = deltaY === 0 ? deltaX : deltaY;\n\n        // New school wheel delta (wheel event)\n        if ( 'deltaY' in orgEvent ) {\n            deltaY = orgEvent.deltaY * -1;\n            delta  = deltaY;\n        }\n        if ( 'deltaX' in orgEvent ) {\n            deltaX = orgEvent.deltaX;\n            if ( deltaY === 0 ) { delta  = deltaX * -1; }\n        }\n\n        // No change actually happened, no reason to go any further\n        if ( deltaY === 0 && deltaX === 0 ) { return; }\n\n        // Need to convert lines and pages to pixels if we aren't already in pixels\n        // There are three delta modes:\n        //   * deltaMode 0 is by pixels, nothing to do\n        //   * deltaMode 1 is by lines\n        //   * deltaMode 2 is by pages\n        if ( orgEvent.deltaMode === 1 ) {\n            var lineHeight = $.data(this, 'mousewheel-line-height');\n            delta  *= lineHeight;\n            deltaY *= lineHeight;\n            deltaX *= lineHeight;\n        } else if ( orgEvent.deltaMode === 2 ) {\n            var pageHeight = $.data(this, 'mousewheel-page-height');\n            delta  *= pageHeight;\n            deltaY *= pageHeight;\n            deltaX *= pageHeight;\n        }\n\n        // Store lowest absolute delta to normalize the delta values\n        absDelta = Math.max( Math.abs(deltaY), Math.abs(deltaX) );\n\n        if ( !lowestDelta || absDelta < lowestDelta ) {\n            lowestDelta = absDelta;\n\n            // Adjust older deltas if necessary\n            if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {\n                lowestDelta /= 40;\n            }\n        }\n\n        // Adjust older deltas if necessary\n        if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {\n            // Divide all the things by 40!\n            delta  /= 40;\n            deltaX /= 40;\n            deltaY /= 40;\n        }\n\n        // Get a whole, normalized value for the deltas\n        delta  = Math[ delta  >= 1 ? 'floor' : 'ceil' ](delta  / lowestDelta);\n        deltaX = Math[ deltaX >= 1 ? 'floor' : 'ceil' ](deltaX / lowestDelta);\n        deltaY = Math[ deltaY >= 1 ? 'floor' : 'ceil' ](deltaY / lowestDelta);\n\n        // Normalise offsetX and offsetY properties\n        if ( special.settings.normalizeOffset && this.getBoundingClientRect ) {\n            var boundingRect = this.getBoundingClientRect();\n            offsetX = event.clientX - boundingRect.left;\n            offsetY = event.clientY - boundingRect.top;\n        }\n\n        // Add information to the event object\n        event.deltaX = deltaX;\n        event.deltaY = deltaY;\n        event.deltaFactor = lowestDelta;\n        event.offsetX = offsetX;\n        event.offsetY = offsetY;\n        // Go ahead and set deltaMode to 0 since we converted to pixels\n        // Although this is a little odd since we overwrite the deltaX/Y\n        // properties with normalized deltas.\n        event.deltaMode = 0;\n\n        // Add event and delta to the front of the arguments\n        args.unshift(event, delta, deltaX, deltaY);\n\n        // Clearout lowestDelta after sometime to better\n        // handle multiple device types that give different\n        // a different lowestDelta\n        // Ex: trackpad = 3 and mouse wheel = 120\n        if (nullLowestDeltaTimeout) { clearTimeout(nullLowestDeltaTimeout); }\n        nullLowestDeltaTimeout = setTimeout(nullLowestDelta, 200);\n\n        return ($.event.dispatch || $.event.handle).apply(this, args);\n    }\n\n    function nullLowestDelta() {\n        lowestDelta = null;\n    }\n\n    function shouldAdjustOldDeltas(orgEvent, absDelta) {\n        // If this is an older event and the delta is divisable by 120,\n        // then we are assuming that the browser is treating this as an\n        // older mouse wheel event and that we should divide the deltas\n        // by 40 to try and get a more usable deltaFactor.\n        // Side note, this actually impacts the reported scroll distance\n        // in older browsers and can cause scrolling to be slower than native.\n        // Turn this off by setting $.event.special.mousewheel.settings.adjustOldDeltas to false.\n        return special.settings.adjustOldDeltas && orgEvent.type === 'mousewheel' && absDelta % 120 === 0;\n    }\n\n}));\n","'use strict';\n\nvar index = typeof Symbol === 'undefined' ? function (description) {\n\treturn '@' + (description || '@') + Math.random();\n} : Symbol;\n\nmodule.exports = index;","/* globals document */\n/**\n * Finds all elements with a \"data-module-init\" attribute\n * and calls the corresponding script\n */\n\n\n\nfunction initializeModules() {\n  var modules = document.querySelectorAll( \"[data-module-init]\" );\n\n  for ( var i = 0; i < modules.length; i++ ) {\n    var el = modules[ i ];\n    var names = el.getAttribute( \"data-module-init\" ).split( \" \" );\n    var Module;\n    for ( var j = 0; j < names.length; j++ ) {\n\t \n      try {\n\t\t  \n        Module = require( \"modules/\" + names[ j ] );\n\t\t\n      } catch ( e ) {\n        Module = false;\n        console.log( names[ j ] + \" module does not exist.\" );\n      }\n\t  \n\n      // Initialize the module with the calling element\n      if ( Module ) {\n        new Module( el );\n      }\n    }\n  }\n  unique = false;\n}\n\nmodule.exports = initializeModules;\n","var initializeModules = require( \"./lib/init-modules.js\" );\n\nif ( document.readyState !== \"loading\" ) {\n\tinitializeModules();\n} else {\n\tdocument.addEventListener( \"DOMContentLoaded\", initializeModules );\n}\n\n\n","var settings = require( \"modules/settings\" ),\n\tthrottle = require(\"modules/throttle\");\n\n\nmodule.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window );\n\t\t\n\t\tfunction init(){\n\t\t\t$window.on('resize', winResize);\n\t\t\t//$('.wrapper').stop().fadeIn(3000);\n\t\t\t$('.wrapper').show().addClass('fade-in');\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction winResize(){\n\t\t\t\n\t\t\tif( $window.height() * 1.5 < $window.width() ) {\n\t\t\t\t$('body').addClass('landscape-format');\n\t\t\t} else {\n\t\t\t\t$('body').removeClass('landscape-format')\n\t\t\t}\n\t\t\t\t\n\t\t}\n\n\t\t\n\t\twinResize();\n\t\tinit();\n\t\t\n};\n  ","var makeVideoPlayableInline = require('iphone-inline-video'),\n\tsettings = require('modules/settings'),\n\tmousewheel = require('jquery-mousewheel')($);\n\nvar controlScroll = module.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n\t\t$controlScrollcroll = $el.find('.video-scroll'),\n\t\t$videoWidth = $('.video-holder').width(),\n\t\tvidScrollWidth = 0,\n\t\txListener = 0,\n\t\txPos = 0,\n\t\tscrollInt,\n\t\tinitLoad = true,\n\t\tautoScrollTimer,\n\t\tautoScroll = false,\n\t\tlast_position = {},\n\t\t$scrollContainer = $('.wrapper'),\n\t\tst = 0;\n\n\t\tconsole.log('%c[control-scroll module init]', 'color:blue;');\n\t\t\n\t\tcontrolScroll.setScrollContainer = function(scrollContainer) {\n\t\t\t$scrollContainer = scrollContainer;\n\t\t}\n\t\t\n\t\tcontrolScroll.scroll = function(y) {\n\t\t\tst = y;\n\t\t\t//console.log(st);\n\t\t\tthis.fadeOverlay();\n\t\t\tthis.checkScrollPos();\n\t\t}\n\t\t\n\t\tcontrolScroll.scrollTo = function(y) {\n\t\t\tcontrolScroll.scroll(y);\n\t\t\tif(!settings.isMobile) {\n\t\t\t\t$scrollContainer.scrollTop(y);\n\t\t\t} else {\n\t\t\t\tsettings.scroller.scrollTo(0, -y)\n\t\t\t\t//settings.scroller[0].scrollTo(y)\n\t\t\t\t//settings.scroller.scrollTo(y);\n\t\t\t\t//$scrollContainer.scrollTo(y);\n\t\t\t}\n\t\t}\n\t\t\n\t\tcontrolScroll.scrollMobile = function(scroller, y) {\n\t\t\t//scroller.scrollTo(0, y);\n\t\t}\n\t\t\n\t\tcontrolScroll.fadeOverlay = function() {\n\t\t\t//st = y;\n\t\t\t\n\t\t\t//console.log('st ' +scrollContainer[0].scrollHeight);\n\t\t\t\n\t\t\tif(!$scrollContainer.hasClass('looped')) {\n\t\t\t\tif(st < $window.height()) {\n\t\t\t\t\t$('.top-section.bottom-fixed').css('opacity', 0).removeClass('show');\n\t\t\t\t\tvar op = (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\n\t\t\t\t\t//console.log('below window height');\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( st < $window.height() * 2) {\n\t\t\t\t\n\t\t\t\t\tvar op = st - $window.height() + (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('below two times')\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - ($window.height() * 2 ) ) {\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height()  )\n\t\t\t\t//console.log( $scrollContainer[0].scrollHeight / (st + $window.height()) )\n\t\t\t\t//console.log($scrollContainer[0].scrollHeight);\n\t\t\t\t//console.log(st + $window.height());\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  )/ $window.height()  )\n\t\t\t\t//console.log( ($scrollContainer[0].scrollHeight - st) / ( $scrollContainer[0].scrollHeight - $window.height()) )\n\t\t\t\t\n\t\t\t\t//console.log('at end of page')\n\t\t\t\t\n\t\t\t\tvar op = ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height();\n\t\t\t\t\n\t\t\t\t//console.log(op);\n\t\t\t\t\n\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t$('.top-section.bottom-fixed').addClass('show').css('opacity', 1 - op);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tcontrolScroll.checkScrollPos = function(){\n\t\t\tclearInterval(scrollInt);\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif(st < $window.height()) {\n\t\t\t\t\n\t\t\t\t//$('body').scrollTop($('body')[0].scrollHeight);\n\t\t\t}\n\t\t\t\n\t\t\tif($scrollContainer.hasClass('looped')) {\n\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\n\t\t\t\tif(st > $window.height()) {\n\t\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\t//$scrollContainer.scrollTop(0);\n\t\t\t\t} \n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - $window.height()) {\n\t\t\t\t$scrollContainer.addClass('looped');\n\t\t\t\t$scrollContainer.animate({ scrollTop:0 }, 0)\n\t\t\t\t$scrollContainer.scrollTop(0);\n\t\t\t\tst = 0;\n\t\t\t\t//$('.top-section.bottom-fixed').css('opacity', 0)\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/*\n\t\tfunction checkScrollPos(){\n\t\t\tclearInterval(scrollInt);\n\t\t\tvar st = $scrollContainer.scrollTop();\n\t\t\t\n\t\t\t\n\t\t\tif(st < $window.height()) {\n\t\t\t\t$('.top-section.bottom-fixed').css('opacity', 0).removeClass('show');\n\t\t\t\t//$('body').scrollTop($('body')[0].scrollHeight);\n\t\t\t}\n\t\t\t\n\t\t\tif($scrollContainer.hasClass('looped')) {\n\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\n\t\t\t\tif(st > $window.height()) {\n\t\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\t//$scrollContainer.scrollTop(0);\n\t\t\t\t} \n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - $window.height()) {\n\t\t\t\t$('.wrapper').addClass('looped');\n\t\t\t\t$scrollContainer.animate({ scrollTop:0 }, 0)\n\t\t\t\t$scrollContainer.scrollTop(0);\n\t\t\t\t//$('.top-section.bottom-fixed').css('opacity', 0)\n\t\t\t}\n\t\t}\n\t\t*/\n\t\t\n\t\t/*\n\t\tfunction fadeOverlay(){\n\t\t\tvar st = $scrollContainer.scrollTop();\n\t\t\tif(!$scrollContainer.hasClass('looped')) {\n\t\t\t\tif(st < $window.height()) {\n\t\t\t\t\n\t\t\t\t\tvar op = (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( st < $window.height() * 2) {\n\t\t\t\t\n\t\t\t\t\tvar op = st - $window.height() + (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - ($window.height() * 2 ) ) {\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height()  )\n\t\t\t\t//console.log( $scrollContainer[0].scrollHeight / (st + $window.height()) )\n\t\t\t\t//console.log($scrollContainer[0].scrollHeight);\n\t\t\t\t//console.log(st + $window.height());\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  )/ $window.height()  )\n\t\t\t\t//console.log( ($scrollContainer[0].scrollHeight - st) / ( $scrollContainer[0].scrollHeight - $window.height()) )\n\t\t\t\tvar op = ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height();\n\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t$('.top-section.bottom-fixed').addClass('show').css('opacity', 1 - op);\n\t\t\t}\n\t\t}\n\t\t*/\n\t\t\n\t\tcontrolScroll.stopAutoScroll = function(){\n\t\t\tclearInterval(scrollInt);\n\t\t\t$('body').removeClass('autoScroll');\n\t\t\tsetTimeout(function(){ $('body').removeClass('scrolling autoScroll'); }, 100);\n\t\t\tautoScroll = false;\n\t\t\tclearTimeout(autoScrollTimer);\n\t\t\tautoScrollTimer = setTimeout(function(){\n\t\t\t\tautoScroll = true;\n\t\t\t}, 10000);\n\t\t}\n\t\t\n\t\tfunction startAutoScroll(){\n\t\t\t$('body').addClass('autoScroll');\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/*\n\t\t$window.on('mousedown touchstart', function(event){\n\t\t\t$('body').addClass('mousedown');\n\t\t\t\n\t\t\t$window.on('mousemove', winMouseMove);\n\t\t\t\n\t\t\tstopAutoScroll();\n\t\t}).on('mouseup touchend', function(){\n\t\t\t$('body').removeClass('mousedown');\n\t\t\t$window.off('mousemove');\n\t\t});\n\t\t*/\n\t\t\n\n\t\t\n\t\t\n\t\t$window.on('mousewheel touchmove touchstart', function(event){\n\t\t\t\n\t\t\tcontrolScroll.stopAutoScroll();\n\t\t\t\n\t\t\tif(event.type == 'mousewheel') {\n\t\t\t\tif(event.deltaY < 0) {\n\t\t\t\t\txPos += event.deltaY;\n\t\t\t\t\txListener += event.deltaY;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif(event.deltaX > 1) {\n\t\t\t\t\txPos -= event.deltaX;\n\t\t\t\t\txListener -= event.deltaX;\n\t\t\t\t}\n\t\t\t} else if(event.type == 'touchmove') {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t//ereturn true;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//console.log(event.type)\n\t\t\t$('body').addClass('scrolling');\n\t\t\t\n\t\t\tclearTimeout($.data(this, 'timer'));\n\t\t\t  $.data(this, 'timer', setTimeout(function() {\n\t\t\t\t  $('body').removeClass('scrolling');\n\t\t\t     //do something\n\t\t\t  }, 250));\n\t\t\t  \n\t\t\t//checkScrollPos()  \n\t\t\t//stopAutoScroll();\n\t\t});\n\t\t\n\t\t/*\n\t\t$window.on('mousewheel touchmove', function(event){\n\t\t\t\n\t\t\t\n\t\t\tif(event.type == 'mousewheel') {\n\t\t\t\tif(event.deltaY < 0) {\n\t\t\t\t\txPos += event.deltaY;\n\t\t\t\t\txListener += event.deltaY;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif(event.deltaX > 1) {\n\t\t\t\t\txPos -= event.deltaX;\n\t\t\t\t\txListener -= event.deltaX;\n\t\t\t\t}\n\t\t\t} else if(event.type == 'touchmove') {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//console.log(event.type)\n\t\t\t$('body').addClass('scrolling');\n\t\t\t\n\t\t\tclearTimeout($.data(this, 'timer'));\n\t\t\t  $.data(this, 'timer', setTimeout(function() {\n\t\t\t\t  $('body').removeClass('scrolling');\n\t\t\t     //do something\n\t\t\t  }, 250));\n\t\t\t  \n\t\t\tcheckScrollPos()  \n\t\t\tstopAutoScroll();\n\t\t});\n\t\t*/\n\t\n\t\n\t\tcontrolScroll.init = function(){\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tautoScrollTimer = setTimeout(function(){\n\t\t\t\tautoScroll = true;\n\t\t\t\tconsole.log('set autoscroll true')\n\t\t\t}, 6000);\n\t\t\t\n\t\t\t\n\t\t\t// Usage\n\t\t\tanimLoop(function( deltaT ) {\n\t\t\t\t  //console.log('animLoop')\n\t\t\t\t\t\n\t\t\t\t  //console.log($window.width())\n\t\t\t\t  //console.log ($('video').eq(0).position().left)\n\t\t\t\t  if(autoScroll) {\n\t\t\t\t\t  st++;\n\t\t\t\t\t  //controlScroll.scroll(st);\n\t\t\t\t\t  console.log(st);\n\t\t\t\t\t  controlScroll.scrollTo(st);\n\t\t\t\t\t  //console.log('scroll')\n\t\t\t\t\t  //$('input').blur();\n\t\t\t\t\t  //startAutoScroll();\n\t\t\t\t\t  //checkScrollPos();\n\t\t\t\t\t  //fadeOverlay();\n\t\t\t\t  \t // $scrollContainer.scrollTop($scrollContainer.scrollTop() + 1);\n\t\t\t\t\t\n\t\t\t\t  }\n\t\t\t\t  watchcontrolScroll();\n\t\t\t\t  \n\t\t\t    //elem.style.left = ( left += 10 * deltaT / 16 ) + \"px\";\n\n\t\t\t// optional 2nd arg: elem containing the animation\n\t\t\t} );\n\t\t}\n\t\t\n\t\t\n\t\t/*\n\t\tfunction init(){\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tsetcontrolScroll();\n\t\t\tfadeOverlay();\n\t\t\t$('#video-container').fadeIn(6000);\n\t\t\t\n\t\t\t$scrollContainer.on('scroll', function(event) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\t//console.log('scroll triggered')\n\t\t\t\t//var gradientTopPos = $('body').scrollTop();\n\t\t\t\n\t\t\t\tcheckScrollPos();\n\t\t\t\tfadeOverlay();\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\t//console.log(event.deltaX)\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t    watchcontrolScroll();\n\t\t\t\t$('body').addClass('scrolling');\n\t\t\t\n\t\t\t\t//stopAutoScroll();\n\t\t\t  \n\t\t\t  \n\t\t\t    //console.log(event.deltaX, event.deltaY, event.deltaFactor);\n\t\t\t});\n\t\t\t\n\t\t\tautoScrollTimer = setTimeout(function(){\n\t\t\t\tautoScroll = true;\n\t\t\t}, 6000);\n\t\t\t\n\t\t\t// Usage\n\t\t\tanimLoop(function( deltaT ) {\n\t\t\t\txPos -= .2;\n\t\t\t\txListener -= .2;\n\t\t\t\t$('.video-scroll').css({\n\t\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"\n\t\t\t\t  });​\n\t\t\t\t\t\n\t\t\t\t  //console.log($window.width())\n\t\t\t\t  //console.log ($('video').eq(0).position().left)\n\t\t\t\t  if(autoScroll) {\n\t\t\t\t\t  $('input').blur();\n\t\t\t\t\t  startAutoScroll();\n\t\t\t\t\t  checkScrollPos();\n\t\t\t\t\t  fadeOverlay();\n\t\t\t\t  \t  $scrollContainer.scrollTop($scrollContainer.scrollTop() + 1);\n\t\t\t\t\t  //initLoad = false;\n\t\t\t\t  }\n\t\t\t\t  watchcontrolScroll();\n\t\t\t\t  \n\t\t\t    //elem.style.left = ( left += 10 * deltaT / 16 ) + \"px\";\n\n\t\t\t// optional 2nd arg: elem containing the animation\n\t\t\t} );\n\t\t\t\n\t\t\t$('.newsletter input').on('focus', inputFocus);\n\t\t\t\n\t\t\t$window.on('resize', winResize);\n\t\t\t\n\t\t}\n\t\t*/\n\t\t\n\t\tfunction inputFocus(){\n\t\t\tif(!$('.bottom-fixed').hasClass('show')) {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t}\n\t\t\t$scrollContainer\n\t\t}\n\t\t\n\t\tfunction watchcontrolScroll(){\n\t\t\t\n\t\t\t//console.log( $('.video-1-clone').position().left )\n\t\t\t\n\t\t\t$('.video-holder').each(function(){\n\t\t\t\tif($(this).position().left + $(this).width() >= 0 && $(this).position().left <= $window.width() ) {\n\t\t\t\t\t$(this).find('video')[0].play();\n\t\t\t\t} else {\n\t\t\t\t\t//console.log($(this).find('video').attr('src'))\n\t\t\t\t\t$(this).find('video')[0].pause();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif( $('.video-1-clone').position().left <= 0 ) {\n\t\t\t\txPos = 0;\n\t\t\t\t\n\t\t\t\t$('.video-scroll').css({\n\t\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"\n\t\t\t\t  });​\n\t\t\t\t  \n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t/*\n\t\t\tif(xPos < -vidScrollWidth ) {\n\t\t\t\txPos = 0;\n\t\t\t\txListener = 0;\n\t\t\t\t$controlScrollcroll.append($('.video-holder').eq(0));\n\t\t\t\t\n\t\t\t\tfor(var i=0; i<$('.video-holder').length; i++) {\n\t\t\t\t\t$('.video-holder').eq(i).css('left', ( $videoWidth * i) + 'px');\n\t\t\t\t}\n\t\t\t\t$('.video-holder').eq(1).find('video')[0].play();\n\t\t\t\tconsole.log('reset entire piece')\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t\n\t\t\tif(xListener < -$videoWidth) {\n\t\t\t\txListener = 0;\n\t\t\t\tvar _left = Number( $('.video-holder').last().css('left').split('px').join('') ) + $videoWidth;\n\t\t\t\n\t\t\t\t$('.video-holder').eq(2).find('video')[0].play();\n\t\t\t\t$('.video-holder').eq(0).find('video')[0].pause();\n\t\t\t\t$('.video-holder').eq(0).css('left', _left + 'px')\n\t\t\t\t$controlScrollcroll.append($('.video-holder').eq(0));\n\t\t\t}\n\t\t\t*/\n\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction setcontrolScroll(){\n\t\t\tvidScrollWidth = 0;\n\t\t\t$('.video-holder').each(function(){\n\t\t\t\t$(this).css('left', $(this).width() * $(this).index());\n\t\t\t\tvidScrollWidth += $(this).width(); \n\t\t\t});\n\t\t\t$controlScrollcroll.css('width', vidScrollWidth);\n\t\t\t//console.log(vidScrollWidth);\n\t\t}\n\t\t\n\n\t\t\n\t\n\t\tfunction animLoop( render, element ) {\n\t\t    var running, lastFrame = +new Date;\n\t\t    function loop( now ) {\n\t\t        // stop the loop if render returned false\n\t\t        if ( running !== false ) {\n\t\t            requestAnimationFrame( loop, element );\n\t\t            running = render( now - lastFrame );\n\t\t            lastFrame = now;\n\t\t        }\n\t\t    }\n\t\t    loop( lastFrame );\n\t\t}\n\n\n\t\t\n\t\tfunction winResize(){\n\t\t\t//$videoWidth = $('.video-holder').width();\n\t\t\t//setcontrolScroll();\n\t\t}\n\t\t\n\t\tcontrolScroll.init();\n\t\t\n};\n  ","var makeVideoPlayableInline = require('iphone-inline-video'),\n\tsettings = require('modules/settings'),\n\tmousewheel = require('jquery-mousewheel')($);\n\nvar controlscroll = module.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n\t\t$videoScroll = $el.find('.video-scroll'),\n\t\t$videoWidth = $('.video-holder').width(),\n\t\tvidScrollWidth = 0,\n\t\txListener = 0,\n\t\txPos = 0,\n\t\tscrollInt,\n\t\tinitLoad = true,\n\t\tautoScrollTimer,\n\t\tautoScroll = false,\n\t\tlast_position = {},\n\t\t$scrollContainer = $('.wrapper'),\n\t\tst;\n\n\t\tconsole.log('%c[video module init]', 'color:blue;');\n\t\t\n\t\tcontrolscroll.getName = function(){\n\t\t\treturn 'hi';\n\t\t}\n\t\t\n\t\tcontrolscroll.setScrollContainer = function(scrollContainer){\n\t\t\t$scrollContainer = scrollContainer;\n\t\t}\n\t\t\n\t\tcontrolscroll.scroll = function(y) {\n\t\t\t\n\t\t}\n\t\n\t\t\n\t\tcontrolscroll.fadeOverlay = function(scrollContainer, y) {\n\t\t\tst = y;\n\t\t\t\n\t\t\t//console.log('st ' +scrollContainer[0].scrollHeight);\n\t\t\t\n\t\t\tif(!scrollContainer.hasClass('looped')) {\n\t\t\t\tif(st < $window.height()) {\n\t\t\t\t\t$('.top-section.bottom-fixed').css('opacity', 0).removeClass('show');\n\t\t\t\t\tvar op = (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('below window height');\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( st < $window.height() * 2) {\n\t\t\t\t\n\t\t\t\t\tvar op = st - $window.height() + (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('below two times')\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(st >= scrollContainer[0].scrollHeight - ($window.height() * 2 ) ) {\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height()  )\n\t\t\t\t//console.log( $scrollContainer[0].scrollHeight / (st + $window.height()) )\n\t\t\t\t//console.log($scrollContainer[0].scrollHeight);\n\t\t\t\t//console.log(st + $window.height());\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  )/ $window.height()  )\n\t\t\t\t//console.log( ($scrollContainer[0].scrollHeight - st) / ( $scrollContainer[0].scrollHeight - $window.height()) )\n\t\t\t\t\n\t\t\t\tconsole.log('at end of page')\n\t\t\t\t\n\t\t\t\tvar op = ( scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height();\n\t\t\t\t\n\t\t\t\tconsole.log(op);\n\t\t\t\t\n\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t$('.top-section.bottom-fixed').addClass('show').css('opacity', 1 - op);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tcontrolscroll.checkScrollPos = function(){\n\t\t\tclearInterval(scrollInt);\n\t\t\tvar st = $scrollContainer.scrollTop();\n\t\t\t\n\t\t\t\n\t\t\tif(st < $window.height()) {\n\t\t\t\t\n\t\t\t\t//$('body').scrollTop($('body')[0].scrollHeight);\n\t\t\t}\n\t\t\t\n\t\t\tif($scrollContainer.hasClass('looped')) {\n\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\n\t\t\t\tif(st > $window.height()) {\n\t\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\t//$scrollContainer.scrollTop(0);\n\t\t\t\t} \n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - $window.height()) {\n\t\t\t\t$('.wrapper').addClass('looped');\n\t\t\t\t$scrollContainer.animate({ scrollTop:0 }, 0)\n\t\t\t\t$scrollContainer.scrollTop(0);\n\t\t\t\t//$('.top-section.bottom-fixed').css('opacity', 0)\n\t\t\t}\n\t\t}\n\t\t\n\n\t\t\n\t\tfunction startAutoScroll(){\n\t\t\t$('body').addClass('autoScroll');\n\t\t}\n\t\t\n\t\tfunction stopAutoScroll(){\n\t\t\t$('body').removeClass('autoScroll');\n\t\t\tsetTimeout(function(){ $('body').removeClass('scrolling autoScroll'); }, 100);\n\t\t\tautoScroll = false;\n\t\t\tclearTimeout(autoScrollTimer);\n\t\t\tautoScrollTimer = setTimeout(function(){\n\t\t\t\tautoScroll = true;\n\t\t\t}, 10000);\n\t\t}\n\n\t\t\n\n\t\t$window.on('mousewheel touchmove touchstart', function(event){\n\t\t\t\n\t\t\t\n\t\t\tif(event.type == 'mousewheel') {\n\t\t\t\tif(event.deltaY < 0) {\n\t\t\t\t\txPos += event.deltaY;\n\t\t\t\t\txListener += event.deltaY;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif(event.deltaX > 1) {\n\t\t\t\t\txPos -= event.deltaX;\n\t\t\t\t\txListener -= event.deltaX;\n\t\t\t\t}\n\t\t\t} else if(event.type == 'touchmove') {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//console.log(event.type)\n\t\t\t$('body').addClass('scrolling');\n\t\t\t\n\t\t\tclearTimeout($.data(this, 'timer'));\n\t\t\t  $.data(this, 'timer', setTimeout(function() {\n\t\t\t\t  $('body').removeClass('scrolling');\n\t\t\t     //do something\n\t\t\t  }, 250));\n\t\t\t  \n\t\t\t//checkScrollPos()  \n\t\t\t//stopAutoScroll();\n\t\t});\n\n\t\n\t\t\n\t\t\n\t\t\n\t\tfunction init(){\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tsetVideos();\n\t\t\tfadeOverlay();\n\t\t\t$('#video-container').fadeIn(6000);\n\t\t\t\n\t\t\t$scrollContainer.on('scroll', function(event) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\t//console.log('scroll triggered')\n\t\t\t\t//var gradientTopPos = $('body').scrollTop();\n\t\t\t\n\t\t\t\tcheckScrollPos();\n\t\t\t\tfadeOverlay();\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\t//console.log(event.deltaX)\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t    watchVideos();\n\t\t\t\t$('body').addClass('scrolling');\n\t\t\t\n\t\t\t\t//stopAutoScroll();\n\t\t\t  \n\t\t\t  \n\t\t\t    //console.log(event.deltaX, event.deltaY, event.deltaFactor);\n\t\t\t});\n\t\t\t\n\t\t\tautoScrollTimer = setTimeout(function(){\n\t\t\t\tautoScroll = true;\n\t\t\t}, 6000);\n\t\t\t\n\t\t\t// Usage\n\t\t\tanimLoop(function( deltaT ) {\n\t\t\t\txPos -= .2;\n\t\t\t\txListener -= .2;\n\t\t\t\t$('.video-scroll').css({\n\t\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"\n\t\t\t\t  });​\n\t\t\t\t\t\n\t\t\t\t  //console.log($window.width())\n\t\t\t\t  //console.log ($('video').eq(0).position().left)\n\t\t\t\t  if(autoScroll) {\n\t\t\t\t\t  //$('input').blur();\n\t\t\t\t\t  startAutoScroll();\n\t\t\t\t\t  checkScrollPos();\n\t\t\t\t\t  fadeOverlay();\n\t\t\t\t  \t  $scrollContainer.scrollTop($scrollContainer.scrollTop() + 1);\n\t\t\t\t\t  //initLoad = false;\n\t\t\t\t  }\n\t\t\t\t  watchVideos();\n\t\t\t\t  \n\t\t\t    //elem.style.left = ( left += 10 * deltaT / 16 ) + \"px\";\n\n\t\t\t// optional 2nd arg: elem containing the animation\n\t\t\t} );\n\t\t\t\n\t\t\t$('.newsletter input').on('focus', inputFocus);\n\t\t\t\n\t\t\t$window.on('resize', winResize);\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction inputFocus(){\n\t\t\tif(!$('.bottom-fixed').hasClass('show')) {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t}\n\t\t\t$scrollContainer\n\t\t}\n\t\t\n\t\tfunction watchVideos(){\n\t\t\t\n\t\t\t//console.log( $('.video-1-clone').position().left )\n\t\t\t\n\t\t\t$('.video-holder').each(function(){\n\t\t\t\tif($(this).position().left + $(this).width() >= 0 && $(this).position().left <= $window.width() ) {\n\t\t\t\t\t$(this).find('video')[0].play();\n\t\t\t\t} else {\n\t\t\t\t\t//console.log($(this).find('video').attr('src'))\n\t\t\t\t\t$(this).find('video')[0].pause();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif( $('.video-1-clone').position().left <= 0 ) {\n\t\t\t\txPos = 0;\n\t\t\t\t\n\t\t\t\t$('.video-scroll').css({\n\t\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"\n\t\t\t\t  });​\n\t\t\t\t  \n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t/*\n\t\t\tif(xPos < -vidScrollWidth ) {\n\t\t\t\txPos = 0;\n\t\t\t\txListener = 0;\n\t\t\t\t$videoScroll.append($('.video-holder').eq(0));\n\t\t\t\t\n\t\t\t\tfor(var i=0; i<$('.video-holder').length; i++) {\n\t\t\t\t\t$('.video-holder').eq(i).css('left', ( $videoWidth * i) + 'px');\n\t\t\t\t}\n\t\t\t\t$('.video-holder').eq(1).find('video')[0].play();\n\t\t\t\tconsole.log('reset entire piece')\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t\n\t\t\tif(xListener < -$videoWidth) {\n\t\t\t\txListener = 0;\n\t\t\t\tvar _left = Number( $('.video-holder').last().css('left').split('px').join('') ) + $videoWidth;\n\t\t\t\n\t\t\t\t$('.video-holder').eq(2).find('video')[0].play();\n\t\t\t\t$('.video-holder').eq(0).find('video')[0].pause();\n\t\t\t\t$('.video-holder').eq(0).css('left', _left + 'px')\n\t\t\t\t$videoScroll.append($('.video-holder').eq(0));\n\t\t\t}\n\t\t\t*/\n\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction setVideos(){\n\t\t\tvidScrollWidth = 0;\n\t\t\t$('.video-holder').each(function(){\n\t\t\t\t$(this).css('left', $(this).width() * $(this).index());\n\t\t\t\tvidScrollWidth += $(this).width(); \n\t\t\t});\n\t\t\t$videoScroll.css('width', vidScrollWidth);\n\t\t\t//console.log(vidScrollWidth);\n\t\t}\n\t\t\n\t\t/*\n\t\tsetInterval(function(){\n\t\t\txPos-= 1;\n\t\t\t$('.video-scroll').css({\n\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"\n\t\t\t  });​\n\t\t}, 10);\n\t\t*/\n\t\t\n\t\n\t\tfunction animLoop( render, element ) {\n\t\t    var running, lastFrame = +new Date;\n\t\t    function loop( now ) {\n\t\t        // stop the loop if render returned false\n\t\t        if ( running !== false ) {\n\t\t            requestAnimationFrame( loop, element );\n\t\t            running = render( now - lastFrame );\n\t\t            lastFrame = now;\n\t\t        }\n\t\t    }\n\t\t    loop( lastFrame );\n\t\t}\n\n\t\t\n\t\t\n\t\t/*\n\t\t$('.video-scroll').velocity({\n\t\t\ttranslateZ: 0, // Force HA by animating a 3D property\n\t\t    translateX: \"-10000px\"\n\t\t}, {\n\t\t    \n\t\t\tduration:100000,\n\t\t    easing: \"linear\",\n\t\t});\n\t\t*/\n\t\t\n\t\tfunction winResize(){\n\t\t\t$videoWidth = $('.video-holder').width();\n\t\t\tsetVideos();\n\t\t}\n\t\t\n\t\tif(!settings.isMobile) {\n\t\t\tinit();\n\t\t}\n\t\t\n};\n  ","var makeVideoPlayableInline = require('iphone-inline-video'),\n\tsettings = require('modules/settings'),\n\tmousewheel = require('jquery-mousewheel')($),\n\tcontrolScroll = require(\"modules/control-scroll\"),\n\tvideos = require(\"modules/videos\"),\n\tform = require(\"modules/form\")\n\nvar desktopScroll = module.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n\t\t$videoScroll = $el.find('.video-scroll'),\n\t\t$videoWidth = $('.video-holder').width(),\n\t\tvidScrollWidth = 0,\n\t\txListener = 0,\n\t\txPos = 0,\n\t\tscrollInt,\n\t\tinitLoad = true,\n\t\tautoScrollTimer,\n\t\tautoScroll = false,\n\t\tlast_position = {},\n\t\t$scrollContainer = $('.wrapper');\n\n\t\tconsole.log('%c[desktop module init]', 'color:blue;');\n\t\t\n\t\t/*\n\t\tfunction checkScrollPos(){\n\t\t\tclearInterval(scrollInt);\n\t\t\tvar st = $scrollContainer.scrollTop();\n\t\t\t\n\t\t\t\n\t\t\tif(st < $window.height()) {\n\t\t\t\t$('.top-section.bottom-fixed').css('opacity', 0).removeClass('show');\n\t\t\t\t//$('body').scrollTop($('body')[0].scrollHeight);\n\t\t\t}\n\t\t\t\n\t\t\tif($scrollContainer.hasClass('looped')) {\n\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\n\t\t\t\tif(st > $window.height()) {\n\t\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\t//$scrollContainer.scrollTop(0);\n\t\t\t\t} \n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - $window.height()) {\n\t\t\t\t$('.wrapper').addClass('looped');\n\t\t\t\t$scrollContainer.animate({ scrollTop:0 }, 0)\n\t\t\t\t$scrollContainer.scrollTop(0);\n\t\t\t\t//$('.top-section.bottom-fixed').css('opacity', 0)\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction fadeOverlay(){\n\t\t\tvar st = $scrollContainer.scrollTop();\n\t\t\tif(!$scrollContainer.hasClass('looped')) {\n\t\t\t\tif(st < $window.height()) {\n\t\t\t\t\n\t\t\t\t\tvar op = (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( st < $window.height() * 2) {\n\t\t\t\t\n\t\t\t\t\tvar op = st - $window.height() + (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - ($window.height() * 2 ) ) {\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height()  )\n\t\t\t\t//console.log( $scrollContainer[0].scrollHeight / (st + $window.height()) )\n\t\t\t\t//console.log($scrollContainer[0].scrollHeight);\n\t\t\t\t//console.log(st + $window.height());\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  )/ $window.height()  )\n\t\t\t\t//console.log( ($scrollContainer[0].scrollHeight - st) / ( $scrollContainer[0].scrollHeight - $window.height()) )\n\t\t\t\tvar op = ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height();\n\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t$('.top-section.bottom-fixed').addClass('show').css('opacity', 1 - op);\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction startAutoScroll(){\n\t\t\t$('body').addClass('autoScroll');\n\t\t}\n\t\t\n\t\tfunction stopAutoScroll(){\n\t\t\t$('body').removeClass('autoScroll');\n\t\t\tsetTimeout(function(){ $('body').removeClass('scrolling autoScroll'); }, 100);\n\t\t\tautoScroll = false;\n\t\t\tclearTimeout(autoScrollTimer);\n\t\t\tautoScrollTimer = setTimeout(function(){\n\t\t\t\tautoScroll = true;\n\t\t\t}, 10000);\n\t\t}\n\t\t\n\t\t$window.on('mousedown touchstart', function(event){\n\t\t\t$('body').addClass('mousedown');\n\t\t\t\n\t\t\t$window.on('mousemove', winMouseMove);\n\t\t\t\n\t\t\tstopAutoScroll();\n\t\t}).on('mouseup touchend', function(){\n\t\t\t$('body').removeClass('mousedown');\n\t\t\t$window.off('mousemove');\n\t\t});\n\t\t*/\n\t\t\n\t\t/*\n\t\tfunction winMouseMove(event) {\n\t\t\t//if(event)\n\t\t\t\n\t\t\t\n\t\t\t//check to make sure there is data to compare against\n\t\t    if (typeof(last_position.x) != 'undefined') {\n\n\t\t        //get the change from last position to this position\n\t\t        var deltaX = last_position.x - event.clientX,\n\t\t            deltaY = last_position.y - event.clientY;\n\n\t\t        //check which direction had the highest amplitude and then figure out direction by checking if the value is greater or less than zero\n\t\t        if (Math.abs(deltaX) > Math.abs(deltaY) && deltaX > 0) {\n\t\t            //left\n\t\t\t\t\tconsole.log('moving left')\n\t\t\t\t\txPos -= Math.abs(deltaX);\n\t\t        } else if (Math.abs(deltaX) > Math.abs(deltaY) && deltaX < 0) {\n\t\t            //right\n\t\t        } else if (Math.abs(deltaY) > Math.abs(deltaX) && deltaY > 0) {\n\t\t            //up\n\t\t        } else if (Math.abs(deltaY) > Math.abs(deltaX) && deltaY < 0) {\n\t\t            //down\n\t\t        }\n\t\t    }\n\n\t\t    //set the new last position to the current for next time\n\t\t    last_position = {\n\t\t        x : event.clientX,\n\t\t        y : event.clientY\n\t\t    };\n\t\t\t\n\t\t\t\n\t\t}\n\t\t*/\n\t\t\n\t\t\n\t\t$window.on('mousewheel touchmove', function(event){\n\t\t\tconsole.log('mousewheel')\n\t\t\t\n\t\t\tif(event.type == 'mousewheel') {\n\t\t\t\tif(event.deltaY < 0) {\n\t\t\t\t\txPos += event.deltaY;\n\t\t\t\t\txListener += event.deltaY;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif(event.deltaX > 1) {\n\t\t\t\t\txPos -= event.deltaX;\n\t\t\t\t\txListener -= event.deltaX;\n\t\t\t\t}\n\t\t\t} else if(event.type == 'touchmove') {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t//return true;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//console.log(event.type)\n\t\t\t$('body').addClass('scrolling');\n\t\t\t\n\t\t\tclearTimeout($.data(this, 'timer'));\n\t\t\t  $.data(this, 'timer', setTimeout(function() {\n\t\t\t\t  $('body').removeClass('scrolling');\n\t\t\t     //do something\n\t\t\t  }, 250));\n\t\t\t  \n\t\t\t//checkScrollPos()  \n\t\t\t//stopAutoScroll();\n\t\t});\n\t\t\n\t\t\n\t\t\n\t\tfunction onScroll(event) {\n\t\t\tvar st = $('#wrapper').scrollTop();\n\t\t\t\n\t\t\t//desktop loop\n\t\t\tif(st >= $el.find('#scroller').height() - $window.height()) {\n\t\t\t\t$('#wrapper').scrollTop(0)\n\t\t\t}\n\t\t\t\n\t\t\tcontrolScroll.scroll( st );\n\t\t}\n\n\t\t\n\t\tfunction init(){\n\t\t\t//controlScroll.setScrollContainer( $('#') );\n\t\t\t$('#scroller').addClass('desktop');\n\t\t\t\n\t\t\t$scrollContainer.on('scroll', onScroll);\n\t\t\t$window.on('mousedown', winMouseDown).on('mousemove', winMove);\n\t\t}\n\t\t\n\t\tfunction winMouseDown(event) {\n\t\t\n\t\t\t\tconsole.log(event.target)\n\t\n\t\t\t\tvar _x = event.pageX;\n\t\t\t\tvar _y = event.pageY;\n\t\n\t\t\t\tif( (_x >= $('input').position().left) && (_x <= $('input').position().left + $('input').outerWidth()) && (_y >= $('input').position().top) && (_y <= $('input').position().top + $('input').outerHeight()) )\n\t\t\t\t{\n\t\t\t\t\t$scrollContainer.scrollTop(0);\n\t\t\t\t\t$('input.top-input').focus();\n\t\t\t\t\tsetTimeout(function(){ $('input.top-input').focus() }, 100);\n\t\t\t\t\tconsole.log('pressed');\n\t\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction testOver(_x, _y, element, cursor) {\n\t\t\t//console.log(element)\n\t\t\tif( (_x >= $(element).position().left) && (_x <= $(element).position().left + $(element).outerWidth()) && (_y >= $(element).position().top) && (_y <= $(element).position().top + $(element).outerHeight()) )\n\t\t\t{\n\t\t\t\t$('body').addClass(cursor)\n\t\t\t\t$(element).addClass('over');\n\t\t\t} else{\n\t\t\t\t$('body').removeClass(cursor)\n\t\t\t\t$(element).removeClass('over');\n\t\t\t}\n\t\t}\n\n\t\tfunction winMove(event){\n\t\t\tvar _x = event.pageX;\n\t\t\tvar _y = event.pageY;\n\n\t\t\ttestOver(_x, _y, $('input'), 'text');\n\t\t\ttestOver(_x, _y, $('.button--submit'), 'pointer');\n\t\t}\n\n\n\t\tif(!settings.isMobile) {\n\t\t\tinit();\n\t\t}\n\t\t\n};\n  ","\nvar form = module.exports = function( ) {\n\t\n\tvar $window = $(window);\n\t\n\t// sync input values\n\t$('input').on('keydown', function(){\n\t\t$('input.bottom-input').val( $('input.top-input').val() )\n\t});\n\t\n\t$window.on('mousewheel touchmove', function(event){\n\t\t//$('input').blur();\n\t});\n\t\n};\n","var settings = require( \"modules/settings\" ),\n\tthrottle = require(\"modules/throttle\"),\n\tcontrolScroll = require(\"modules/control-scroll\"),\n\tvideos = require(\"modules/videos\"),\n\tform = require(\"modules/form\")\n\n\nmodule.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n\t\tmyScroll,\n\t\tposition;\n\n\n\t\t//console.log(videos.getName())\n\n\n\t\tfunction updatePosition () {\n\t\t\n\t\t\t//mobile loop\n\t\t\tif(-this.y >= $el.find('#scroller').height() - $window.height()) {\n\t\t\t\tthis.scrollTo(0, 0);\n\t\t\t}\n\t\t\t\n\t\t\tvar st = -this.y;\n\t\t\t\n\t\t\t\n\t\t\tcontrolScroll.scroll(st);\n\t\t\t\n\t\t\n\t\t\n\t\t}\n\n\t\tfunction attachScroller() {\n\t\t\t//position = document.getElementById('position');\n\t\t\t\n\t\t\tmyScroll = new IScroll('#wrapper', { \n\t\t\t\tprobeType: 3, \n\t\t\t\tscrollbars: 'custom',\n\t\t\t\tfadeScrollbars: true,\n\t\t\t\tbounce: false,\n\t\t\t\tmouseWheel: true,\n\t\t\t\tscrollbarClass: 'scrollbar',\n\t\t\t\tdeceleration:0.002\n\t\t\t});\n\t\t\t\n\t\t\tsettings.scroller = myScroll;\n\t\t\t\n\t\t\t//console.log(myScroll);\n\n\t\t\tmyScroll.on('scroll', updatePosition);\n\t\t\tmyScroll.on('scrollEnd', updatePosition);\n\t\t}\n\t\t\n\n\t\t\n\n\t\t//document.addEventListener('DOMContentLoaded', loaded, false);\n\t\t\n\t\tfunction init(){\n\t\t\t\n\t\t\tconsole.log('%c[mobile-scroll module init]', 'color:green')\n\t\t\t\n\t\t\n\t\t\tdocument.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);\n\t\t\t\n\t\t\tcontrolScroll.setScrollContainer($('#wrapper'));\n\t\t\tattachScroller();\n\t\t\t\n\t\t\t$window.on('touchstart', touchStart);\n\t\t\t\n\t\t\t$window.on('resize', winResize);\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tcontrolScroll.scrollMobile(myScroll, -200)\n\t\t\t\t//myScroll.scrollTo(0, -200)\n\t\t\t}, 2000);\n\t\t}\n\t\t\n\t\t\n\t\tfunction touchStart(event) {\n\t\t\tconsole.log(event.target)\n\t\n\t\t\tvar _x = event.originalEvent.touches[0].pageX;\n\t\t\tvar _y = event.originalEvent.touches[0].pageY;\n\t\n\t\t\tif( (_x >= $('input').position().left) && (_x <= $('input').position().left + $('input').outerWidth()) && (_y >= $('input').position().top) && (_y <= $('input').position().top + $('input').outerHeight()) )\n\t\t\t{\n\t\t\t\tmyScroll.scrollTo(0, 0);\n\t\t\t\t$('input.top-input').focus();\n\t\t\t\tconsole.log('pressed');\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction winResize(){\n\t\t\t\n\t\t\t$('.top-section').css('height', $window.height());\n\t\t\t\n\t\t\tif( $window.height() * 1.5 < $window.width() ) {\n\t\t\t\t$('body').addClass('landscape-format');\n\t\t\t} else {\n\t\t\t\t$('body').removeClass('landscape-format')\n\t\t\t}\n\t\t\t\t\n\t\t}\n\n\t\t\n\t\t//winResize();\n\t\t\n\t\tif(settings.isMobile) {\n\t\t\twinResize();\n\t\t\tinit();\n\t\t}\n\t\t\n\t\t\n};\n  ","var makeVideoPlayableInline = require('iphone-inline-video'),\n\tsettings = require('modules/settings'),\n\tmousewheel = require('jquery-mousewheel')($);\n\nvar scrollLoop = module.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n\t\t$videoScroll = $el.find('.video-scroll'),\n\t\t$videoWidth = $('.video-holder').width(),\n\t\tvidScrollWidth = 0,\n\t\txListener = 0,\n\t\txPos = 0,\n\t\tscrollInt,\n\t\tinitLoad = true,\n\t\tautoScrollTimer,\n\t\tautoScroll = false,\n\t\tlast_position = {},\n\t\t$scrollContainer = $('.wrapper'),\n\t\tst;\n\n\t\tconsole.log('%c[scroll-loop module init]', 'color:blue;');\n\t\t\n\t\tscrollLoop.getName = function(){\n\t\t\treturn 'hi';\n\t\t}\n\t\t\n\t\tscrollLoop.setScrollContainer = function(scrollContainer){\n\t\t\t$scrollContainer = scrollContainer;\n\t\t}\n\t\t\n\t\tscrollLoop.scroll = function(y) {\n\t\t\t\n\t\t}\n\t\n\t\t\n\t\tscrollLoop.fadeOverlay = function(scrollContainer, y) {\n\t\t\tst = y;\n\t\t\t\n\t\t\t//console.log('st ' +scrollContainer[0].scrollHeight);\n\t\t\t\n\t\t\tif(!scrollContainer.hasClass('looped')) {\n\t\t\t\tif(st < $window.height()) {\n\t\t\t\t\t$('.top-section.bottom-fixed').css('opacity', 0).removeClass('show');\n\t\t\t\t\tvar op = (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('below window height');\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( st < $window.height() * 2) {\n\t\t\t\t\n\t\t\t\t\tvar op = st - $window.height() + (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('below two times')\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(st >= scrollContainer[0].scrollHeight - ($window.height() * 2 ) ) {\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height()  )\n\t\t\t\t//console.log( $scrollContainer[0].scrollHeight / (st + $window.height()) )\n\t\t\t\t//console.log($scrollContainer[0].scrollHeight);\n\t\t\t\t//console.log(st + $window.height());\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  )/ $window.height()  )\n\t\t\t\t//console.log( ($scrollContainer[0].scrollHeight - st) / ( $scrollContainer[0].scrollHeight - $window.height()) )\n\t\t\t\t\n\t\t\t\tconsole.log('at end of page')\n\t\t\t\t\n\t\t\t\tvar op = ( scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height();\n\t\t\t\t\n\t\t\t\tconsole.log(op);\n\t\t\t\t\n\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t$('.top-section.bottom-fixed').addClass('show').css('opacity', 1 - op);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tscrollLoop.checkScrollPos = function(){\n\t\t\tclearInterval(scrollInt);\n\t\t\tvar st = $scrollContainer.scrollTop();\n\t\t\t\n\t\t\t\n\t\t\tif(st < $window.height()) {\n\t\t\t\t\n\t\t\t\t//$('body').scrollTop($('body')[0].scrollHeight);\n\t\t\t}\n\t\t\t\n\t\t\tif($scrollContainer.hasClass('looped')) {\n\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\n\t\t\t\tif(st > $window.height()) {\n\t\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\t//$scrollContainer.scrollTop(0);\n\t\t\t\t} \n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - $window.height()) {\n\t\t\t\t$('.wrapper').addClass('looped');\n\t\t\t\t$scrollContainer.animate({ scrollTop:0 }, 0)\n\t\t\t\t$scrollContainer.scrollTop(0);\n\t\t\t\t//$('.top-section.bottom-fixed').css('opacity', 0)\n\t\t\t}\n\t\t}\n\t\t\n\t\t/*\n\t\tfunction checkScrollPos(){\n\t\t\tclearInterval(scrollInt);\n\t\t\tvar st = $scrollContainer.scrollTop();\n\t\t\t\n\t\t\t\n\t\t\tif(st < $window.height()) {\n\t\t\t\t$('.top-section.bottom-fixed').css('opacity', 0).removeClass('show');\n\t\t\t\t//$('body').scrollTop($('body')[0].scrollHeight);\n\t\t\t}\n\t\t\t\n\t\t\tif($scrollContainer.hasClass('looped')) {\n\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\n\t\t\t\tif(st > $window.height()) {\n\t\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\t//$scrollContainer.scrollTop(0);\n\t\t\t\t} \n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - $window.height()) {\n\t\t\t\t$('.wrapper').addClass('looped');\n\t\t\t\t$scrollContainer.animate({ scrollTop:0 }, 0)\n\t\t\t\t$scrollContainer.scrollTop(0);\n\t\t\t\t//$('.top-section.bottom-fixed').css('opacity', 0)\n\t\t\t}\n\t\t}\n\t\t*/\n\t\t\n\t\t/*\n\t\tfunction fadeOverlay(){\n\t\t\tvar st = $scrollContainer.scrollTop();\n\t\t\tif(!$scrollContainer.hasClass('looped')) {\n\t\t\t\tif(st < $window.height()) {\n\t\t\t\t\n\t\t\t\t\tvar op = (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( st < $window.height() * 2) {\n\t\t\t\t\n\t\t\t\t\tvar op = st - $window.height() + (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - ($window.height() * 2 ) ) {\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height()  )\n\t\t\t\t//console.log( $scrollContainer[0].scrollHeight / (st + $window.height()) )\n\t\t\t\t//console.log($scrollContainer[0].scrollHeight);\n\t\t\t\t//console.log(st + $window.height());\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  )/ $window.height()  )\n\t\t\t\t//console.log( ($scrollContainer[0].scrollHeight - st) / ( $scrollContainer[0].scrollHeight - $window.height()) )\n\t\t\t\tvar op = ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height();\n\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t$('.top-section.bottom-fixed').addClass('show').css('opacity', 1 - op);\n\t\t\t}\n\t\t}\n\t\t*/\n\t\t\n\t\tfunction startAutoScroll(){\n\t\t\t$('body').addClass('autoScroll');\n\t\t}\n\t\t\n\t\tfunction stopAutoScroll(){\n\t\t\t$('body').removeClass('autoScroll');\n\t\t\tsetTimeout(function(){ $('body').removeClass('scrolling autoScroll'); }, 100);\n\t\t\tautoScroll = false;\n\t\t\tclearTimeout(autoScrollTimer);\n\t\t\tautoScrollTimer = setTimeout(function(){\n\t\t\t\tautoScroll = true;\n\t\t\t}, 10000);\n\t\t}\n\t\t\n\t\t/*\n\t\t$window.on('mousedown touchstart', function(event){\n\t\t\t$('body').addClass('mousedown');\n\t\t\t\n\t\t\t$window.on('mousemove', winMouseMove);\n\t\t\t\n\t\t\tstopAutoScroll();\n\t\t}).on('mouseup touchend', function(){\n\t\t\t$('body').removeClass('mousedown');\n\t\t\t$window.off('mousemove');\n\t\t});\n\t\t*/\n\t\t\n\n\t\t$window.on('mousewheel touchmove touchstart', function(event){\n\t\t\t\n\t\t\t\n\t\t\tif(event.type == 'mousewheel') {\n\t\t\t\tif(event.deltaY < 0) {\n\t\t\t\t\txPos += event.deltaY;\n\t\t\t\t\txListener += event.deltaY;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif(event.deltaX > 1) {\n\t\t\t\t\txPos -= event.deltaX;\n\t\t\t\t\txListener -= event.deltaX;\n\t\t\t\t}\n\t\t\t} else if(event.type == 'touchmove') {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t//return true;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//console.log(event.type)\n\t\t\t$('body').addClass('scrolling');\n\t\t\t\n\t\t\tclearTimeout($.data(this, 'timer'));\n\t\t\t  $.data(this, 'timer', setTimeout(function() {\n\t\t\t\t  $('body').removeClass('scrolling');\n\t\t\t     //do something\n\t\t\t  }, 250));\n\t\t\t  \n\t\t\t//checkScrollPos()  \n\t\t\t//stopAutoScroll();\n\t\t});\n\t\t\n\t\t/*\n\t\t$window.on('mousewheel touchmove', function(event){\n\t\t\t\n\t\t\t\n\t\t\tif(event.type == 'mousewheel') {\n\t\t\t\tif(event.deltaY < 0) {\n\t\t\t\t\txPos += event.deltaY;\n\t\t\t\t\txListener += event.deltaY;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif(event.deltaX > 1) {\n\t\t\t\t\txPos -= event.deltaX;\n\t\t\t\t\txListener -= event.deltaX;\n\t\t\t\t}\n\t\t\t} else if(event.type == 'touchmove') {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//console.log(event.type)\n\t\t\t$('body').addClass('scrolling');\n\t\t\t\n\t\t\tclearTimeout($.data(this, 'timer'));\n\t\t\t  $.data(this, 'timer', setTimeout(function() {\n\t\t\t\t  $('body').removeClass('scrolling');\n\t\t\t     //do something\n\t\t\t  }, 250));\n\t\t\t  \n\t\t\tcheckScrollPos()  \n\t\t\tstopAutoScroll();\n\t\t});\n\t\t*/\n\t\n\t\t\n\t\t\n\t\t\n\t\tfunction init(){\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tsetVideos();\n\t\t\tfadeOverlay();\n\t\t\t$('#video-container').fadeIn(6000);\n\t\t\t\n\t\t\t$scrollContainer.on('scroll', function(event) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\t//console.log('scroll triggered')\n\t\t\t\t//var gradientTopPos = $('body').scrollTop();\n\t\t\t\n\t\t\t\tcheckScrollPos();\n\t\t\t\tfadeOverlay();\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\t//console.log(event.deltaX)\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t    watchVideos();\n\t\t\t\t$('body').addClass('scrolling');\n\t\t\t\n\t\t\t\t//stopAutoScroll();\n\t\t\t  \n\t\t\t  \n\t\t\t    //console.log(event.deltaX, event.deltaY, event.deltaFactor);\n\t\t\t});\n\t\t\t\n\t\t\tautoScrollTimer = setTimeout(function(){\n\t\t\t\tautoScroll = true;\n\t\t\t}, 6000);\n\t\t\t\n\t\t\t// Usage\n\t\t\tanimLoop(function( deltaT ) {\n\t\t\t\txPos -= .2;\n\t\t\t\txListener -= .2;\n\t\t\t\t$('.video-scroll').css({\n\t\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"\n\t\t\t\t  });​\n\t\t\t\t\t\n\t\t\t\t  //console.log($window.width())\n\t\t\t\t  //console.log ($('video').eq(0).position().left)\n\t\t\t\t  if(autoScroll) {\n\t\t\t\t\t  //$('input').blur();\n\t\t\t\t\t  startAutoScroll();\n\t\t\t\t\t  checkScrollPos();\n\t\t\t\t\t  fadeOverlay();\n\t\t\t\t  \t  $scrollContainer.scrollTop($scrollContainer.scrollTop() + 1);\n\t\t\t\t\t  //initLoad = false;\n\t\t\t\t  }\n\t\t\t\t  watchVideos();\n\t\t\t\t  \n\t\t\t    //elem.style.left = ( left += 10 * deltaT / 16 ) + \"px\";\n\n\t\t\t// optional 2nd arg: elem containing the animation\n\t\t\t} );\n\t\t\t\n\t\t\t$('.newsletter input').on('focus', inputFocus);\n\t\t\t\n\t\t\t$window.on('resize', winResize);\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction inputFocus(){\n\t\t\tif(!$('.bottom-fixed').hasClass('show')) {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t}\n\t\t\t$scrollContainer\n\t\t}\n\t\t\n\t\tfunction watchVideos(){\n\t\t\t\n\t\t\t//console.log( $('.video-1-clone').position().left )\n\t\t\t\n\t\t\t$('.video-holder').each(function(){\n\t\t\t\tif($(this).position().left + $(this).width() >= 0 && $(this).position().left <= $window.width() ) {\n\t\t\t\t\t$(this).find('video')[0].play();\n\t\t\t\t} else {\n\t\t\t\t\t//console.log($(this).find('video').attr('src'))\n\t\t\t\t\t$(this).find('video')[0].pause();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif( $('.video-1-clone').position().left <= 0 ) {\n\t\t\t\txPos = 0;\n\t\t\t\t\n\t\t\t\t$('.video-scroll').css({\n\t\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"\n\t\t\t\t  });​\n\t\t\t\t  \n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t/*\n\t\t\tif(xPos < -vidScrollWidth ) {\n\t\t\t\txPos = 0;\n\t\t\t\txListener = 0;\n\t\t\t\t$videoScroll.append($('.video-holder').eq(0));\n\t\t\t\t\n\t\t\t\tfor(var i=0; i<$('.video-holder').length; i++) {\n\t\t\t\t\t$('.video-holder').eq(i).css('left', ( $videoWidth * i) + 'px');\n\t\t\t\t}\n\t\t\t\t$('.video-holder').eq(1).find('video')[0].play();\n\t\t\t\tconsole.log('reset entire piece')\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t\n\t\t\tif(xListener < -$videoWidth) {\n\t\t\t\txListener = 0;\n\t\t\t\tvar _left = Number( $('.video-holder').last().css('left').split('px').join('') ) + $videoWidth;\n\t\t\t\n\t\t\t\t$('.video-holder').eq(2).find('video')[0].play();\n\t\t\t\t$('.video-holder').eq(0).find('video')[0].pause();\n\t\t\t\t$('.video-holder').eq(0).css('left', _left + 'px')\n\t\t\t\t$videoScroll.append($('.video-holder').eq(0));\n\t\t\t}\n\t\t\t*/\n\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction setVideos(){\n\t\t\tvidScrollWidth = 0;\n\t\t\t$('.video-holder').each(function(){\n\t\t\t\t$(this).css('left', $(this).width() * $(this).index());\n\t\t\t\tvidScrollWidth += $(this).width(); \n\t\t\t});\n\t\t\t$videoScroll.css('width', vidScrollWidth);\n\t\t\t//console.log(vidScrollWidth);\n\t\t}\n\t\t\n\t\t/*\n\t\tsetInterval(function(){\n\t\t\txPos-= 1;\n\t\t\t$('.video-scroll').css({\n\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"\n\t\t\t  });​\n\t\t}, 10);\n\t\t*/\n\t\t\n\t\n\t\tfunction animLoop( render, element ) {\n\t\t    var running, lastFrame = +new Date;\n\t\t    function loop( now ) {\n\t\t        // stop the loop if render returned false\n\t\t        if ( running !== false ) {\n\t\t            requestAnimationFrame( loop, element );\n\t\t            running = render( now - lastFrame );\n\t\t            lastFrame = now;\n\t\t        }\n\t\t    }\n\t\t    loop( lastFrame );\n\t\t}\n\n\t\t\n\t\t\n\t\t/*\n\t\t$('.video-scroll').velocity({\n\t\t\ttranslateZ: 0, // Force HA by animating a 3D property\n\t\t    translateX: \"-10000px\"\n\t\t}, {\n\t\t    \n\t\t\tduration:100000,\n\t\t    easing: \"linear\",\n\t\t});\n\t\t*/\n\t\t\n\t\tfunction winResize(){\n\t\t\t$videoWidth = $('.video-holder').width();\n\t\t\tsetVideos();\n\t\t}\n\t\t\n\t\tif(!settings.isMobile) {\n\t\t\tinit();\n\t\t}\n\t\t\n};\n  ","/**\n * Global settings shared by all modules\n * @type {Object}\n */\n\nfunction checkMobile(){\n\tif( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n}\n\n\n\nvar settings = module.exports = {\n\tbreakpoints: {\n\t\txs: 481,\n\t\ts: 769,\n\t\tm: 1000,\n\t\tml: 999,\n\t\tl: 1281,\n\t\txl: 1441,\n\t\txxl: 1921\n\t},\n\tsiteURL:$('body').data('site-url'),\n\tscrollContainer: 0,\n\tanimationSpeed: 400,\n\tanimationType: \"linear\",\n\tanimating: false,\n\tunique: true,\n\tscroller: null,\n\tisMobile: checkMobile(),\n\tpage: '',\n};\n\nsettings.isMobile = settings.isMobile;\nsettings.breakpoints = settings.breakpoints;\nsettings.animationSpeed = settings.animationSpeed;\nsettings.animationType = settings.animationType;\nsettings.scrollPos = settings.scrollPos;\nsettings.scrollContainer = settings.scrollContainer;\nsettings.animating = settings.animating;\nsettings.unique = settings.unique;\nsettings.scroller = settings.scroller;\n","// throttle function from Remy Sharp\n// https://remysharp.com/2010/07/21/throttling-function-calls\nmodule.exports = function( fn, threshold, scope ) {\n\tif ( !threshold ) {\n\t\tthreshold = 250;\n\t}\n\n\tvar last, deferTimer;\n\n\treturn function() {\n\t\tvar context = scope || this,\n\t\t\tnow  = +new Date(),\n\t\t\targs = arguments;\n\n\t\tif ( last && now < last + threshold ) {\n\t\t\t// hold on to it\n\t\t\tclearTimeout( deferTimer );\n\t\t\tdeferTimer = setTimeout(function() {\n\t\t\t\tlast = now;\n\t\t\t\tfn.apply( context, args );\n\t\t\t}, threshold );\n\t\t} else {\n\t\t\tlast = now;\n\t\t\tfn.apply( context, args );\n\t\t}\n\t};\n};\n","var makeVideoPlayableInline = require('iphone-inline-video'),\n\tsettings = require('modules/settings'),\n\tmousewheel = require('jquery-mousewheel')($);\n\nvar videos = module.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n\t\t$videoScroll = $el.find('.video-scroll'),\n\t\t$videoWidth = $('.video-holder').width(),\n\t\tvidScrollWidth = 0,\n\t\txListener = 0,\n\t\txPos = 0,\n\t\tscrollInt,\n\t\tinitLoad = true,\n\t\tautoScrollTimer,\n\t\tautoScroll = false,\n\t\tlast_position = {},\n\t\t$scrollContainer = $('.wrapper'),\n\t\tst;\n\n\t\tconsole.log('%c[video module init]', 'color:blue;');\n\t\t\n\t\t\n\t\tfunction winMouseMove(event) {\n\t\t\t//if(event)\n\t\t\t\n\t\t\t\n\t\t\t//check to make sure there is data to compare against\n\t\t    if (typeof(last_position.x) != 'undefined') {\n\n\t\t        //get the change from last position to this position\n\t\t        var deltaX = last_position.x - event.clientX,\n\t\t            deltaY = last_position.y - event.clientY;\n\n\t\t        //check which direction had the highest amplitude and then figure out direction by checking if the value is greater or less than zero\n\t\t        if (Math.abs(deltaX) > Math.abs(deltaY) && deltaX > 0) {\n\t\t            //left\n\t\t\t\t\tconsole.log('moving left')\n\t\t\t\t\txPos -= Math.abs(deltaX);\n\t\t        } else if (Math.abs(deltaX) > Math.abs(deltaY) && deltaX < 0) {\n\t\t            //right\n\t\t        } else if (Math.abs(deltaY) > Math.abs(deltaX) && deltaY > 0) {\n\t\t            //up\n\t\t        } else if (Math.abs(deltaY) > Math.abs(deltaX) && deltaY < 0) {\n\t\t            //down\n\t\t        }\n\t\t    }\n\n\t\t    //set the new last position to the current for next time\n\t\t    last_position = {\n\t\t        x : event.clientX,\n\t\t        y : event.clientY\n\t\t    };\n\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\t\n\t\n\t\t\n\t\t\n\t\t\n\t\tfunction init(){\n\t\t\t\n\t\t\tif(settings.isMobile) {\n\t\t\t\t$('video').each(function () {\n\t\t\t\t    makeVideoPlayableInline(this);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tsetVideos();\n\t\t\n\t\t\t$('#video-container').fadeIn(6000);\n\t\t\t\n\n\t\t\tif(!settings.isMobile){\n\t\t\t\t// Usage\n\t\t\t\tanimLoop(function( deltaT ) {\n\t\t\t\t\txPos -= .2;\n\t\t\t\t\txListener -= .2;\n\t\t\t\t\t$('.video-scroll').css({\n\t\t\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"\n\t\t\t\t\t  });​\n\t\t\t\t\t \n\t\t\t\t\t  watchVideos();\n\t\t\t\t\t\t/*\n\t\t\t\t\t  if(autoScroll) {\n\t\t\t\t\t\t  $('input').blur();\n\t\t\t\t\t\t  startAutoScroll();\n\t\t\t\t\t\t  checkScrollPos();\n\t\t\t\t\t\t  fadeOverlay();\n\t\t\t\t\t  \t  $scrollContainer.scrollTop($scrollContainer.scrollTop() + 1);\n\t\n\t\t\t\t\t  }\n\t\t\t\t\t  watchcontrolScroll();\n\t\t\t\t  */\n\t\t\t\t    \n\t\t\t\t} );\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//$('.newsletter input').on('focus', inputFocus);\n\t\t\t\n\t\t\t$window.on('resize', winResize);\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction inputFocus(){\n\t\t\tif(!$('.bottom-fixed').hasClass('show')) {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction watchVideos(){\n\t\t\t\n\t\t\t//console.log( $('.video-1-clone').position().left )\n\t\t\t\n\t\t\t$('.video-holder').each(function(){\n\t\t\t\tif($(this).position().left + $(this).width() >= 0 && $(this).position().left <= $window.width() ) {\n\t\t\t\t\tif(!$(this).find('video').hasClass('playing')) {\n\t\t\t\t\t\t$(this).find('video')[0].play();\n\t\t\t\t\t}\n\t\t\t\t\t$(this).find('video').addClass('playing');\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tif($(this).hasClass('playing')){\n\t\t\t\t\t\t$(this).removeClass('playing');\n\t\t\t\t\t\t$(this).find('video')[0].pause();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif( $('.video-1-clone').position().left <= 0 ) {\n\t\t\t\txPos = 0;\n\t\t\t\t$('#video-1').currentTime = $('#video-8')[0].currentTime;\n\t\t\t\t$('.video-scroll').css({\n\t\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"\n\t\t\t\t  });​\n\t\t\t\t  \n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\t\n\t\t$window.on('mousewheel touchmove', function(event){\n\t\t\t\n\t\t\t\n\t\t\tif(event.type == 'mousewheel') {\n\t\t\t\tif(event.deltaY < 0) {\n\t\t\t\t\txPos += event.deltaY;\n\t\t\t\t\txListener += event.deltaY;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif(event.deltaX > 1) {\n\t\t\t\t\txPos -= event.deltaX;\n\t\t\t\t\txListener -= event.deltaX;\n\t\t\t\t}\n\t\t\t} else if(event.type == 'touchmove') {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t//return true;\n\t\t\t}\n\t\t\t\n\t\t\twatchVideos();\n\n\t\t\t//checkScrollPos()  \n\t\t\t//stopAutoScroll();\n\t\t});\n\t\t\n\t\tfunction setVideos(){\n\t\t\tvidScrollWidth = 0;\n\t\t\t$('.video-holder').each(function(){\n\t\t\t\t$(this).css('left', $(this).width() * $(this).index());\n\t\t\t\tvidScrollWidth += $(this).width(); \n\t\t\t});\n\t\t\t$videoScroll.css('width', vidScrollWidth);\n\t\t\t//console.log(vidScrollWidth);\n\t\t}\n\t\t\n\t\t\n\t\tfunction animLoop( render, element ) {\n\t\t    var running, lastFrame = +new Date;\n\t\t    function loop( now ) {\n\t\t        // stop the loop if render returned false\n\t\t        if ( running !== false ) {\n\t\t            requestAnimationFrame( loop, element );\n\t\t            running = render( now - lastFrame );\n\t\t            lastFrame = now;\n\t\t        }\n\t\t    }\n\t\t    loop( lastFrame );\n\t\t}\n\n\t\t\n\t\t\n\t\t/*\n\t\t$('.video-scroll').velocity({\n\t\t\ttranslateZ: 0, // Force HA by animating a 3D property\n\t\t    translateX: \"-10000px\"\n\t\t}, {\n\t\t    \n\t\t\tduration:100000,\n\t\t    easing: \"linear\",\n\t\t});\n\t\t*/\n\t\t\n\t\tfunction winResize(){\n\t\t\t$videoWidth = $('.video-holder').width();\n\t\t\tsetVideos();\n\t\t}\n\t\t\n\n\t\tinit();\n\t\t\n\t\t\n};\n  "]}