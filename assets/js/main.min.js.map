{"version":3,"sources":["../../node_modules/browser-pack/_prelude.js","../../node_modules/animation-frame/index.js","../../node_modules/animation-frame/lib/animation-frame.js","../../node_modules/animation-frame/lib/native.js","../../node_modules/animation-frame/lib/now.js","../../node_modules/animation-frame/lib/performance-timing.js","../../node_modules/animation-frame/lib/performance.js","../../node_modules/animation-frame/lib/root.js","../../node_modules/audio5/audio5.js","../../node_modules/debug/src/browser.js","../../node_modules/debug/src/debug.js","../../node_modules/intervalometer/dist/intervalometer.common-js.js","../../node_modules/iphone-inline-video/dist/iphone-inline-video.common-js.js","../../node_modules/jquery-mousewheel/jquery.mousewheel.js","../../node_modules/load-script/index.js","../../node_modules/ms/index.js","../../node_modules/poor-mans-symbol/dist/poor-mans-symbol.common-js.js","../../node_modules/process/browser.js","../../node_modules/sister/src/sister.js","../../node_modules/youtube-player/dist/FunctionStateMap.js","../../node_modules/youtube-player/dist/YouTubePlayer.js","../../node_modules/youtube-player/dist/constants/PlayerStates.js","../../node_modules/youtube-player/dist/eventNames.js","../../node_modules/youtube-player/dist/functionNames.js","../../node_modules/youtube-player/dist/index.js","../../node_modules/youtube-player/dist/loadYouTubeIframeApi.js","../../src/js/lib/init-modules.js","../../src/js/main.js","../../src/js/modules/audio-hover.js","../../src/js/modules/audio.js","../../src/js/modules/body.js","../../src/js/modules/control-scroll.js","../../src/js/modules/controlscroll.js","../../src/js/modules/desktop-scroll.js","../../src/js/modules/form.js","../../src/js/modules/lookbook.js","../../src/js/modules/mobile-scroll.js","../../src/js/modules/scroll-loop.js","../../src/js/modules/settings.js","../../src/js/modules/throttle.js","../../src/js/modules/videos.js","../../src/js/modules/youtube.js"],"names":["module","exports","require","AnimationFrame","options","this","frameRate","useNative","FRAME_RATE","_frameLength","_isCustomFrameRate","_timeoutId","_callbacks","_lastTickTime","_tickCounter","nativeImpl","now","performance","root","nativeRequest","request","nativeCancel","cancel","shim","animationFrame","requestAnimationFrame","callback","cancelAnimationFrame","id","prototype","self","supported","TypeError","delay","setTimeout","callbacks","top","name","e","cancelRequestAnimationFrame","vendors","i","length","call","Date","getTime","navigationStart","PerformanceTiming","window","$win","ns","factory","define","amd","AudioError","message","cloneObject","obj","clone","ActiveXObject","Error","extend","target","mixin","m","hasOwnProperty","include","Pubsub","on","evt","fn","ctx","subscribe","one","off","undefined","channels","l","splice","once","push","trigger","args","Array","slice","arguments","a","sub","shift","apply","util","flash_embed_code","swf_location","ts","s","can_play","mime_type","mime_str","document","createElement","navigator","userAgent","match","canPlayType","has_flash","r","plugins","mimeTypes","mimeType","enabledPlugin","ax","embedFlash","d","style","position","width","height","body","appendChild","fv","playerInstance","params","allowscriptaccess","wmode","innerHTML","swfobject","embedSWF","Math","random","getElementById","formatTime","seconds","hours","parseInt","minutes","secs","fragment","use_flash","Audio5js","FlashAudioPlayer","HTML5AudioPlayer","AudioAttributes","playing","vol","duration","load_percent","seekable","ready","globalAudio5Flash","instances","count","init","swf_src","embed","eiReady","audio","eiLoadStart","eiLoadedMetadata","eiCanPlay","eiTimeUpdate","eiProgress","percent","eiLoadError","msg","eiPlay","eiPause","eiEnded","pause","eiSeeking","eiSeeked","reset","load","url","play","pplay","ppause","volume","v","isNaN","setVolume","seek","seekTo","destroyAudio","parentNode","removeChild","createAudio","Audio","autoplay","preload","autobuffer","bindEvents","unbindEvents","setAttribute","setupEventListeners","listeners","loadstart","onLoadStart","bind","canplay","onLoad","loadedmetadata","onLoadedMetadata","onPlay","onPause","ended","onEnded","error","onError","timeupdate","onTimeUpdate","seeking","onSeeking","seeked","onSeeked","addEventListener","removeEventListener","timer","setInterval","onProgress","currentTime","Infinity","buffered","end","clearLoadProgress","clearInterval","min","settings","swf_path","throw_errors","format_time","codecs","k","getPlayer","bindAudioEvents","player","codec","engine","onReady","onCanPlay","unbindAudioEvents","that","f","u","playPause","destroy","loaded","useColors","process","type","documentElement","WebkitAppearance","console","firebug","exception","table","toLowerCase","RegExp","$1","formatArgs","namespace","humanize","diff","c","color","index","lastC","replace","log","Function","save","namespaces","storage","removeItem","debug","env","DEBUG","localstorage","localStorage","chrome","local","colors","formatters","j","JSON","stringify","err","enable","selectColor","hash","charCodeAt","abs","createDebug","enabled","curr","ms","prevTime","prev","coerce","unshift","format","formatter","val","names","skips","split","len","substr","disable","test","stack","intervalometer","cb","requestParameter","loop","requestId","previousLoopTime","start","stop","frameIntervalometer","timerIntervalometer","clearTimeout","Object","defineProperty","value","_interopDefault","ex","preventEvent","element","eventName","toggleProperty","preventWithProperty","handler","Boolean","stopImmediatePropagation","proxyProperty","object","propertyName","sourceObject","copyFirst","get","set","proxyEvent","dispatchEvent","Event","dispatchEventAsync","Promise","resolve","then","getAudioFromVideo","video","crossOrigin","src","currentSrc","setTime","time","rememberOnly","lastTimeupdateEvent","ಠevent","lastRequests","requestIndex","isPlayerEnded","driver","update","timeDiff","readyState","HAVE_FUTURE_DATA","hasAudio","playbackRate","networkState","NETWORK_IDLE","ಠ","webkitDisplayingFullscreen","ಠplay","paused","updater","HAVE_ENOUGH_DATA","forceEvents","ಠpause","addPlayer","muted","wasEmpty","indexOf","overloadAPI","enableInlineVideo","onlyWhitelisted","isWhitelisted","classList","add","platform","warn","Symbol","head","matchMedia","matches","jQuery","$","event","orgEvent","delta","deltaX","deltaY","absDelta","offsetX","offsetY","fix","detail","wheelDelta","wheelDeltaY","wheelDeltaX","axis","HORIZONTAL_AXIS","deltaMode","lineHeight","data","pageHeight","max","lowestDelta","shouldAdjustOldDeltas","special","normalizeOffset","getBoundingClientRect","boundingRect","clientX","left","clientY","deltaFactor","nullLowestDeltaTimeout","nullLowestDelta","dispatch","handle","adjustOldDeltas","toFix","toBind","documentMode","fixHooks","mouseHooks","mousewheel","version","setup","onmousewheel","getLineHeight","getPageHeight","teardown","removeData","elem","$elem","$parent","css","unmousewheel","unbind","setAttributes","script","attrs","attr","stdOnEnd","onload","onerror","ieOnEnd","onreadystatechange","opts","getElementsByTagName","charset","async","text","parse","str","String","exec","n","parseFloat","y","h","fmtShort","round","fmtLong","plural","floor","ceil","long","description","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","run","Item","array","noop","nextTick","title","browser","argv","versions","addListener","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","Sister","sister","events","listener","global","gajus","_interopRequireDefault","__esModule","default","_PlayerStates","_PlayerStates2","pauseVideo","acceptableStates","ENDED","PAUSED","stateChangeRequired","playVideo","PLAYING","_debug","_debug2","_functionNames","_functionNames2","_eventNames","_eventNames2","_FunctionStateMap","_FunctionStateMap2","YouTubePlayer","proxyEvents","emitter","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","onEventName","toUpperCase","return","promisifyPlayer","playerAPIReady","strictState","functions","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","functionName","_len","_key","stateInfo","playerState","getPlayerState","isArray","onPlayerStateChange","playerStateAfterChange","_len2","_key2","BUFFERING","UNSTARTED","VIDEO_CUED","_typeof","constructor","_sister","_sister2","_loadYouTubeIframeApi","_loadYouTubeIframeApi2","_YouTubePlayer","_YouTubePlayer2","youtubeIframeAPI","maybeElementId","HTMLElement","YT","Player","playerApi","_loadScript","_loadScript2","iframeAPIReady","previous","onYouTubeIframeAPIReady","protocol","location","initializeModules","modules","querySelectorAll","Module","el","getAttribute","unique","audioHover","elOver","isMute","fadeInterval","audioVol","elOut","fadeOut","toggleAudio","fadeIn","getVolPercent","_volume","$el","file","throttle","initAudio","intro","init_1","init_2","init_3","introEnded","introAfter","credits","isMobile","toggleClass","audioOn","ytPlayer","fadeOutInterval","fadeInInterval","fadeInIntroVol","fadeInIntroAfterVol","fadeInCreditsVol","introVol","introAfterVol","creditsVol","fadeIntroVol","fadeIntroAfterVol","fadeCreditsVol","winResize","$window","addClass","removeClass","muteAll","getAudioStatus","instance","show","makeVideoPlayableInline","controlScroll","animLoop","render","running","lastFrame","autoScrollTimer","timerSpeed","xListener","find","xPos","autoScroll","$scrollContainer","st","setScrollContainer","scrollContainer","scroll","fadeOverlay","checkScrollPos","scrollTo","scroller","scrollTop","animateScroll","animate","scrollMobile","hasClass","op","toFixed","scrollHeight","op_2","scrollInt","stopAutoScroll","removeAutoScroll","initAutoScroll","deltaT","controlscroll","startAutoScroll","inputFocus","setVideos","vidScrollWidth","each","$videoScroll","$videoWidth","getName","stopPropagation","-webkit-transform","-ms-transform","transform","videos","form","desktopScroll","onScroll","winMouseDown","_x","pageX","_y","pageY","outerWidth","outerHeight","focus","testOver","cursor","winMove","lookbookOver","$item","currentTarget","currSet","last","lookbookOut","setMargins","firstNum","lastNum","colCount","lookbookClick","eq","resetNumFirst","resetNumLast","itemHeight","itemPos","first","updatePosition","scrollerHeight","wrapperHeight","attachScroller","myScroll","IScroll","probeType","scrollbars","fadeScrollbars","bounce","click","mouseWheel","scrollbarClass","deceleration","touchStart","originalEvent","touches","preventDefault","scrollLoop","checkMobile","breakpoints","xs","ml","xl","xxl","siteURL","animationSpeed","animationType","animating","isMuteYT","page","scrollPos","threshold","scope","deferTimer","context","nextVideo","vidContainer","vidLength","targ","switchVideos","parent","watchVideos","scrollLeft","youtube","setPlayerActions","stopVideo","sizePlayer","winPlayerResize","isPlaying","isFirstTime","videoId","playerVars","controls","rel","showinfo","stopYTVideo"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n * An even better animation frame.\n *\n * @copyright Oleg Slobodskoi 2016\n * @website https://github.com/kof/animationFrame\n * @license MIT\n */\n\nmodule.exports = require('./lib/animation-frame')\n","'use strict'\n\nvar nativeImpl = require('./native')\nvar now = require('./now')\nvar performance = require('./performance')\nvar root = require('./root')\n\n// Weird native implementation doesn't work if context is defined.\nvar nativeRequest = nativeImpl.request\nvar nativeCancel = nativeImpl.cancel\n\n/**\n * Animation frame constructor.\n *\n * Options:\n *   - `useNative` use the native animation frame if possible, defaults to true\n *   - `frameRate` pass a custom frame rate\n *\n * @param {Object|Number} options\n */\nfunction AnimationFrame(options) {\n    if (!(this instanceof AnimationFrame)) return new AnimationFrame(options)\n    options || (options = {})\n\n    // Its a frame rate.\n    if (typeof options == 'number') options = {frameRate: options}\n    options.useNative != null || (options.useNative = true)\n    this.options = options\n    this.frameRate = options.frameRate || AnimationFrame.FRAME_RATE\n    this._frameLength = 1000 / this.frameRate\n    this._isCustomFrameRate = this.frameRate !== AnimationFrame.FRAME_RATE\n    this._timeoutId = null\n    this._callbacks = {}\n    this._lastTickTime = 0\n    this._tickCounter = 0\n}\n\nmodule.exports = AnimationFrame\n\n/**\n * Default frame rate used for shim implementation. Native implementation\n * will use the screen frame rate, but js have no way to detect it.\n *\n * If you know your target device, define it manually.\n *\n * @type {Number}\n * @api public\n */\nAnimationFrame.FRAME_RATE = 60\n\n/**\n * Replace the globally defined implementation or define it globally.\n *\n * @param {Object|Number} [options]\n * @api public\n */\nAnimationFrame.shim = function(options) {\n    var animationFrame = new AnimationFrame(options)\n\n    root.requestAnimationFrame = function(callback) {\n        return animationFrame.request(callback)\n    }\n    root.cancelAnimationFrame = function(id) {\n        return animationFrame.cancel(id)\n    }\n\n    return animationFrame\n}\n\n/**\n * Request animation frame.\n * We will use the native RAF as soon as we know it does works.\n *\n * @param {Function} callback\n * @return {Number} timeout id or requested animation frame id\n * @api public\n */\nAnimationFrame.prototype.request = function(callback) {\n  var self = this\n\n  // Alawys inc counter to ensure it never has a conflict with the native counter.\n  // After the feature test phase we don't know exactly which implementation has been used.\n  // Therefore on #cancel we do it for both.\n  ++this._tickCounter\n\n  if (nativeImpl.supported && this.options.useNative && !this._isCustomFrameRate) {\n    return nativeRequest(callback)\n  }\n\n  if (!callback) throw new TypeError('Not enough arguments')\n\n  if (this._timeoutId == null) {\n    // Much faster than Math.max\n    // http://jsperf.com/math-max-vs-comparison/3\n    // http://jsperf.com/date-now-vs-date-gettime/11\n    var delay = this._frameLength + this._lastTickTime - now()\n    if (delay < 0) delay = 0\n\n    this._timeoutId = setTimeout(function() {\n      self._lastTickTime = now()\n      self._timeoutId = null\n      ++self._tickCounter\n      var callbacks = self._callbacks\n      self._callbacks = {}\n      for (var id in callbacks) {\n        if (callbacks[id]) {\n          if (nativeImpl.supported && self.options.useNative) {\n            nativeRequest(callbacks[id])\n          } else {\n            callbacks[id](performance.now())\n          }\n        }\n      }\n    }, delay)\n  }\n\n  this._callbacks[this._tickCounter] = callback\n\n  return this._tickCounter\n}\n\n/**\n * Cancel animation frame.\n *\n * @param {Number} timeout id or requested animation frame id\n *\n * @api public\n */\nAnimationFrame.prototype.cancel = function(id) {\nif (nativeImpl.supported && this.options.useNative) nativeCancel(id)\ndelete this._callbacks[id]\n}\n","'use strict'\n\nvar root = require('./root')\n\n// Test if we are within a foreign domain. Use raf from the top if possible.\ntry {\n  // Accessing .name will throw SecurityError within a foreign domain.\n  root.top.name\n  root = root.top\n} catch(e) {}\n\nexports.request = root.requestAnimationFrame\nexports.cancel = root.cancelAnimationFrame || root.cancelRequestAnimationFrame\nexports.supported = false\n\nvar vendors = ['Webkit', 'Moz', 'ms', 'O']\n\n// Grab the native implementation.\nfor (var i = 0; i < vendors.length && !exports.request; i++) {\n  exports.request = root[vendors[i] + 'RequestAnimationFrame']\n  exports.cancel = root[vendors[i] + 'CancelAnimationFrame'] ||\n    root[vendors[i] + 'CancelRequestAnimationFrame']\n}\n\n// Test if native implementation works.\n// There are some issues on ios6\n// http://shitwebkitdoes.tumblr.com/post/47186945856/native-requestanimationframe-broken-on-ios-6\n// https://gist.github.com/KrofDrakula/5318048\n\nif (exports.request) {\n  exports.request.call(null, function() {\n    exports.supported = true\n  })\n}\n","'use strict'\n\n/**\n * Crossplatform Date.now()\n *\n * @return {Number} time in ms\n * @api private\n */\nmodule.exports = Date.now || function() {\n  return (new Date).getTime()\n}\n","'use strict'\n\nvar now = require('./now')\n\n/**\n * Replacement for PerformanceTiming.navigationStart for the case when\n * performance.now is not implemented.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/PerformanceTiming.navigationStart\n *\n * @type {Number}\n * @api private\n */\nexports.navigationStart = now()\n","'use strict'\n\nvar now = require('./now')\nvar PerformanceTiming = require('./performance-timing')\nvar root = require('./root')\n\n/**\n * Crossplatform performance.now()\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Performance.now()\n *\n * @return {Number} relative time in ms\n * @api public\n */\nexports.now = function () {\n  if (root.performance && root.performance.now) return root.performance.now()\n  return now() - PerformanceTiming.navigationStart\n}\n","var root\n// Browser window\nif (typeof window !== 'undefined') {\n  root = window\n// Web Worker\n} else if (typeof self !== 'undefined') {\n  root = self\n// Other environments\n} else {\n  root = this\n}\n\nmodule.exports = root\n","/*!\n * Audio5js: HTML5 Audio Compatibility Layer\n * https://github.com/zohararad/audio5js\n * License MIT (c) Zohar Arad 2013\n */\n(function ($win, ns, factory) {\n  \"use strict\";\n  /*global define */\n  /*global swfobject */\n\n  if (typeof (module) !== 'undefined' && module.exports) { // CommonJS\n    module.exports = factory(ns, $win);\n  } else if (typeof (define) === 'function' && define.amd) { // AMD\n    define(function () {\n      return factory(ns, $win);\n    });\n  } else { // <script>\n    $win[ns] = factory(ns, $win);\n  }\n\n}(window, 'Audio5js', function (ns, $win) {\n\n  \"use strict\";\n\n  var ActiveXObject = $win.ActiveXObject;\n\n  /**\n   * AudioError Class\n   * @param {String} message error message\n   * @constructor\n   */\n  function AudioError(message) {\n    this.message = message;\n  }\n\n  AudioError.prototype = new Error();\n\n  /**\n   * Clones an object\n   * @param obj object to clone\n   * @return {Object} cloned object\n   */\n  function cloneObject(obj) {\n    var clone = {}, i;\n    for (i in obj) {\n      if (typeof (obj[i]) === \"object\") {\n        clone[i] = cloneObject(obj[i]);\n      } else {\n        clone[i] = obj[i];\n      }\n    }\n    return clone;\n  }\n\n  /**\n   * Extend an object with a mixin\n   * @param {Object} target target object to extend\n   * @param {Object} mixin object to mix into target\n   * @return {*} extended object\n   */\n  var extend = function (target, mixin) {\n    var name, m = cloneObject(mixin);\n    for (name in m) {\n      if (m.hasOwnProperty(name)) {\n        target[name] = m[name];\n      }\n    }\n    return target;\n  };\n\n  /**\n   * Extend an object's prototype with a mixin\n   * @param {Object} target target object to extend\n   * @param {Object} mixin object to mix into target\n   * @return {*} extended object\n   */\n  var include = function (target, mixin) {\n    return extend(target.prototype, mixin);\n  };\n\n  var Pubsub = {\n    /**\n     * Subscribe to event on a channel\n     * @param {String} evt name of channel / event to subscribe\n     * @param {Function} fn the callback to execute on message publishing\n     * @param {Object} ctx the context in which the callback should be executed\n     */\n    on: function (evt, fn, ctx) {\n      this.subscribe(evt, fn, ctx, false);\n    },\n    /**\n     * Subscribe to a one-time event on a channel\n     * @param {String} evt name of channel / event to subscribe\n     * @param {Function} fn the callback to execute on message publishing\n     * @param {Object} ctx the context in which the callback should be executed\n     */\n    one: function(evt, fn, ctx) {\n      this.subscribe(evt, fn, ctx, true);\n    },\n    /**\n     * Unsubscribe from an event on a channel\n     * @param {String} evt name of channel / event to unsubscribe\n     * @param {Function} fn the callback used when subscribing to the event\n     */\n    off: function (evt, fn) {\n      if (this.channels[evt] === undefined) { return; }\n      var i, l;\n      for (i = 0, l = this.channels[evt].length; i  < l; i++) {\n        var sub = this.channels[evt][i].fn;\n        if (sub === fn) {\n          this.channels[evt].splice(i, 1);\n          break;\n        }\n      }\n    },\n    /**\n     * Add event subscription to channel. Called by `on` and `one`\n     * @param {String} evt name of channel / event to subscribe\n     * @param {Function} fn the callback to execute on message publishing\n     * @param {Object} ctx the context in which the callback should be executed\n     * @param {Boolean} once indicate if event should be triggered once or not\n     */\n    subscribe: function (evt, fn, ctx, once) {\n      if (this.channels === undefined) {\n        this.channels = {};\n      }\n      this.channels[evt] = this.channels[evt] || [];\n      this.channels[evt].push({fn: fn, ctx: ctx, once: (once || false)});\n    },\n    /**\n     * Publish a message on a channel. Accepts **args** after event name\n     * @param {String} evt name of channel / event to trigger\n     */\n    trigger: function (evt) {\n      if (this.channels && this.channels.hasOwnProperty(evt)) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        var a = [];\n        while(this.channels[evt].length > 0) {\n          var sub = this.channels[evt].shift();\n          if (typeof (sub.fn) === 'function') {\n            sub.fn.apply(sub.ctx, args);\n          }\n          if ( !sub.once ){\n            a.push(sub);\n          }\n        }\n        this.channels[evt] = a;\n      }\n    }\n  };\n\n  var util = {\n    /**\n     * Flash embed code string with cross-browser support.\n     */\n  flash_embed_code: function (id, swf_location, ts) {\n      var prefix;\n      var s = '<param name=\"movie\" value=\"' + swf_location + '?playerInstance=window.' + ns + '_flash.instances[\\'' + id + '\\']&datetime=' + ts + '\"/>' +\n        '<param name=\"wmode\" value=\"transparent\"/>' +\n        '<param name=\"allowscriptaccess\" value=\"always\" />' +\n        '</object>';\n      if (ActiveXObject) {\n        prefix = '<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"1\" height=\"1\" id=\"' + id + '\">';\n      } else {\n        prefix = '<object type=\"application/x-shockwave-flash\" data=\"' + swf_location + '?playerInstance=window.' + ns + '_flash.instances[\\'' + id + '\\']&datetime=' + ts + '\" width=\"1\" height=\"1\" id=\"' + id + '\" >';\n      }\n      return prefix + s;\n    },\n    /**\n     * Check if browser supports audio mime type.\n     * @param {String} mime_type audio mime type to check\n     * @return {Boolean} whether browser supports passed audio mime type\n     */\n    can_play: function (mime_type) {\n      var a = document.createElement('audio');\n      var mime_str;\n      switch (mime_type) {\n        case 'mp3':\n          mime_str = 'audio/mpeg;';\n          break;\n        case 'vorbis':\n          mime_str = 'audio/ogg; codecs=\"vorbis\"';\n          break;\n        case 'opus':\n          mime_str = 'audio/ogg; codecs=\"opus\"';\n          break;\n        case 'webm':\n          mime_str = 'audio/webm; codecs=\"vorbis\"';\n          break;\n        case 'mp4':\n          mime_str = 'audio/mp4; codecs=\"mp4a.40.5\"';\n          break;\n        case 'wav':\n          mime_str = 'audio/wav; codecs=\"1\"';\n          break;\n      }\n      if (mime_str !== undefined) {\n        if (mime_type === 'mp3' && navigator.userAgent.match(/Android/i) && navigator.userAgent.match(/Firefox/i)) {\n          return true;\n        }\n        return !!a.canPlayType && a.canPlayType(mime_str) !== '';\n      }\n      return false;\n    },\n    /**\n     * Boolean flag indicating whether the browser has Flash installed or not\n     */\n    has_flash: (function () {\n      var r = false;\n      if (navigator.plugins && navigator.plugins.length && navigator.plugins['Shockwave Flash']) {\n        r = true;\n      } else if (navigator.mimeTypes && navigator.mimeTypes.length) {\n        var mimeType = navigator.mimeTypes['application/x-shockwave-flash'];\n        r = mimeType && mimeType.enabledPlugin;\n      } else {\n        try {\n          var ax = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n          r = typeof (ax) === 'object';\n        } catch (e) {}\n      }\n      return r;\n    }()),\n    /**\n     * Embed Flash MP3 player SWF to DOM\n     * @param {String} swf_location location of MP3 player SWF\n     * @param {String} id swf unique ID used for resolving callbacks from ExternalInterface to Javascript\n     */\n    embedFlash: function (swf_location, id) {\n      var d = document.createElement('div');\n      d.style.position = 'absolute';\n      d.style.width = '1px';\n      d.style.height = '1px';\n      d.style.top = '1px';\n      document.body.appendChild(d);\n      if(typeof($win.swfobject) === 'object'){\n        var fv = {\n          playerInstance: 'window.'+ ns + '_flash.instances[\\''+id+'\\']'\n        };\n        var params = {\n          allowscriptaccess: 'always',\n          wmode: 'transparent'\n        };\n        d.innerHTML = '<div id=\"'+id+'\"></div>';\n        swfobject.embedSWF(swf_location + '?ts='+(new Date().getTime() + Math.random()), id, \"1\", \"1\", \"9.0.0\", null, fv, params);\n      } else {\n        var ts = new Date().getTime() + Math.random(); // Ensure swf is not pulled from cache\n        d.innerHTML = this.flash_embed_code(id, swf_location, ts);\n      }\n      return document.getElementById(id);\n    },\n    /**\n     * Formats seconds into a time string hh:mm:ss.\n     * @param {Number} seconds seconds to format as string\n     * @return {String} formatted time string\n     */\n    formatTime: function (seconds) {\n      var hours = parseInt(seconds / 3600, 10) % 24;\n      var minutes = parseInt(seconds / 60, 10) % 60;\n      var secs = parseInt(seconds % 60, 10);\n      var result, fragment = (minutes < 10 ? \"0\" + minutes : minutes) + \":\" + (secs  < 10 ? \"0\" + secs : secs);\n      if (hours > 0) {\n        result = (hours < 10 ? \"0\" + hours : hours) + \":\" + fragment;\n      } else {\n        result = fragment;\n      }\n      return result;\n    }\n  };\n\n  util.use_flash = util.can_play('mp3');\n\n  var Audio5js, FlashAudioPlayer, HTML5AudioPlayer;\n\n  /**\n   * Common audio attributes object. Mixed into audio players.\n   * @type {Object}\n   */\n  var AudioAttributes = {\n    playing: false, /** {Boolean} player playback state  */\n    vol: 1, /** {Float} audio volume */\n    duration: 0, /** {Float} audio duration (sec) */\n    position: 0, /** {Float} audio position (sec) */\n    load_percent: 0, /** {Float} audio file load percent (%) */\n    seekable: false, /** {Boolean} is loaded audio seekable */\n    ready: null /** {Boolean} is loaded audio seekable */\n  };\n\n  /**\n   * Global object holding flash-based player instances.\n   * Used to create a bridge between Flash's ExternalInterface calls and FlashAudioPlayer instances\n   * @type {Object}\n   */\n  var globalAudio5Flash = $win[ns + '_flash'] = $win[ns + '_flash'] || {\n    instances: { }, /** FlashAudioPlayer instance hash */\n    count: 0 /** FlashAudioPlayer instance count */\n  };\n\n  /**\n   * Flash MP3 Audio Player Class\n   * @constructor\n   */\n  FlashAudioPlayer = function () {\n    if (util.use_flash && !util.has_flash) {\n      throw new Error('Flash Plugin Missing');\n    }\n  };\n\n  FlashAudioPlayer.prototype = {\n    /**\n     * Initialize the player\n     * @param {String} swf_src path to audio player SWF file\n     */\n    init: function (swf_src) {\n      globalAudio5Flash.count += 1;\n      this.id = ns + globalAudio5Flash.count;\n      globalAudio5Flash.instances[this.id] = this;\n      this.embed(swf_src);\n    },\n    /**\n     * Embed audio player SWF in page and assign reference to audio instance variable\n     * @param {String} swf_src path to audio player SWF file\n     */\n    embed: function (swf_src) {\n      util.embedFlash(swf_src, this.id);\n    },\n    /**\n     * ExternalInterface callback indicating SWF is ready\n     */\n    eiReady: function () {\n      this.audio = document.getElementById(this.id);\n      this.trigger('ready');\n    },\n    /**\n     * ExternalInterface audio load started callback. Fires when audio starts loading.\n     */\n    eiLoadStart: function(){\n      this.trigger('loadstart');\n    },\n    /**\n     * ExternalInterface audio metadata loaded callback. Fires when audio ID3 tags have been loaded.\n     */\n    eiLoadedMetadata: function(){\n      this.trigger('loadedmetadata');\n    },\n    /**\n     * ExternalInterface audio can play callback. Fires when audio can be played.\n     */\n    eiCanPlay: function () {\n      this.trigger('canplay');\n    },\n    /**\n     * ExternalInterface timeupdate callback. Fires as long as playhead position is updated (audio is being played).\n     * @param {Float} position audio playback position (sec)\n     * @param {Float} duration audio total duration (sec)\n     * @param {Boolean} seekable is audio seekable or not (download or streaming)\n     */\n    eiTimeUpdate: function (position, duration, seekable) {\n      this.position = position;\n      this.duration = duration;\n      this.seekable = seekable;\n      this.trigger('timeupdate', position, (this.seekable ? duration : null));\n    },\n    /**\n     * ExternalInterface download progress callback. Fires as long as audio file is downloaded by browser.\n     * @param {Float} percent audio download percent\n     * @param {Float} duration audio total duration (sec)\n     * * @param {Boolean} seekable is audio seekable or not (download or streaming)\n     */\n    eiProgress: function (percent, duration, seekable) {\n      this.load_percent = percent;\n      this.duration = duration;\n      this.seekable = seekable;\n      this.trigger('progress', percent);\n    },\n    /**\n     * ExternalInterface audio load error callback.\n     * @param {String} msg error message\n     */\n    eiLoadError: function (msg) {\n      this.trigger('error', msg);\n    },\n    /**\n     * ExternalInterface audio play callback. Fires when audio starts playing.\n     */\n    eiPlay: function () {\n      this.playing = true;\n      this.trigger('play');\n    },\n    /**\n     * ExternalInterface audio pause callback. Fires when audio is paused.\n     */\n    eiPause: function () {\n      this.playing = false;\n      this.trigger('pause');\n    },\n    /**\n     * ExternalInterface audio ended callback. Fires when audio playback ended.\n     */\n    eiEnded: function () {\n      this.pause();\n      this.trigger('ended');\n    },\n    /**\n     * ExternalInterface audio seeking callback. Fires when audio is being seeked.\n     */\n    eiSeeking: function(){\n      this.trigger('seeking');\n    },\n    /**\n     * ExternalInterface audio seeked callback. Fires when audio has been seeked.\n     */\n    eiSeeked: function(){\n      this.trigger('seeked');\n    },\n    /**\n     * Resets audio position and parameters. Invoked once audio is loaded.\n     */\n    reset: function () {\n      this.seekable = false;\n      this.duration = 0;\n      this.position = 0;\n      this.load_percent = 0;\n    },\n    /**\n     * Load audio from url.\n     * @param {String} url URL of audio to load\n     */\n    load: function (url) {\n      this.reset();\n      this.audio.load(url);\n    },\n    /**\n     * Play audio\n     */\n    play: function () {\n      this.audio.pplay();\n    },\n    /**\n     * Pause audio\n     */\n    pause: function () {\n      this.audio.ppause();\n    },\n    /**\n     * Get / Set audio volume\n     * @param {Float} v audio volume to set between 0 - 1.\n     * @return {Float} current audio volume\n     */\n    volume: function (v) {\n      if (v !== undefined && !isNaN(parseInt(v, 10))) {\n        this.audio.setVolume(v);\n        this.vol = v;\n      } else {\n        return this.vol;\n      }\n    },\n    /**\n     * Seek audio to position\n     * @param {Float} position audio position in seconds to seek to.\n     */\n    seek: function (position) {\n      try {\n        this.audio.seekTo(position);\n        this.position = position;\n      } catch (e) {}\n    },\n    /**\n     * Destroy audio object and remove from DOM\n     */\n    destroyAudio: function() {\n      if(this.audio){\n        this.pause();\n        this.audio.parentNode.removeChild(this.audio);\n        delete globalAudio5Flash.instances[this.id];\n        delete this.audio;\n      }\n    }\n  };\n\n  include(FlashAudioPlayer, Pubsub);\n  include(FlashAudioPlayer, AudioAttributes);\n\n  /**\n   * HTML5 Audio Player\n   * @constructor\n   */\n  HTML5AudioPlayer = function () {};\n\n  HTML5AudioPlayer.prototype = {\n    /**\n     * Initialize the player instance\n     */\n    init: function () {\n      this.trigger('ready');\n    },\n    /**\n     * Create new audio instance\n     */\n    createAudio: function(){\n      this.audio = new Audio();\n      this.audio.autoplay = false;\n      this.audio.preload = 'auto';\n      this.audio.autobuffer = true;\n      this.bindEvents();\n    },\n    /**\n     * Destroy current audio instance\n     */\n    destroyAudio: function(){\n      if(this.audio){\n        this.pause();\n        this.unbindEvents();\n        try {\n          this.audio.setAttribute('src', '');\n        } finally {\n          delete this.audio;\n        }\n      }\n    },\n    /**\n     * Sets up audio event listeners once so adding / removing event listeners is always done\n     * on the same callbacks.\n     */\n    setupEventListeners: function(){\n      this.listeners = {\n        loadstart: this.onLoadStart.bind(this),\n        canplay: this.onLoad.bind(this),\n        loadedmetadata: this.onLoadedMetadata.bind(this),\n        play: this.onPlay.bind(this),\n        pause: this.onPause.bind(this),\n        ended: this.onEnded.bind(this),\n        error: this.onError.bind(this),\n        timeupdate: this.onTimeUpdate.bind(this),\n        seeking: this.onSeeking.bind(this),\n        seeked: this.onSeeked.bind(this)\n      };\n    },\n    /**\n     * Bind DOM events to Audio object\n     */\n    bindEvents: function() {\n      if(this.listeners === undefined){\n        this.setupEventListeners();\n      }\n      this.audio.addEventListener('loadstart', this.listeners.loadstart, false);\n      this.audio.addEventListener('canplay', this.listeners.canplay, false);\n      this.audio.addEventListener('loadedmetadata', this.listeners.loadedmetadata, false);\n      this.audio.addEventListener('play', this.listeners.play, false);\n      this.audio.addEventListener('pause', this.listeners.pause, false);\n      this.audio.addEventListener('ended', this.listeners.ended, false);\n      this.audio.addEventListener('error', this.listeners.error, false);\n      this.audio.addEventListener('timeupdate', this.listeners.timeupdate, false);\n      this.audio.addEventListener('seeking', this.listeners.seeking, false);\n      this.audio.addEventListener('seeked', this.listeners.seeked, false);\n    },\n    /**\n     * Unbind DOM events from Audio object\n     */\n    unbindEvents: function() {\n      this.audio.removeEventListener('loadstart', this.listeners.loadstart);\n      this.audio.removeEventListener('canplay', this.listeners.canplay);\n      this.audio.removeEventListener('loadedmetadata', this.listeners.loadedmetadata);\n      this.audio.removeEventListener('play', this.listeners.play);\n      this.audio.removeEventListener('pause', this.listeners.pause);\n      this.audio.removeEventListener('ended', this.listeners.ended);\n      this.audio.removeEventListener('error', this.listeners.error);\n      this.audio.removeEventListener('timeupdate', this.listeners.timeupdate);\n      this.audio.removeEventListener('seeking', this.listeners.seeking);\n      this.audio.removeEventListener('seeked', this.listeners.seeked);\n    },\n    /**\n     * Audio load start event handler. Triggered when audio starts loading\n     */\n    onLoadStart: function(){\n      this.trigger('loadstart');\n    },\n    /**\n     * Audio canplay event handler. Triggered when audio is loaded and can be played.\n     * Resets player parameters and starts audio download progress timer.\n     */\n    onLoad: function () {\n      if(!this.audio){\n        return setTimeout(this.onLoad.bind(this), 100);\n      }\n      this.seekable = this.audio.seekable && this.audio.seekable.length > 0;\n      if (this.seekable) {\n        this.timer = setInterval(this.onProgress.bind(this), 250);\n      }\n      this.trigger('canplay');\n    },\n    /**\n     * Audio ID3 load event handler. Triggered when ID3 metadata is loaded.\n     */\n    onLoadedMetadata: function(){\n      this.trigger('loadedmetadata');\n    },\n    /**\n     * Audio play event handler. Triggered when audio starts playing.\n     */\n    onPlay: function () {\n      this.playing = true;\n      this.trigger('play');\n    },\n    /**\n     * Audio pause event handler. Triggered when audio is paused.\n     */\n    onPause: function () {\n      this.playing = false;\n      this.trigger('pause');\n    },\n    /**\n     * Audio ended event handler. Triggered when audio playback has ended.\n     */\n    onEnded: function () {\n      this.playing = false;\n      this.trigger('ended');\n    },\n    /**\n     * Audio timeupdate event handler. Triggered as long as playhead position is updated (audio is being played).\n     */\n    onTimeUpdate: function () {\n      if (this.audio && this.playing) {\n        try{\n          this.position = this.audio.currentTime;\n          this.duration = this.audio.duration === Infinity ? null : this.audio.duration;\n        } catch (e){}\n        this.trigger('timeupdate', this.position, this.duration);\n      }\n    },\n    /**\n     * Audio download progress timer callback. Check audio's download percentage.\n     * Called periodically as soon as the audio loads and can be played.\n     * Cancelled when audio has fully download or when a new audio file has been loaded to the player.\n     */\n    onProgress: function () {\n      if (this.audio && this.audio.buffered !== null && this.audio.buffered.length) {\n        this.duration = this.audio.duration === Infinity ? null : this.audio.duration;\n        this.load_percent = parseInt(((this.audio.buffered.end(this.audio.buffered.length - 1) / this.duration) * 100), 10);\n        this.trigger('progress', this.load_percent);\n        if (this.load_percent >= 100) {\n          this.clearLoadProgress();\n        }\n      }\n    },\n    /**\n     * Audio error event handler\n     * @param e error event\n     */\n    onError: function (e) {\n      this.trigger('error', e);\n    },\n    /**\n     * Audio seeking event handler. Triggered when audio seek starts.\n     */\n    onSeeking: function(){\n      this.trigger('seeking');\n    },\n    /**\n     * Audio seeked event handler. Triggered when audio has been seeked.\n     */\n    onSeeked: function(){\n      this.trigger('seeked');\n    },\n    /**\n     * Clears periodical audio download progress callback.\n     */\n    clearLoadProgress: function () {\n      if (this.timer !== undefined) {\n        clearInterval(this.timer);\n        delete this.timer;\n      }\n    },\n    /**\n     * Resets audio position and parameters.\n     */\n    reset: function () {\n      this.clearLoadProgress();\n      this.seekable = false;\n      this.duration = 0;\n      this.position = 0;\n      this.load_percent = 0;\n    },\n    /**\n     * Load audio from url.\n     * @param {String} url URL of audio to load\n     */\n    load: function (url) {\n      this.reset();\n      //this.destroyAudio();\n      if(this.audio === undefined){\n        this.createAudio();\n      }\n      this.audio.setAttribute('src', url);\n      this.audio.load();\n    },\n    /**\n     * Play audio\n     */\n    play: function () {\n      this.audio.play();\n    },\n    /**\n     * Pause audio\n     */\n    pause: function () {\n      this.audio.pause();\n    },\n    /**\n     * Get / Set audio volume\n     * @param {Float} v audio volume to set between 0 - 1.\n     * @return {Float} current audio volume\n     */\n    volume: function (v) {\n      if (v !== undefined && !isNaN(parseInt(v, 10))) {\n        var vol = v < 0 ? 0 : Math.min(1, v);\n        this.audio.volume = vol;\n        this.vol = vol;\n      } else {\n        return this.vol;\n      }\n    },\n    /**\n     * Seek audio to position\n     * @param {Float} position audio position in seconds to seek to.\n     */\n    seek: function (position) {\n      var playing = this.playing;\n      this.position = position;\n      this.audio.currentTime = position;\n      if (playing) {\n        this.play();\n      } else {\n        if (this.audio.buffered !== null && this.audio.buffered.length) {\n          this.trigger('timeupdate', this.position, this.duration);\n        }\n      }\n    }\n  };\n\n  include(HTML5AudioPlayer, Pubsub);\n  include(HTML5AudioPlayer, AudioAttributes);\n\n  /**\n   * Default settings object\n   * @type {Object}\n   */\n  var settings = {\n    /**\n     * {String} path to Flash audio player SWF file\n     */\n    swf_path: '/swf/audiojs.swf',\n    /**\n     * {Boolean} flag indicating whether to throw errors to the page or trigger an error event\n     */\n    throw_errors: true,\n    /**\n     * {Boolean} flag indicating whether to format player duration and position to hh:mm:ss or pass as raw seconds\n     */\n    format_time: true,\n    /**\n     * {Array} list of codecs to try and use when initializing the player. Used to selectively initialize the internal audio player based on codec support\n     */\n    codecs: ['mp3']\n  };\n\n  /**\n   * Audio5js Audio Player\n   * @param {Object} s player settings object\n   * @constructor\n   */\n  Audio5js = function (s) {\n    s = s || {};\n    var k;\n    for (k in settings) {\n      if (settings.hasOwnProperty(k) && !s.hasOwnProperty(k)) {\n        s[k] = settings[k];\n      }\n    }\n    this.init(s);\n  };\n\n  /**\n   * Check if browser can play a given audio mime type.\n   * @param {String} mime_type audio mime type to check.\n   * @return {Boolean} is audio mime type supported by browser or not\n   */\n  Audio5js.can_play = function (mime_type) {\n    return util.can_play(mime_type);\n  };\n\n  Audio5js.prototype = {\n    /**\n     * Initialize player instance.\n     * @param {Object} s player settings object\n     */\n    init: function (s) {\n      this.ready = false;\n      this.settings = s;\n      this.audio = this.getPlayer();\n      this.bindAudioEvents();\n      if (this.settings.use_flash) {\n        this.audio.init(s.swf_path);\n      } else {\n        this.audio.init();\n      }\n    },\n    /**\n     * Gets a new audio player instance based on codec support as defined in settings.codecs array.\n     * Defaults to MP3 player either HTML or Flash based.\n     * @return {FlashAudioPlayer,HTML5AudioPlayer} audio player instance\n     */\n    getPlayer: function () {\n      var i, l, player, codec;\n      if(this.settings.use_flash){\n        player = new FlashAudioPlayer();\n        this.settings.player = {\n          engine: 'flash',\n          codec: 'mp3'\n        };\n      } else {\n        for (i = 0, l = this.settings.codecs.length; i < l; i++) {\n          codec = this.settings.codecs[i];\n          if (Audio5js.can_play(codec)) {\n            player = new HTML5AudioPlayer();\n            this.settings.use_flash = false;\n            this.settings.player = {\n              engine: 'html',\n              codec: codec\n            };\n            break;\n          }\n        }\n        if (player === undefined) {\n          // here we double check for mp3 support instead of defaulting to Flash in case user overrode the settings.codecs array with an empty array.\n          this.settings.use_flash = !Audio5js.can_play('mp3');\n          player = this.settings.use_flash ? new FlashAudioPlayer() : new HTML5AudioPlayer();\n          this.settings.player = {\n            engine: (this.settings.use_flash ? 'flash' : 'html'),\n            codec: 'mp3'\n          };\n        }\n      }\n      return player;\n    },\n    /**\n     * Bind events from audio object to internal callbacks\n     */\n    bindAudioEvents: function () {\n      this.audio.on('ready', this.onReady, this);\n      this.audio.on('loadstart', this.onLoadStart, this);\n      this.audio.on('loadedmetadata', this.onLoadedMetadata, this);\n      this.audio.on('play', this.onPlay, this);\n      this.audio.on('pause', this.onPause, this);\n      this.audio.on('ended', this.onEnded, this);\n      this.audio.on('canplay', this.onCanPlay, this);\n      this.audio.on('timeupdate', this.onTimeUpdate, this);\n      this.audio.on('progress', this.onProgress, this);\n      this.audio.on('error', this.onError, this);\n      this.audio.on('seeking', this.onSeeking, this);\n      this.audio.on('seeked', this.onSeeked, this);\n    },\n    /**\n     * Bind events from audio object to internal callbacks\n     */\n    unbindAudioEvents: function () {\n      this.audio.off('ready', this.onReady);\n      this.audio.off('loadstart', this.onLoadStart);\n      this.audio.off('loadedmetadata', this.onLoadedMetadata);\n      this.audio.off('play', this.onPlay);\n      this.audio.off('pause', this.onPause);\n      this.audio.off('ended', this.onEnded);\n      this.audio.off('canplay', this.onCanPlay);\n      this.audio.off('timeupdate', this.onTimeUpdate);\n      this.audio.off('progress', this.onProgress);\n      this.audio.off('error', this.onError);\n      this.audio.off('seeking', this.onSeeking);\n      this.audio.off('seeked', this.onSeeked);\n    },\n    /**\n     * Load audio from URL\n     * @param {String} url URL of audio to load\n     */\n    load: function (url) {\n      var that = this,\n          f = function(u){\n            that.audio.load(u);\n            that.trigger('load');\n          };\n\n      if(this.ready){\n        f(url);\n      } else {\n        this.on('ready', f);\n      }\n    },\n    /**\n     * Play audio\n     */\n    play: function () {\n      if(!this.playing){\n        this.audio.play();\n      }\n    },\n    /**\n     * Pause audio\n     */\n    pause: function () {\n      if(this.playing){\n        this.audio.pause();\n      }\n    },\n    /**\n     * Toggle audio play / pause\n     */\n    playPause: function () {\n      this[this.playing ? 'pause' : 'play']();\n    },\n    /**\n     * Get / Set audio volume\n     * @param {Float} v audio volume to set between 0 - 1.\n     * @return {Float} current audio volume\n     */\n    volume: function (v) {\n      if (v !== undefined && !isNaN(parseInt(v, 10))) {\n        this.audio.volume(v);\n        this.vol = v;\n      } else {\n        return this.vol;\n      }\n    },\n    /**\n     * Seek audio to position\n     * @param {Float} position audio position in seconds to seek to.\n     */\n    seek: function (position) {\n      this.audio.seek(position);\n      this.position = position;\n    },\n    /**\n     * Destroy audio object and remove from DOM\n     */\n    destroy: function() {\n      this.unbindAudioEvents();\n      this.audio.destroyAudio();\n    },\n    /**\n     * Callback for audio ready event. Indicates audio is ready for playback.\n     * Looks for ready callback in settings object and invokes it in the context of player instance\n     */\n    onReady: function () {\n      this.ready = true;\n      if (typeof (this.settings.ready) === 'function') {\n        this.settings.ready.call(this, this.settings.player);\n      }\n      this.trigger('ready');\n    },\n    /**\n     * Audio load start event handler\n     */\n    onLoadStart: function(){\n      this.trigger('loadstart');\n    },\n    /**\n     * Audio metadata loaded event handler\n     */\n    onLoadedMetadata: function(){\n      this.trigger('loadedmetadata');\n    },\n    /**\n     * Audio play event handler\n     */\n    onPlay: function () {\n      this.playing = true;\n      this.trigger('play');\n    },\n    /**\n     * Audio pause event handler\n     */\n    onPause: function () {\n      this.playing = false;\n      this.trigger('pause');\n    },\n    /**\n     * Playback end event handler\n     */\n    onEnded: function () {\n      this.playing = false;\n      this.trigger('ended');\n    },\n    /**\n     * Audio error event handler\n     */\n    onError: function () {\n      var error = new AudioError('Audio Error. Failed to Load Audio');\n      if (this.settings.throw_errors) {\n        throw error;\n      } else {\n        this.trigger('error', error);\n      }\n    },\n    /**\n     * Audio canplay event handler. Triggered when enough audio has been loaded to by played.\n     */\n    onCanPlay: function () {\n      this.trigger('canplay');\n    },\n    /**\n     * Audio seeking event handler\n     */\n    onSeeking: function(){\n      this.trigger('seeking');\n    },\n    /**\n     * Audio seeked event handler\n     */\n    onSeeked: function(){\n      this.trigger('seeked');\n    },\n    /**\n     * Playback time update event handler\n     * @param {Float} position play head position (sec)\n     * @param {Float} duration audio duration (sec)\n     */\n    onTimeUpdate: function (position, duration) {\n      this.position = this.settings.format_time ? util.formatTime(position) : position;\n      if (this.duration !== duration) {\n        this.duration = this.settings.format_time && duration !== null ? util.formatTime(duration) : duration;\n      }\n      this.trigger('timeupdate', this.position, this.duration);\n    },\n    /**\n     * Audio download progress event handler\n     * @param {Float} loaded audio download percent\n     */\n    onProgress: function (loaded) {\n      this.duration = this.audio.duration;\n      this.load_percent = loaded;\n      this.trigger('progress', loaded);\n    }\n  };\n\n  include(Audio5js, Pubsub);\n  include(Audio5js, AudioAttributes);\n\n  return Audio5js;\n\n}));\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/*! npm.im/intervalometer */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction intervalometer(cb, request, cancel, requestParameter) {\n\tvar requestId;\n\tvar previousLoopTime;\n\tfunction loop(now) {\n\t\t// must be requested before cb() because that might call .stop()\n\t\trequestId = request(loop, requestParameter);\n\n\t\t// called with \"ms since last call\". 0 on start()\n\t\tcb(now - (previousLoopTime || now));\n\n\t\tpreviousLoopTime = now;\n\t}\n\treturn {\n\t\tstart: function start() {\n\t\t\tif (!requestId) { // prevent double starts\n\t\t\t\tloop(0);\n\t\t\t}\n\t\t},\n\t\tstop: function stop() {\n\t\t\tcancel(requestId);\n\t\t\trequestId = null;\n\t\t\tpreviousLoopTime = 0;\n\t\t}\n\t};\n}\n\nfunction frameIntervalometer(cb) {\n\treturn intervalometer(cb, requestAnimationFrame, cancelAnimationFrame);\n}\n\nfunction timerIntervalometer(cb, delay) {\n\treturn intervalometer(cb, setTimeout, clearTimeout, delay);\n}\n\nexports.intervalometer = intervalometer;\nexports.frameIntervalometer = frameIntervalometer;\nexports.timerIntervalometer = timerIntervalometer;","/*! npm.im/iphone-inline-video */\n'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar Symbol = _interopDefault(require('poor-mans-symbol'));\nvar intervalometer = require('intervalometer');\n\nfunction preventEvent(element, eventName, toggleProperty, preventWithProperty) {\n\tfunction handler(e) {\n\t\tif (Boolean(element[toggleProperty]) === Boolean(preventWithProperty)) {\n\t\t\te.stopImmediatePropagation();\n\t\t\t// console.log(eventName, 'prevented on', element);\n\t\t}\n\t\tdelete element[toggleProperty];\n\t}\n\telement.addEventListener(eventName, handler, false);\n\n\t// Return handler to allow to disable the prevention. Usage:\n\t// const preventionHandler = preventEvent(el, 'click');\n\t// el.removeEventHandler('click', preventionHandler);\n\treturn handler;\n}\n\nfunction proxyProperty(object, propertyName, sourceObject, copyFirst) {\n\tfunction get() {\n\t\treturn sourceObject[propertyName];\n\t}\n\tfunction set(value) {\n\t\tsourceObject[propertyName] = value;\n\t}\n\n\tif (copyFirst) {\n\t\tset(object[propertyName]);\n\t}\n\n\tObject.defineProperty(object, propertyName, {get: get, set: set});\n}\n\nfunction proxyEvent(object, eventName, sourceObject) {\n\tsourceObject.addEventListener(eventName, function () { return object.dispatchEvent(new Event(eventName)); });\n}\n\nfunction dispatchEventAsync(element, type) {\n\tPromise.resolve().then(function () {\n\t\telement.dispatchEvent(new Event(type));\n\t});\n}\n\n// iOS 10 adds support for native inline playback + silent autoplay\nvar isWhitelisted = 'object-fit' in document.head.style && /iPhone|iPod/i.test(navigator.userAgent) && !matchMedia('(-webkit-video-playable-inline)').matches;\n\nvar ಠ = Symbol();\nvar ಠevent = Symbol();\nvar ಠplay = Symbol('nativeplay');\nvar ಠpause = Symbol('nativepause');\n\n/**\n * UTILS\n */\n\nfunction getAudioFromVideo(video) {\n\tvar audio = new Audio();\n\tproxyEvent(video, 'play', audio);\n\tproxyEvent(video, 'playing', audio);\n\tproxyEvent(video, 'pause', audio);\n\taudio.crossOrigin = video.crossOrigin;\n\n\t// 'data:' causes audio.networkState > 0\n\t// which then allows to keep <audio> in a resumable playing state\n\t// i.e. once you set a real src it will keep playing if it was if .play() was called\n\taudio.src = video.src || video.currentSrc || 'data:';\n\n\t// if (audio.src === 'data:') {\n\t//   TODO: wait for video to be selected\n\t// }\n\treturn audio;\n}\n\nvar lastRequests = [];\nvar requestIndex = 0;\nvar lastTimeupdateEvent;\n\nfunction setTime(video, time, rememberOnly) {\n\t// allow one timeupdate event every 200+ ms\n\tif ((lastTimeupdateEvent || 0) + 200 < Date.now()) {\n\t\tvideo[ಠevent] = true;\n\t\tlastTimeupdateEvent = Date.now();\n\t}\n\tif (!rememberOnly) {\n\t\tvideo.currentTime = time;\n\t}\n\tlastRequests[++requestIndex % 3] = time * 100 | 0 / 100;\n}\n\nfunction isPlayerEnded(player) {\n\treturn player.driver.currentTime >= player.video.duration;\n}\n\nfunction update(timeDiff) {\n\tvar player = this;\n\t// console.log('update', player.video.readyState, player.video.networkState, player.driver.readyState, player.driver.networkState, player.driver.paused);\n\tif (player.video.readyState >= player.video.HAVE_FUTURE_DATA) {\n\t\tif (!player.hasAudio) {\n\t\t\tplayer.driver.currentTime = player.video.currentTime + ((timeDiff * player.video.playbackRate) / 1000);\n\t\t\tif (player.video.loop && isPlayerEnded(player)) {\n\t\t\t\tplayer.driver.currentTime = 0;\n\t\t\t}\n\t\t}\n\t\tsetTime(player.video, player.driver.currentTime);\n\t} else if (player.video.networkState === player.video.NETWORK_IDLE && !player.video.buffered.length) {\n\t\t// this should happen when the source is available but:\n\t\t// - it's potentially playing (.paused === false)\n\t\t// - it's not ready to play\n\t\t// - it's not loading\n\t\t// If it hasAudio, that will be loaded in the 'emptied' handler below\n\t\tplayer.video.load();\n\t\t// console.log('Will load');\n\t}\n\n\t// console.assert(player.video.currentTime === player.driver.currentTime, 'Video not updating!');\n\n\tif (player.video.ended) {\n\t\tdelete player.video[ಠevent]; // allow timeupdate event\n\t\tplayer.video.pause(true);\n\t}\n}\n\n/**\n * METHODS\n */\n\nfunction play() {\n\t// console.log('play');\n\tvar video = this;\n\tvar player = video[ಠ];\n\n\t// if it's fullscreen, use the native player\n\tif (video.webkitDisplayingFullscreen) {\n\t\tvideo[ಠplay]();\n\t\treturn;\n\t}\n\n\tif (player.driver.src !== 'data:' && player.driver.src !== video.src) {\n\t\t// console.log('src changed on play', video.src);\n\t\tsetTime(video, 0, true);\n\t\tplayer.driver.src = video.src;\n\t}\n\n\tif (!video.paused) {\n\t\treturn;\n\t}\n\tplayer.paused = false;\n\n\tif (!video.buffered.length) {\n\t\t// .load() causes the emptied event\n\t\t// the alternative is .play()+.pause() but that triggers play/pause events, even worse\n\t\t// possibly the alternative is preventing this event only once\n\t\tvideo.load();\n\t}\n\n\tplayer.driver.play();\n\tplayer.updater.start();\n\n\tif (!player.hasAudio) {\n\t\tdispatchEventAsync(video, 'play');\n\t\tif (player.video.readyState >= player.video.HAVE_ENOUGH_DATA) {\n\t\t\t// console.log('onplay');\n\t\t\tdispatchEventAsync(video, 'playing');\n\t\t}\n\t}\n}\nfunction pause(forceEvents) {\n\t// console.log('pause');\n\tvar video = this;\n\tvar player = video[ಠ];\n\n\tplayer.driver.pause();\n\tplayer.updater.stop();\n\n\t// if it's fullscreen, the developer the native player.pause()\n\t// This is at the end of pause() because it also\n\t// needs to make sure that the simulation is paused\n\tif (video.webkitDisplayingFullscreen) {\n\t\tvideo[ಠpause]();\n\t}\n\n\tif (player.paused && !forceEvents) {\n\t\treturn;\n\t}\n\n\tplayer.paused = true;\n\tif (!player.hasAudio) {\n\t\tdispatchEventAsync(video, 'pause');\n\t}\n\tif (video.ended) {\n\t\tvideo[ಠevent] = true;\n\t\tdispatchEventAsync(video, 'ended');\n\t}\n}\n\n/**\n * SETUP\n */\n\nfunction addPlayer(video, hasAudio) {\n\tvar player = video[ಠ] = {};\n\tplayer.paused = true; // track whether 'pause' events have been fired\n\tplayer.hasAudio = hasAudio;\n\tplayer.video = video;\n\tplayer.updater = intervalometer.frameIntervalometer(update.bind(player));\n\n\tif (hasAudio) {\n\t\tplayer.driver = getAudioFromVideo(video);\n\t} else {\n\t\tvideo.addEventListener('canplay', function () {\n\t\t\tif (!video.paused) {\n\t\t\t\t// console.log('oncanplay');\n\t\t\t\tdispatchEventAsync(video, 'playing');\n\t\t\t}\n\t\t});\n\t\tplayer.driver = {\n\t\t\tsrc: video.src || video.currentSrc || 'data:',\n\t\t\tmuted: true,\n\t\t\tpaused: true,\n\t\t\tpause: function () {\n\t\t\t\tplayer.driver.paused = true;\n\t\t\t},\n\t\t\tplay: function () {\n\t\t\t\tplayer.driver.paused = false;\n\t\t\t\t// media automatically goes to 0 if .play() is called when it's done\n\t\t\t\tif (isPlayerEnded(player)) {\n\t\t\t\t\tsetTime(video, 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget ended() {\n\t\t\t\treturn isPlayerEnded(player);\n\t\t\t}\n\t\t};\n\t}\n\n\t// .load() causes the emptied event\n\tvideo.addEventListener('emptied', function () {\n\t\t// console.log('driver src is', player.driver.src);\n\t\tvar wasEmpty = !player.driver.src || player.driver.src === 'data:';\n\t\tif (player.driver.src && player.driver.src !== video.src) {\n\t\t\t// console.log('src changed to', video.src);\n\t\t\tsetTime(video, 0, true);\n\t\t\tplayer.driver.src = video.src;\n\t\t\t// playing videos will only keep playing if no src was present when .play()’ed\n\t\t\tif (wasEmpty) {\n\t\t\t\tplayer.driver.play();\n\t\t\t} else {\n\t\t\t\tplayer.updater.stop();\n\t\t\t}\n\t\t}\n\t}, false);\n\n\t// stop programmatic player when OS takes over\n\tvideo.addEventListener('webkitbeginfullscreen', function () {\n\t\tif (!video.paused) {\n\t\t\t// make sure that the <audio> and the syncer/updater are stopped\n\t\t\tvideo.pause();\n\n\t\t\t// play video natively\n\t\t\tvideo[ಠplay]();\n\t\t} else if (hasAudio && !player.driver.buffered.length) {\n\t\t\t// if the first play is native,\n\t\t\t// the <audio> needs to be buffered manually\n\t\t\t// so when the fullscreen ends, it can be set to the same current time\n\t\t\tplayer.driver.load();\n\t\t}\n\t});\n\tif (hasAudio) {\n\t\tvideo.addEventListener('webkitendfullscreen', function () {\n\t\t\t// sync audio to new video position\n\t\t\tplayer.driver.currentTime = video.currentTime;\n\t\t\t// console.assert(player.driver.currentTime === video.currentTime, 'Audio not synced');\n\t\t});\n\n\t\t// allow seeking\n\t\tvideo.addEventListener('seeking', function () {\n\t\t\tif (lastRequests.indexOf(video.currentTime * 100 | 0 / 100) < 0) {\n\t\t\t\t// console.log('User-requested seeking');\n\t\t\t\tplayer.driver.currentTime = video.currentTime;\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction overloadAPI(video) {\n\tvar player = video[ಠ];\n\tvideo[ಠplay] = video.play;\n\tvideo[ಠpause] = video.pause;\n\tvideo.play = play;\n\tvideo.pause = pause;\n\tproxyProperty(video, 'paused', player.driver);\n\tproxyProperty(video, 'muted', player.driver, true);\n\tproxyProperty(video, 'playbackRate', player.driver, true);\n\tproxyProperty(video, 'ended', player.driver);\n\tproxyProperty(video, 'loop', player.driver, true);\n\tpreventEvent(video, 'seeking');\n\tpreventEvent(video, 'seeked');\n\tpreventEvent(video, 'timeupdate', ಠevent, false);\n\tpreventEvent(video, 'ended', ಠevent, false); // prevent occasional native ended events\n}\n\nfunction enableInlineVideo(video, hasAudio, onlyWhitelisted) {\n\tif ( hasAudio === void 0 ) hasAudio = true;\n\tif ( onlyWhitelisted === void 0 ) onlyWhitelisted = true;\n\n\tif ((onlyWhitelisted && !isWhitelisted) || video[ಠ]) {\n\t\treturn;\n\t}\n\taddPlayer(video, hasAudio);\n\toverloadAPI(video);\n\tvideo.classList.add('IIV');\n\tif (!hasAudio && video.autoplay) {\n\t\tvideo.play();\n\t}\n\tif (!/iPhone|iPod|iPad/.test(navigator.platform)) {\n\t\tconsole.warn('iphone-inline-video is not guaranteed to work in emulated environments');\n\t}\n}\n\nenableInlineVideo.isWhitelisted = isWhitelisted;\n\nmodule.exports = enableInlineVideo;","/*!\n * jQuery Mousewheel 3.1.13\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n */\n\n(function (factory) {\n    if ( typeof define === 'function' && define.amd ) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object') {\n        // Node/CommonJS style for Browserify\n        module.exports = factory;\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n\n    var toFix  = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll'],\n        toBind = ( 'onwheel' in document || document.documentMode >= 9 ) ?\n                    ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'],\n        slice  = Array.prototype.slice,\n        nullLowestDeltaTimeout, lowestDelta;\n\n    if ( $.event.fixHooks ) {\n        for ( var i = toFix.length; i; ) {\n            $.event.fixHooks[ toFix[--i] ] = $.event.mouseHooks;\n        }\n    }\n\n    var special = $.event.special.mousewheel = {\n        version: '3.1.12',\n\n        setup: function() {\n            if ( this.addEventListener ) {\n                for ( var i = toBind.length; i; ) {\n                    this.addEventListener( toBind[--i], handler, false );\n                }\n            } else {\n                this.onmousewheel = handler;\n            }\n            // Store the line height and page height for this particular element\n            $.data(this, 'mousewheel-line-height', special.getLineHeight(this));\n            $.data(this, 'mousewheel-page-height', special.getPageHeight(this));\n        },\n\n        teardown: function() {\n            if ( this.removeEventListener ) {\n                for ( var i = toBind.length; i; ) {\n                    this.removeEventListener( toBind[--i], handler, false );\n                }\n            } else {\n                this.onmousewheel = null;\n            }\n            // Clean up the data we added to the element\n            $.removeData(this, 'mousewheel-line-height');\n            $.removeData(this, 'mousewheel-page-height');\n        },\n\n        getLineHeight: function(elem) {\n            var $elem = $(elem),\n                $parent = $elem['offsetParent' in $.fn ? 'offsetParent' : 'parent']();\n            if (!$parent.length) {\n                $parent = $('body');\n            }\n            return parseInt($parent.css('fontSize'), 10) || parseInt($elem.css('fontSize'), 10) || 16;\n        },\n\n        getPageHeight: function(elem) {\n            return $(elem).height();\n        },\n\n        settings: {\n            adjustOldDeltas: true, // see shouldAdjustOldDeltas() below\n            normalizeOffset: true  // calls getBoundingClientRect for each event\n        }\n    };\n\n    $.fn.extend({\n        mousewheel: function(fn) {\n            return fn ? this.bind('mousewheel', fn) : this.trigger('mousewheel');\n        },\n\n        unmousewheel: function(fn) {\n            return this.unbind('mousewheel', fn);\n        }\n    });\n\n\n    function handler(event) {\n        var orgEvent   = event || window.event,\n            args       = slice.call(arguments, 1),\n            delta      = 0,\n            deltaX     = 0,\n            deltaY     = 0,\n            absDelta   = 0,\n            offsetX    = 0,\n            offsetY    = 0;\n        event = $.event.fix(orgEvent);\n        event.type = 'mousewheel';\n\n        // Old school scrollwheel delta\n        if ( 'detail'      in orgEvent ) { deltaY = orgEvent.detail * -1;      }\n        if ( 'wheelDelta'  in orgEvent ) { deltaY = orgEvent.wheelDelta;       }\n        if ( 'wheelDeltaY' in orgEvent ) { deltaY = orgEvent.wheelDeltaY;      }\n        if ( 'wheelDeltaX' in orgEvent ) { deltaX = orgEvent.wheelDeltaX * -1; }\n\n        // Firefox < 17 horizontal scrolling related to DOMMouseScroll event\n        if ( 'axis' in orgEvent && orgEvent.axis === orgEvent.HORIZONTAL_AXIS ) {\n            deltaX = deltaY * -1;\n            deltaY = 0;\n        }\n\n        // Set delta to be deltaY or deltaX if deltaY is 0 for backwards compatabilitiy\n        delta = deltaY === 0 ? deltaX : deltaY;\n\n        // New school wheel delta (wheel event)\n        if ( 'deltaY' in orgEvent ) {\n            deltaY = orgEvent.deltaY * -1;\n            delta  = deltaY;\n        }\n        if ( 'deltaX' in orgEvent ) {\n            deltaX = orgEvent.deltaX;\n            if ( deltaY === 0 ) { delta  = deltaX * -1; }\n        }\n\n        // No change actually happened, no reason to go any further\n        if ( deltaY === 0 && deltaX === 0 ) { return; }\n\n        // Need to convert lines and pages to pixels if we aren't already in pixels\n        // There are three delta modes:\n        //   * deltaMode 0 is by pixels, nothing to do\n        //   * deltaMode 1 is by lines\n        //   * deltaMode 2 is by pages\n        if ( orgEvent.deltaMode === 1 ) {\n            var lineHeight = $.data(this, 'mousewheel-line-height');\n            delta  *= lineHeight;\n            deltaY *= lineHeight;\n            deltaX *= lineHeight;\n        } else if ( orgEvent.deltaMode === 2 ) {\n            var pageHeight = $.data(this, 'mousewheel-page-height');\n            delta  *= pageHeight;\n            deltaY *= pageHeight;\n            deltaX *= pageHeight;\n        }\n\n        // Store lowest absolute delta to normalize the delta values\n        absDelta = Math.max( Math.abs(deltaY), Math.abs(deltaX) );\n\n        if ( !lowestDelta || absDelta < lowestDelta ) {\n            lowestDelta = absDelta;\n\n            // Adjust older deltas if necessary\n            if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {\n                lowestDelta /= 40;\n            }\n        }\n\n        // Adjust older deltas if necessary\n        if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {\n            // Divide all the things by 40!\n            delta  /= 40;\n            deltaX /= 40;\n            deltaY /= 40;\n        }\n\n        // Get a whole, normalized value for the deltas\n        delta  = Math[ delta  >= 1 ? 'floor' : 'ceil' ](delta  / lowestDelta);\n        deltaX = Math[ deltaX >= 1 ? 'floor' : 'ceil' ](deltaX / lowestDelta);\n        deltaY = Math[ deltaY >= 1 ? 'floor' : 'ceil' ](deltaY / lowestDelta);\n\n        // Normalise offsetX and offsetY properties\n        if ( special.settings.normalizeOffset && this.getBoundingClientRect ) {\n            var boundingRect = this.getBoundingClientRect();\n            offsetX = event.clientX - boundingRect.left;\n            offsetY = event.clientY - boundingRect.top;\n        }\n\n        // Add information to the event object\n        event.deltaX = deltaX;\n        event.deltaY = deltaY;\n        event.deltaFactor = lowestDelta;\n        event.offsetX = offsetX;\n        event.offsetY = offsetY;\n        // Go ahead and set deltaMode to 0 since we converted to pixels\n        // Although this is a little odd since we overwrite the deltaX/Y\n        // properties with normalized deltas.\n        event.deltaMode = 0;\n\n        // Add event and delta to the front of the arguments\n        args.unshift(event, delta, deltaX, deltaY);\n\n        // Clearout lowestDelta after sometime to better\n        // handle multiple device types that give different\n        // a different lowestDelta\n        // Ex: trackpad = 3 and mouse wheel = 120\n        if (nullLowestDeltaTimeout) { clearTimeout(nullLowestDeltaTimeout); }\n        nullLowestDeltaTimeout = setTimeout(nullLowestDelta, 200);\n\n        return ($.event.dispatch || $.event.handle).apply(this, args);\n    }\n\n    function nullLowestDelta() {\n        lowestDelta = null;\n    }\n\n    function shouldAdjustOldDeltas(orgEvent, absDelta) {\n        // If this is an older event and the delta is divisable by 120,\n        // then we are assuming that the browser is treating this as an\n        // older mouse wheel event and that we should divide the deltas\n        // by 40 to try and get a more usable deltaFactor.\n        // Side note, this actually impacts the reported scroll distance\n        // in older browsers and can cause scrolling to be slower than native.\n        // Turn this off by setting $.event.special.mousewheel.settings.adjustOldDeltas to false.\n        return special.settings.adjustOldDeltas && orgEvent.type === 'mousewheel' && absDelta % 120 === 0;\n    }\n\n}));\n","\nmodule.exports = function load (src, opts, cb) {\n  var head = document.head || document.getElementsByTagName('head')[0]\n  var script = document.createElement('script')\n\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n\n  opts = opts || {}\n  cb = cb || function() {}\n\n  script.type = opts.type || 'text/javascript'\n  script.charset = opts.charset || 'utf8';\n  script.async = 'async' in opts ? !!opts.async : true\n  script.src = src\n\n  if (opts.attrs) {\n    setAttributes(script, opts.attrs)\n  }\n\n  if (opts.text) {\n    script.text = '' + opts.text\n  }\n\n  var onend = 'onload' in script ? stdOnEnd : ieOnEnd\n  onend(script, cb)\n\n  // some good legacy browsers (firefox) fail the 'in' detection above\n  // so as a fallback we always set onload\n  // old IE will ignore this and new IE will set onload\n  if (!script.onload) {\n    stdOnEnd(script, cb);\n  }\n\n  head.appendChild(script)\n}\n\nfunction setAttributes(script, attrs) {\n  for (var attr in attrs) {\n    script.setAttribute(attr, attrs[attr]);\n  }\n}\n\nfunction stdOnEnd (script, cb) {\n  script.onload = function () {\n    this.onerror = this.onload = null\n    cb(null, script)\n  }\n  script.onerror = function () {\n    // this.onload = null here is necessary\n    // because even IE9 works not like others\n    this.onerror = this.onload = null\n    cb(new Error('Failed to load ' + this.src), script)\n  }\n}\n\nfunction ieOnEnd (script, cb) {\n  script.onreadystatechange = function () {\n    if (this.readyState != 'complete' && this.readyState != 'loaded') return\n    this.onreadystatechange = null\n    cb(null, script) // there is no way to catch loading errors in IE8\n  }\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","'use strict';\n\nvar index = typeof Symbol === 'undefined' ? function (description) {\n\treturn '@' + (description || '@') + Math.random();\n} : Symbol;\n\nmodule.exports = index;","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n* @link https://github.com/gajus/sister for the canonical source repository\n* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause\n*/\nfunction Sister () {\n    var sister = {},\n        events = {};\n\n    /**\n     * @name handler\n     * @function\n     * @param {Object} data Event data.\n     */\n\n    /**\n     * @param {String} name Event name.\n     * @param {handler} handler\n     * @return {listener}\n     */\n    sister.on = function (name, handler) {\n        var listener = {name: name, handler: handler};\n        events[name] = events[name] || [];\n        events[name].unshift(listener);\n        return listener;\n    };\n\n    /**\n     * @param {listener}\n     */\n    sister.off = function (listener) {\n        var index = events[listener.name].indexOf(listener);\n\n        if (index != -1) {\n            events[listener.name].splice(index, 1);\n        }\n    };\n\n    /**\n     * @param {String} name Event name.\n     * @param {Object} data Event data.\n     */\n    sister.trigger = function (name, data) {\n        var listeners = events[name],\n            i;\n\n        if (listeners) {\n            i = listeners.length;\n            while (i--) {\n                listeners[i].handler(data);\n            }\n        }\n    };\n\n    return sister;\n}\n\nglobal.gajus = global.gajus || {};\nglobal.gajus.Sister = Sister;\n\nmodule.exports = Sister;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PlayerStates = require('./constants/PlayerStates');\n\nvar _PlayerStates2 = _interopRequireDefault(_PlayerStates);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  pauseVideo: {\n    acceptableStates: [_PlayerStates2.default.ENDED, _PlayerStates2.default.PAUSED],\n    stateChangeRequired: false\n  },\n  playVideo: {\n    acceptableStates: [_PlayerStates2.default.ENDED, _PlayerStates2.default.PLAYING],\n    stateChangeRequired: false\n  },\n  seekTo: {\n    acceptableStates: [_PlayerStates2.default.ENDED, _PlayerStates2.default.PLAYING, _PlayerStates2.default.PAUSED],\n    stateChangeRequired: true,\n\n    // TRICKY: `seekTo` may not cause a state change if no buffering is\n    // required.\n    timeout: 3000\n  }\n};\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _functionNames = require('./functionNames');\n\nvar _functionNames2 = _interopRequireDefault(_functionNames);\n\nvar _eventNames = require('./eventNames');\n\nvar _eventNames2 = _interopRequireDefault(_eventNames);\n\nvar _FunctionStateMap = require('./FunctionStateMap');\n\nvar _FunctionStateMap2 = _interopRequireDefault(_FunctionStateMap);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar debug = (0, _debug2.default)('youtube-player');\n\nvar YouTubePlayer = {};\n\n/**\n * Construct an object that defines an event handler for all of the YouTube\n * player events. Proxy captured events through an event emitter.\n *\n * @todo Capture event parameters.\n * @see https://developers.google.com/youtube/iframe_api_reference#Events\n */\nYouTubePlayer.proxyEvents = function (emitter) {\n  var events = {};\n\n  var _loop = function _loop(eventName) {\n    var onEventName = 'on' + eventName.slice(0, 1).toUpperCase() + eventName.slice(1);\n\n    events[onEventName] = function (event) {\n      debug('event \"%s\"', onEventName, event);\n\n      emitter.trigger(eventName, event);\n    };\n  };\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = _eventNames2.default[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var eventName = _step.value;\n\n      _loop(eventName);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return events;\n};\n\n/**\n * Delays player API method execution until player state is ready.\n *\n * @todo Proxy all of the methods using Object.keys.\n * @todo See TRICKY below.\n * @param playerAPIReady Promise that resolves when player is ready.\n * @param strictState A flag designating whether or not to wait for\n * an acceptable state when calling supported functions.\n * @returns {Object}\n */\nYouTubePlayer.promisifyPlayer = function (playerAPIReady) {\n  var strictState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var functions = {};\n\n  var _loop2 = function _loop2(functionName) {\n    if (strictState && _FunctionStateMap2.default[functionName]) {\n      functions[functionName] = function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return playerAPIReady.then(function (player) {\n          var stateInfo = _FunctionStateMap2.default[functionName];\n          var playerState = player.getPlayerState();\n\n          // eslint-disable-next-line no-warning-comments\n          // TODO: Just spread the args into the function once Babel is fixed:\n          // https://github.com/babel/babel/issues/4270\n          //\n          // eslint-disable-next-line prefer-spread\n          var value = player[functionName].apply(player, args);\n\n          // TRICKY: For functions like `seekTo`, a change in state must be\n          // triggered given that the resulting state could match the initial\n          // state.\n          if (stateInfo.stateChangeRequired ||\n\n          // eslint-disable-next-line no-extra-parens\n          Array.isArray(stateInfo.acceptableStates) && stateInfo.acceptableStates.indexOf(playerState) === -1) {\n            return new Promise(function (resolve) {\n              var onPlayerStateChange = function onPlayerStateChange() {\n                var playerStateAfterChange = player.getPlayerState();\n\n                var timeout = void 0;\n\n                if (typeof stateInfo.timeout === 'number') {\n                  timeout = setTimeout(function () {\n                    player.removeEventListener('onStateChange', onPlayerStateChange);\n\n                    resolve();\n                  }, stateInfo.timeout);\n                }\n\n                if (Array.isArray(stateInfo.acceptableStates) && stateInfo.acceptableStates.indexOf(playerStateAfterChange) !== -1) {\n                  player.removeEventListener('onStateChange', onPlayerStateChange);\n\n                  clearTimeout(timeout);\n\n                  resolve();\n                }\n              };\n\n              player.addEventListener('onStateChange', onPlayerStateChange);\n            }).then(function () {\n              return value;\n            });\n          }\n\n          return value;\n        });\n      };\n    } else {\n      functions[functionName] = function () {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        return playerAPIReady.then(function (player) {\n          // eslint-disable-next-line no-warning-comments\n          // TODO: Just spread the args into the function once Babel is fixed:\n          // https://github.com/babel/babel/issues/4270\n          //\n          // eslint-disable-next-line prefer-spread\n          return player[functionName].apply(player, args);\n        });\n      };\n    }\n  };\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = _functionNames2.default[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var functionName = _step2.value;\n\n      _loop2(functionName);\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return functions;\n};\n\nexports.default = YouTubePlayer;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  BUFFERING: 3,\n  ENDED: 0,\n  PAUSED: 2,\n  PLAYING: 1,\n  UNSTARTED: -1,\n  VIDEO_CUED: 5\n};\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\n/**\n * @see https://developers.google.com/youtube/iframe_api_reference#Events\n * `volumeChange` is not officially supported but seems to work\n * it emits an object: `{volume: 82.6923076923077, muted: false}`\n */\nexports.default = ['ready', 'stateChange', 'playbackQualityChange', 'playbackRateChange', 'error', 'apiChange', 'volumeChange'];\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\n/**\n * @see https://developers.google.com/youtube/iframe_api_reference#Functions\n */\nexports.default = ['cueVideoById', 'loadVideoById', 'cueVideoByUrl', 'loadVideoByUrl', 'playVideo', 'pauseVideo', 'stopVideo', 'getVideoLoadedFraction', 'cuePlaylist', 'loadPlaylist', 'nextVideo', 'previousVideo', 'playVideoAt', 'setShuffle', 'setLoop', 'getPlaylist', 'getPlaylistIndex', 'setOption', 'mute', 'unMute', 'isMuted', 'setVolume', 'getVolume', 'seekTo', 'getPlayerState', 'getPlaybackRate', 'setPlaybackRate', 'getAvailablePlaybackRates', 'getPlaybackQuality', 'setPlaybackQuality', 'getAvailableQualityLevels', 'getCurrentTime', 'getDuration', 'removeEventListener', 'getVideoUrl', 'getVideoEmbedCode', 'getOptions', 'getOption', 'addEventListener', 'destroy', 'setSize', 'getIframe'];\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _sister = require('sister');\n\nvar _sister2 = _interopRequireDefault(_sister);\n\nvar _loadYouTubeIframeApi = require('./loadYouTubeIframeApi');\n\nvar _loadYouTubeIframeApi2 = _interopRequireDefault(_loadYouTubeIframeApi);\n\nvar _YouTubePlayer = require('./YouTubePlayer');\n\nvar _YouTubePlayer2 = _interopRequireDefault(_YouTubePlayer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @typedef YT.Player\n * @see https://developers.google.com/youtube/iframe_api_reference\n * */\n\n/**\n * @see https://developers.google.com/youtube/iframe_api_reference#Loading_a_Video_Player\n */\nvar youtubeIframeAPI = void 0;\n\n/**\n * A factory function used to produce an instance of YT.Player and queue function calls and proxy events of the resulting object.\n *\n * @param elementId Either An existing YT.Player instance,\n * the DOM element or the id of the HTML element where the API will insert an <iframe>.\n * @param options See `options` (Ignored when using an existing YT.Player instance).\n * @param strictState A flag designating whether or not to wait for\n * an acceptable state when calling supported functions. Default: `false`.\n * See `FunctionStateMap.js` for supported functions and acceptable states.\n */\n\nexports.default = function (maybeElementId) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var strictState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var emitter = (0, _sister2.default)();\n\n  if (!youtubeIframeAPI) {\n    youtubeIframeAPI = (0, _loadYouTubeIframeApi2.default)();\n  }\n\n  if (options.events) {\n    throw new Error('Event handlers cannot be overwritten.');\n  }\n\n  if (typeof maybeElementId === 'string' && !document.getElementById(maybeElementId)) {\n    throw new Error('Element \"' + maybeElementId + '\" does not exist.');\n  }\n\n  options.events = _YouTubePlayer2.default.proxyEvents(emitter);\n\n  var playerAPIReady = new Promise(function (resolve) {\n    if (typeof maybeElementId === 'string' || maybeElementId instanceof HTMLElement) {\n      // eslint-disable-next-line promise/catch-or-return\n      youtubeIframeAPI.then(function (YT) {\n        var player = new YT.Player(maybeElementId, options);\n\n        emitter.on('ready', function () {\n          resolve(player);\n        });\n\n        return null;\n      });\n    } else if ((typeof maybeElementId === 'undefined' ? 'undefined' : _typeof(maybeElementId)) === 'object' && maybeElementId.playVideo instanceof Function) {\n      var player = maybeElementId;\n\n      resolve(player);\n    } else {\n      throw new TypeError('Unexpected state.');\n    }\n  });\n\n  var playerApi = _YouTubePlayer2.default.promisifyPlayer(playerAPIReady, strictState);\n\n  playerApi.on = emitter.on;\n  playerApi.off = emitter.off;\n\n  return playerApi;\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _loadScript = require('load-script');\n\nvar _loadScript2 = _interopRequireDefault(_loadScript);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  /**\n   * A promise that is resolved when window.onYouTubeIframeAPIReady is called.\n   * The promise is resolved with a reference to window.YT object.\n   */\n  var iframeAPIReady = new Promise(function (resolve) {\n    if (window.YT && window.YT.Player && window.YT.Player instanceof Function) {\n      resolve(window.YT);\n\n      return;\n    }\n\n    var previous = window.onYouTubeIframeAPIReady;\n\n    // The API will call this function when page has finished downloading\n    // the JavaScript for the player API.\n    window.onYouTubeIframeAPIReady = function () {\n      if (previous) {\n        previous();\n      }\n\n      resolve(window.YT);\n    };\n  });\n\n  var protocol = window.location.protocol === 'http:' ? 'http:' : 'https:';\n\n  (0, _loadScript2.default)(protocol + '//www.youtube.com/iframe_api');\n\n  return iframeAPIReady;\n};\n\nmodule.exports = exports['default'];","/* globals document */\n/**\n * Finds all elements with a \"data-module-init\" attribute\n * and calls the corresponding script\n */\n\n\n\nfunction initializeModules() {\n  var modules = document.querySelectorAll( \"[data-module-init]\" );\n\n  for ( var i = 0; i < modules.length; i++ ) {\n    var el = modules[ i ];\n    var names = el.getAttribute( \"data-module-init\" ).split( \" \" );\n    var Module;\n    for ( var j = 0; j < names.length; j++ ) {\n\t \n      try {\n\t\t  \n        Module = require( \"modules/\" + names[ j ] );\n\t\t\n      } catch ( e ) {\n        Module = false;\n        console.log( names[ j ] + \" module does not exist.\" );\n      }\n\t  \n\n      // Initialize the module with the calling element\n      if ( Module ) {\n        new Module( el );\n      }\n    }\n  }\n  unique = false;\n}\n\nmodule.exports = initializeModules;\n","var initializeModules = require( \"./lib/init-modules.js\" );\n\nif ( document.readyState !== \"loading\" ) {\n\tinitializeModules();\n} else {\n\tdocument.addEventListener( \"DOMContentLoaded\", initializeModules );\n}\n\n\n","var settings = require( \"modules/settings\" ),\n\tAudio5js = require('audio5');\n\n\nvar audioHover = module.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n\t\tfile = $el.data('audio'),\n\t\tready = false,\n\t\tplaying = false,\n\t\taudio,\n\t\taudioVol = 100,\n\t\tfadeInterval;\n\t\t\n\t\t$el.on('mouseover', elOver).on('mouseout', elOut);\n\t\t\n\t\t$('#audio').on('click', toggleAudio);\n\t\t\n\t\tfunction elOver(){\n\t\t\tif(ready && !playing && !settings.isMute) {\n\t\t\t\t //fadeIn();\n\t\t\t\t clearInterval(fadeInterval);\n\t\t\t\t audioVol = 100;\n\t\t\t\t audio.volume(100);\n\t\t\t\t //console.log('play SFX')\n\t\t\t\t //console.log(audioVol)\n\t\t\t\t audio.seek(0);\n\t\t\t\t audio.play();\n\t\t\t }\n\t\t}\n\t\t\n\t\tfunction elOut(){\n\t\t\t//if(ready)\n\t\t\tplaying = false;\n\t\t\tfadeOut();\n\t\t}\n\t\t\n\t\tfunction toggleAudio(){\n\t\t\tif(settings.isMute) {\n\t\t\t\tfadeOut();\n\t\t\t} else {\n\t\t\t\tfadeIn();\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction initAudio () {\n\t\t\t\n\t\t\t//console.log( 'assets/audio/' + file )\n\t\t\t\n\t\t    audio = new Audio5js({\n\t\t      ready: function () {\n\t\t\t\t  ready = true;\n\t\t\t\t  this.load('assets/audio/' + file);\n\t\t        //this.play();\n\t\t\t\t//this.volume(0);\n\t\t      }\n\t\t    });\n\t\t\t\n\t\t\taudio.on('ended', function () { playing = false; }, this);\n\n\t\t}\n\t\t\n\t\tfunction fadeIn() {\n\t\t\t\n\t\t\tclearInterval(fadeInterval);\n\t\t\t\n            fadeInterval = setInterval(function() { \n\t\t\t\n\t\t\t\tif(audioVol < 100) {\n\t\t\t\t\taudioVol += 1;\n\t\t\t\t} else {\n\t\t\t\t\taudioVol = 100;\n\t\t\t\t}\t\n\t\t\t\n\t\t\t\t\n\t\t\t\taudio.volume(getVolPercent(audioVol));\n\t\t\t\t\n\t\t\t\tif(audioVol == 100) {\n\t\t\t\t\t//console.log('clear int')\n\t\t\t\t\tclearInterval(fadeInterval);\n\t\t\t\t\tplaying = true;\n\t\t\t\t\treturn true;\n\t\t\t\t}\t\n\t\t\t\n\t\t\t}, 16);\n\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction fadeOut() {\n\t\t\t\n\t\t\tclearInterval(fadeInterval);\n\t\t\t\n            fadeInterval = setInterval(function() { \n\t\t\t\n\t\t\t\tif(audioVol > 0) {\n\t\t\t\t\taudioVol -= 1;\n\t\t\t\t} else {\n\t\t\t\t\taudioVol = 0;\n\t\t\t\t}\t\n\t\t\t\n\t\t\t\t\n\t\t\t\taudio.volume(getVolPercent(audioVol));\n\t\t\t\t\n\t\t\t\tif(audioVol == 0) {\n\t\t\t\t\t//console.log('clear int')\n\t\t\t\t\tclearInterval(fadeInterval);\n\t\t\t\t\tplaying = false;\n\t\t\t\t\treturn true;\n\t\t\t\t}\t\n\t\t\t\n\t\t\t}, 16);\n\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction getVolPercent(_volume) {\n\t\t\treturn _volume / 100;\n\t\t}\n\t\t\n\t\t\n\t\tinitAudio();\n\n\t\t\n};\n  ","var settings = require( \"modules/settings\" ),\n\tthrottle = require(\"modules/throttle\"),\n  Audio5js = require('audio5');\n\n\nvar audio = module.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n\t\tintro,\n\t\tintroEnded = false,\n\t\taudioOn = true,\n    isAudioOnYT = true,\n\t\tintroAfter,\n\t\tvol = 100,\n\t\tcredits,\n\t\tintroVol  = 100,\n\t\tintroAfterVol = 100,\n\t\tcreditsVol = 0,\n\t\tintroVolTemp  = 100,\n\t\tintroAfterVolTemp = 100,\n\t\tcreditsVolTemp = 0,\n    fadeInInterval,\n    fadeOutInterval,\n\t\tfadeInterval,\n\t\tinit = false;\n\t\tinit_1 = false, init_2 = false, init_3 = false;\n\t\t\n\t\t$el.on('click', toggleAudio);\n\t\t\n\t\taudio.init = function(){\n\t\t\t$window.on('resize', winResize);\n\t\t\tif(!settings.isMobile) {\n\t\t\t\tinitAudio();\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction initAudio () {\n\t\t\t\n      \n\t\t\t\n\t\t    intro = new Audio5js({\n\t\t      ready: function () {\n\t\t        this.load('assets/audio/intro.mp3');\n\t\t        this.play();\n\t\t\t\tinit_1 = true;\n\t\t\t\tif(init_1 && init_2 && init_3) init = true;\n\t\t\t\tif(settings.isMute) this.volume(0);\n\t\t      }\n\t\t    });\n\t\t\t\n\t\t\tintro.on('ended', function () { introEnded = true; introAfter.play(); }, this);\n\t\t\t\n\t\t    introAfter = new Audio5js({\n\t\t      ready: function () {\n\t\t        this.load('assets/audio/intro-after.mp3');\n\t\t\t\tinit_2 = true;\n\t\t\t\tif(init_1 && init_2 && init_3) init = true;\n\t\t\t\tif(settings.isMute) this.volume(0);\n\t\t      }\n\t\t    });\n\t\t\t\n\t\t\tintroAfter.on('ended', function(){ introAfter.seek(0); introAfter.play() }, this);\n\t\t\t\n\t\t   credits = new Audio5js({\n\t\t      ready: function () {\n\t\t        this.load('assets/audio/credits.mp3');\n\t\t\t\tif(!settings.isMobile)this.play();\n\t\t\t\tinit_3 = true;\n\t\t\t\tif(init_1 && init_2 && init_3) init = true;\n\t\t\t\tthis.volume(0);\n\t\t      }\n\t\t    });\n\t\t\t\n\t\t\tcredits.on('ended', function(){ credits.seek(0); credits.play() }, this);\n\t\t}\n\t\t\n\t\tfunction toggleAudio(){\n\t\t\t$el.toggleClass('active');\n\t\t\t\n\t\t\tif(!init && settings.isMobile) {\n\t\t\t\tinitAudio();\n\t\t\t\treturn false;\n\t\t\t} \n\t\t\t\n      \n  \n\t\t\t\n\t\t\t\n\t\t\tif(!settings.isMute) {\n\t\t\t\taudioOn = false;\n\t\t\t\t//settings.isMute = true;\n\t\t\t\t\n        console.log('fade out')\n        \n\t\t\t\tif(!settings.isMobile) {\n\t\t\t\t\tfadeOut();\n\t\t\t\t} else {\n\t\t\t\t\tintro.pause();\n\t\t\t\t\tintroAfter.pause();\n\t\t\t\t\tcredits.pause();\n          settings.isMute = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\taudioOn = true;\n\t\t\t\t//settings.isMute = false;\n\t\t\t\t\n         console.log('fade in')\n        \n\t\t\t\tif(!settings.isMobile) {\n\t\t\t\t\tfadeIn();\n\t\t\t\t} else {\n          settings.isMute = false;\n\t\t\t\t\tif(!introEnded) {\n\t\t\t\t\t\tintro.play();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tintroAfter.play();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//credits.play();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\t//fadeOut all audio instances, but still set their audio positions\n\t\t\n\t\taudio.fadeOut = function(){\n\t\t\taudioOn = false;\n\t\t\t//settings.isMute = true;\n      \n\t\t\t$el.removeClass('active');\n\t\t\t\n\t\t\tif(!settings.isMobile) {\n\t\t\t\tfadeOut();\n\t\t\t} else {\n\t\t\t\tintro.pause();\n\t\t\t\tintroAfter.pause();\n\t\t\t\tcredits.pause();\n\t\t\t}\n\t\t}\n    \n    audio.muteAll = function(){\n      audioOn = false;\n      settings.isMute = true;\n      \n      clearInterval(fadeOutInterval);\n\t\t\tclearInterval(fadeInInterval);\n      \n      $el.removeClass('active');\n      \n      if(!settings.isMobile) {\n          clearInterval(fadeInterval);\n\t\t\t\t  intro.volume(0);\n\t\t\t\t  introAfter.volume(0);\n\t\t\t\t  credits.volume(0);\n  \t\t\t} else {\n  \t\t\t\tintro.pause();\n  \t\t\t\tintroAfter.pause();\n  \t\t\t\tcredits.pause();\n\t\t\t\t\n  \t\t\t}\n    }\n\t\t\n\t\t//fadeIn all audio instances, based on scroll position\n\t\t\n\t\taudio.fadeIn = function(){\n\t\t\taudioOn = true;\n\t\t\t//settings.isMute = false;\n      \n      console.log('settings.ytPlayer')\n      \n      \n\t\t\t\n\t\t\t$el.addClass('active');\n\t\t\t\n\t\t\tif(!settings.isMobile) {\n\t\t\t\tfadeIn();\n\t\t\t} else {\n        console.log('play')\n\t\t\t\tif(!introEnded) {\n\t\t\t\t\tintro.play();\n\t\t\t\t} else {\n\t\t\t\t\tintroAfter.play();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//credits.play();\n\t\t\t}\n\t\t}\n    \n    audio.getAudioStatus = function(){\n      return audioOn;\n    }\n\t\t\n\t\t\n\t\taudio.setVolume = function(instance, _volume) {\n\t\t\t\tif(!init) return false;\n        \n       \n        \n\t\t\t\t//console.log('volume ' + _volume)\n\t\t\t\t//if(!settings.isMute) clearInterval(fadeInterval);\n\t\t\t\tswitch(instance) {\n\t\t\t\tcase 'intro':\n\t\t\t\t\tintroVol = _volume;\n\t\t\t\t\t\n          //console.log('set intro')\n          \n\t\t\t\t\tif(!settings.isMute){\n            console.log(getVolPercent(_volume))\n\t\t\t\t\t  intro.volume(getVolPercent(_volume)); \n            //console.log('set intro volume')\n\t\t\t\t\t} \n\t\t\t\t\tbreak;\n\t\t\t\tcase 'introAfter':\n\t\t\t\t\tintroAfterVol = _volume;\n\t\t\t\t\tif(!settings.isMute) introAfter.volume(getVolPercent(_volume)); \n\t\t\t\t\tbreak;\n\t\t\t\tcase 'credits':\n\t\t\t\t\tcreditsVol = _volume;\n\t\t\t\t\tif(!settings.isMute) credits.volume(getVolPercent(_volume)); \n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\n\t\t\t//console.log('_volume ' + _volume);\n\t\t}\n\t\t\n\t\tfunction fadeIn() {\n\t\t\tif(settings.isMute) {\n\t\t\t\tsettings.isMute = false;\n\t\t\t\t\n\t\t\t} else {\n\t\t\t  return true;\n\t\t\t}\n      \n      if(settings.ytPlayer) {\n        console.log(settings.ytPlayer);\n        settings.ytPlayer.pauseVideo();\n      }\n\t\t\t\n      clearInterval(fadeOutInterval);\n\t\t\tclearInterval(fadeInInterval);\n\t\t\t\n\t\t\tvar fadeInIntroVol = intro.volume() * 100,\n\t\t\t\tfadeInIntroAfterVol = introAfter.volume() * 100,\n\t\t\t\tfadeInCreditsVol = credits.volume() * 100;\n\t\t\t\n        fadeInInterval = setInterval(function() { \n\t\t\t\t  \n          console.log('fade in')\n          \n  \t\t\t\tif(intro.volume() < getVolPercent(introVol)) {\n  \t\t\t\t\tfadeInIntroVol += 1;\n  \t\t\t\t\t//intro.volume(intro.volume() + 1)\n  \t\t\t\t} else {\n  \t\t\t\t\tfadeInIntroVol = introVol;\n  \t\t\t\t\t//intro.volume(introVol)\n  \t\t\t\t}\t\n\t\t\t\n  \t\t\t\tif(introAfter.volume() < getVolPercent(introAfterVol) ) {\n  \t\t\t\t\t//introAfter.volume(introAfter.volume() + 1)\n  \t\t\t\t\tfadeInIntroAfterVol += 1;\n  \t\t\t\t} else {\n  \t\t\t\t\t//intro.volume(introAfterVol)\n  \t\t\t\t\tfadeInIntroAfterVol = introAfterVol;\n  \t\t\t\t}\t\n\t\t\t\n  \t\t\t\tif(credits.volume() < getVolPercent(creditsVol)) {\n  \t\t\t\t\t//credits.volume(credits.volume() + 1)\n  \t\t\t\t\tfadeInCreditsVol += 1;\n  \t\t\t\t} else {\n  \t\t\t\t\t//intro.volume(creditsVol)\n  \t\t\t\t\tfadeInCreditsVol = creditsVol;\n  \t\t\t\t}\n\t\t\t\n  \t\t\t\t//console.log(fadeInIntroVol);\n\t\t\t\t\n  \t\t\t\tintro.volume(getVolPercent(fadeInIntroVol));\n  \t\t\t\tintroAfter.volume(getVolPercent(fadeInIntroAfterVol));\n  \t\t\t\tcredits.volume(getVolPercent(fadeInCreditsVol));\n\t\t\t\t\n  \t\t\t\tif(fadeInIntroVol == introVol && fadeInIntroAfterVol == introAfterVol && fadeInCreditsVol == creditsVol) {\n  \t\t\t\t\t//console.log('clear int')\n  \t\t\t\t\tclearInterval(fadeInInterval);\n  \t\t\t\t\treturn true;\n  \t\t\t\t}\t\n\t\t\t\n\t\t\t}, 20);\n\t\t\t\n\t\t}\n\t\t\n\t\t\n\t\tfunction fadeOut() {\n\t\t\tif(!settings.isMute) {\n\t\t\t\tsettings.isMute = true;\n\t\t\t\t\n\t\t\t} else {\n\t\t\t  return true;\n\t\t\t} \n      \n      clearInterval(fadeOutInterval);\n\t\t\tclearInterval(fadeInInterval);\n\t\t\t\n\t\t\tvar fadeIntroVol = intro.volume() * 100,\n\t\t\t\tfadeIntroAfterVol = introAfter.volume() * 100,\n\t\t\t\tfadeCreditsVol = credits.volume() * 100;\n\t\t\t\n        fadeOutInterval = setInterval(function() { \n\t\t\t    \n          console.log('fade out')\n          \n  \t\t\t\tif(fadeIntroVol > 0) {\n  \t\t\t\t\tfadeIntroVol -= 1;\n  \t\t\t\t} else {\n  \t\t\t\t\tfadeIntroVol = 0;\n  \t\t\t\t}\t\n\t\t\t\n  \t\t\t\tif(fadeIntroAfterVol  > 0) {\n  \t\t\t\t\tfadeIntroAfterVol  -= 1;\n  \t\t\t\t} else {\n  \t\t\t\t\tfadeIntroAfterVol  = 0;\n  \t\t\t\t}\t\n\t\t\t\n  \t\t\t\tif(fadeCreditsVol > 0) {\n  \t\t\t\t\tfadeCreditsVol -= 1;\n  \t\t\t\t} else {\n  \t\t\t\t\tfadeCreditsVol = 0;\n  \t\t\t\t}\n\t\t\t\n  \t\t\t\t//console.log( intro.volume() )\n  \t\t\t\tintro.volume(getVolPercent(fadeIntroVol));\n  \t\t\t\tintroAfter.volume(getVolPercent(fadeIntroAfterVol));\n  \t\t\t\tcredits.volume(getVolPercent(fadeCreditsVol));\n\t\t\t\t\n  \t\t\t\tif(fadeIntroVol == 0 && fadeIntroAfterVol == 0 && fadeCreditsVol == 0) {\n  \t\t\t\t\t//console.log('clear int')\n  \t\t\t\t\tclearInterval(fadeOutInterval);\n  \t\t\t\t\treturn true;\n  \t\t\t\t}\t\n\t\t\t\n\t\t\t}, 5);\n\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction getVolPercent(_volume) {\n\t\t\tvol = _volume / 100;\n\t\t\tvol = vol > 1 ? 1 : vol;\n\t\t\treturn vol;\n\t\t}\n\t\t\n\t\n\t\t\n\t\tfunction winResize(){\n\t\t\t\n\t\t\tif( $window.height() * 1.5 < $window.width() ) {\n\t\t\t\t$('body').addClass('landscape-format');\n\t\t\t} else {\n\t\t\t\t$('body').removeClass('landscape-format')\n\t\t\t}\n\t\t\t\t\n\t\t}\n\n\t\t\n\t\t\n\t\t\n};\n  ","var settings = require( \"modules/settings\" ),\n\tthrottle = require(\"modules/throttle\");\n\n\nmodule.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window );\n\t\t\n\t\tfunction init(){\n\t\t\t$window.on('resize', winResize);\n\t\t\t//$('.wrapper').stop().fadeIn(3000);\n\t\t\t$('.wrapper').show().addClass('fade-in');\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction winResize(){\n\t\t\t\n\t\t\tif( $window.height() * 1.5 < $window.width() ) {\n\t\t\t\t$('body').addClass('landscape-format');\n\t\t\t} else {\n\t\t\t\t$('body').removeClass('landscape-format')\n\t\t\t}\n\t\t\t\t\n\t\t}\n\n\t\t\n\t\twinResize();\n\t\tinit();\n\t\t\n};\n  ","var makeVideoPlayableInline = require('iphone-inline-video'),\n\tsettings = require('modules/settings'),\n\tmousewheel = require('jquery-mousewheel')($),\n\taudio = require(\"modules/audio\");\n\nvar controlScroll = module.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n\t\t$controlScrollcroll = $el.find('.video-scroll'),\n\t\t$videoWidth = $('.video-holder').width(),\n\t\tvidScrollWidth = 0,\n\t\txListener = 0,\n\t\txPos = 0,\n\t\tscrollInt,\n\t\tinitLoad = true,\n\t\tautoScrollTimer,\n\t\tautoScroll = false,\n\t\tlast_position = {},\n\t\t$scrollContainer = $('.wrapper'),\n\t\tst = 0,\n\t\ttimerSpeed;\n\n\t\tconsole.log('%c[control-scroll module init]', 'color:blue;');\n\t\t\n\t\tcontrolScroll.setScrollContainer = function(scrollContainer) {\n\t\t\t$scrollContainer = scrollContainer;\n\t\t}\n\t\t\n\t\tcontrolScroll.scroll = function(y) {\n\t\t\tst = y;\n\t\t\t//console.log(st);\n\t\t\tthis.fadeOverlay();\n\t\t\tthis.checkScrollPos();\n      \n\t\t\tclearTimeout($.data(this, 'timer'));\n\t\t\t  $.data(this, 'timer', setTimeout(function() {\n\t\t\t\tconsole.log('timer check fade')\n\t  \t\t\tcontrolScroll.fadeOverlay();\n\t  \t\t\tcontrolScroll.checkScrollPos();\n\t\t\t  }, 250));\n\t\t}\n\t\t\n\t\tcontrolScroll.scrollTo = function(y) {\n\t\t\tcontrolScroll.scroll(y);\n\t\t\tif(!settings.isMobile) {\n\t\t\t\t$scrollContainer.scrollTop(y);\n\t\t\t} else {\n\t\t\t\tsettings.scroller.scrollTo(0, -y)\n\t\t\t\t//settings.scroller[0].scrollTo(y)\n\t\t\t\t//settings.scroller.scrollTo(y);\n\t\t\t\t//$scrollContainer.scrollTo(y);\n\t\t\t}\n\t\t}\n\t\t\n\t\tcontrolScroll.animateScroll = function(y) {\n\t\t\tconsole.log('animate scroll')\n\t\t\tcontrolScroll.scroll(y);\n\t\t\tif(!settings.isMobile) {\n\t\t\t\t$scrollContainer.animate({ scrollTop:y }, 500);\n\t\t\t} else {\n\t\t\t\tsettings.scroller.animate({ scrollTop:-y }, 500);\n\t\t\t}\n\t\t}\n\t\t\n\t\tcontrolScroll.scrollMobile = function(scroller, y) {\n\t\t\t//scroller.scrollTo(0, y);\n\t\t}\n\t\t\n\t\tcontrolScroll.fadeOverlay = function() {\n\t\t\t//st = y;\n\t\t\t\n\t\t\t//console.log('st ' +scrollContainer[0].scrollHeight);\n\t\t\t\n\t\t\tif(!$scrollContainer.hasClass('looped')) {\n\t\t\t\tif(st < $window.height()) {\n\t\t\t\t\t$('.top-section.bottom-fixed').css('opacity', 0).removeClass('show');\n\t\t\t\t\tvar op = (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t$('.bottom-section').css('opacity', 1);\n\t\t\t\t\tvar volume = op.toFixed(2) * 100;\n\t\t\t\t\t\n\t\t\n\t\t\t\t\taudio.setVolume('intro', 100 - volume);\n\t\t\t\t\taudio.setVolume('introAfter', 100 - volume);\n\t\t\t\t\taudio.setVolume('credits', volume);\n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tif(st >= $scrollContainer[0].scrollHeight - ($window.height() * 4 ) ) {\n\t\t\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height()  )\n\t\t\t\t\t\t//console.log( $scrollContainer[0].scrollHeight / (st + $window.height()) )\n\t\t\t\t\t\t//console.log($scrollContainer[0].scrollHeight);\n\t\t\t\t\t\t//console.log(st + $window.height());\n\t\t\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  )/ $window.height()  )\n\t\t\t\t\t\t//console.log( ($scrollContainer[0].scrollHeight - st) / ( $scrollContainer[0].scrollHeight - $window.height()) )\n\t\t\t\t\n\t\t\t\t\t\t//console.log('at end of page')\n\t\t\t\t\n\t\t\t\t\t\tvar op = ( $scrollContainer[0].scrollHeight - st  - ( $window.height() )  )/$window.height() ;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t\tvar volume = op.toFixed(2) * 100;\n\t\t\t\t\n\t\t\t\t\t\taudio.setVolume('intro', 100 - volume);\n\t\t\t\t\t\taudio.setVolume('introAfter', 100 - volume);\n\t\t\t\t\t\taudio.setVolume('credits', volume);\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar op_2 = ( $scrollContainer[0].scrollHeight - st  - ( $window.height() ) )/($window.height() * 2);\n\t\t\t\t\t\t\n\t\t\t\t\t\t//console.log(op);\n\t\t\t\t\t\t$('.bottom-section').css('opacity', op_2);\n\t\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\t$('.top-section.bottom-fixed').addClass('show').css('opacity', 1 - op);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('.bottom-section').css('opacity', 1);\n\t\t\t\t\t\t$('#color-overlay').css('opacity', 1);\n\t\t\t\t\t\t$('.top-section.bottom-fixed').removeClass('show').css('opacity', 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( st < $window.height() * 2) {\n\t\t\t\t\n\t\t\t\t\tvar op = st - $window.height() + (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('below two times')\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\t\n\t\tcontrolScroll.checkScrollPos = function(){\n\t\t\tclearInterval(scrollInt);\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif(st < $window.height()) {\n\t\t\t\t\n\t\t\t\t//$('body').scrollTop($('body')[0].scrollHeight);\n\t\t\t}\n\t\t\t\n\t\t\tif($scrollContainer.hasClass('looped')) {\n\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\n\t\t\t\tif(st > $window.height()) {\n\t\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\t//$scrollContainer.scrollTop(0);\n\t\t\t\t} \n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - $window.height()) {\n\t\t\t\t$scrollContainer.addClass('looped');\n\t\t\t\t$scrollContainer.animate({ scrollTop:0 }, 0)\n\t\t\t\t$scrollContainer.scrollTop(0);\n\t\t\t\tst = 0;\n\t\t\t\t//$('.top-section.bottom-fixed').css('opacity', 0)\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\tcontrolScroll.stopAutoScroll = function(){\n\t\t\t\n\t\t\tclearInterval(scrollInt);\n\t\t\t$('body').removeClass('autoScroll');\n\t\t\tsetTimeout(function(){ $('body').removeClass('scrolling autoScroll'); }, 100);\n\t\t\tautoScroll = false;\n\t\t\tclearTimeout(autoScrollTimer);\n\t\t\tautoScrollTimer = setTimeout(function(){\n\t\t\t\tautoScroll = true;\n\t\t\t}, timerSpeed);\n\t\t}\n\t\t\n\t\tfunction startAutoScroll(){\n\t\t\t$('body').addClass('autoScroll');\n\t\t}\n\t\t\n\t\tcontrolScroll.removeAutoScroll = function(){\n\t\t\tclearTimeout(autoScrollTimer);\n\t\t\t$('body').removeClass('scrolling autoScroll');\n\t\t\tsetTimeout(function(){ $('body').removeClass('scrolling autoScroll'); }, 100);\n\t\t\tautoScroll = false;\n\t\t}\n\t\t\n\t\tcontrolScroll.initAutoScroll = function(){\n\t\t\tautoScrollTimer = setTimeout(function(){\n\t\t\t\tautoScroll = true;\n\t\t\t}, timerSpeed);\n\t\t}\n\t\t\n\t\t/*\n\t\t$window.on('mousedown touchstart', function(event){\n\t\t\t$('body').addClass('mousedown');\n\t\t\t\n\t\t\t$window.on('mousemove', winMouseMove);\n\t\t\t\n\t\t\tstopAutoScroll();\n\t\t}).on('mouseup touchend', function(){\n\t\t\t$('body').removeClass('mousedown');\n\t\t\t$window.off('mousemove');\n\t\t});\n\t\t*/\n\t\t\n\n\t\t\n\t\t\n\t\t$window.on('mousewheel touchmove touchstart', function(event){\n\t\t\t\n\t\t\tcontrolScroll.stopAutoScroll();\n\t\t\t\n\t\t\tif(event.type == 'mousewheel') {\n\t\t\t\tif(event.deltaY < 0) {\n\t\t\t\t\txPos += event.deltaY;\n\t\t\t\t\txListener += event.deltaY;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif(event.deltaX > 1) {\n\t\t\t\t\txPos -= event.deltaX;\n\t\t\t\t\txListener -= event.deltaX;\n\t\t\t\t}\n\t\t\t} else if(event.type == 'touchmove') {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t//ereturn true;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//console.log(event.type)\n\t\t\t$('body').addClass('scrolling');\n\t\t\t\n\t\t\tclearTimeout($.data(this, 'timer'));\n\t\t\t  $.data(this, 'timer', setTimeout(function() {\n\t\t\t\t  $('body').removeClass('scrolling');\n\t\t\t\t  \n\t\t\t     //do something\n\t\t\t  }, 250));\n\t\t\t  \n\t\t\t//checkScrollPos()  \n\t\t\t//stopAutoScroll();\n\t\t});\n\n\t\n\t\tcontrolScroll.init = function(){\n\t\t\t\n\t\t\taudio.init();\n\t\t\twinResize();\n\t\t\t\n\t\t\ttimerSpeed = settings.isMobile ? 6000 : 30000;\n\t\t\t$window.on('resize', winResize);\n\t\t\t\n\t\t\tautoScrollTimer = setTimeout(function(){\n\t\t\t\tautoScroll = true;\n\t\t\t\tconsole.log('set autoscroll true')\n\t\t\t}, timerSpeed);\n\t\t\t\n\t\t\t\n\t\t\t// Usage\n\t\t\tanimLoop(function( deltaT ) {\n\t\t\t\t  //console.log('animLoop')\n\t\t\t\t\t\n\t\t\t\t  //console.log($window.width())\n\t\t\t\t  //console.log ($('video').eq(0).position().left)\n\t\t\t\t  if(autoScroll) {\n\t\t\t\t\t  st+= .2;\n\t\t\t\t\t  controlScroll.scrollTo(st);\n\t\t\t\t  }\n\t\t\t\t  //watchcontrolScroll();\n\t\t\t\t  \n\t\t\t    //elem.style.left = ( left += 10 * deltaT / 16 ) + \"px\";\n\n\t\t\t// optional 2nd arg: elem containing the animation\n\t\t\t} );\n\t\t}\n\t\t\n\t\t\n\t\n\n\n\t\t\n\t\tfunction setcontrolScroll(){\n\t\t\tvidScrollWidth = 0;\n\t\t\t$('.video-holder').each(function(){\n\t\t\t\t$(this).css('left', $(this).width() * $(this).index());\n\t\t\t\tvidScrollWidth += $(this).width(); \n\t\t\t});\n\t\t\t$controlScrollcroll.css('width', vidScrollWidth);\n\t\t\t//console.log(vidScrollWidth);\n\t\t}\n\t\t\n\n\t\t\n\t\n\t\tfunction animLoop( render, element ) {\n\t\t    var running, lastFrame = +new Date;\n\t\t    function loop( now ) {\n\t\t        // stop the loop if render returned false\n\t\t        if ( running !== false ) {\n\t\t            requestAnimationFrame( loop, element );\n\t\t            running = render( now - lastFrame );\n\t\t            lastFrame = now;\n\t\t        }\n\t\t    }\n\t\t    loop( lastFrame );\n\t\t}\n\n\n\t\t\n\t\tfunction winResize(){\n\t\t\t//$videoWidth = $('.video-holder').width();\n\t\t\t//setcontrolScroll();\n\t\t\t$('.top-section.bottom-fixed').css('width', $('.top-section.landing-section').width());\n\t\t}\n\t\t\n\t\tcontrolScroll.init();\n\t\t\n};\n  ","var makeVideoPlayableInline = require('iphone-inline-video'),\n\tsettings = require('modules/settings'),\n\tmousewheel = require('jquery-mousewheel')($);\n\nvar controlscroll = module.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n\t\t$videoScroll = $el.find('.video-scroll'),\n\t\t$videoWidth = $('.video-holder').width(),\n\t\tvidScrollWidth = 0,\n\t\txListener = 0,\n\t\txPos = 0,\n\t\tscrollInt,\n\t\tinitLoad = true,\n\t\tautoScrollTimer,\n\t\tautoScroll = false,\n\t\tlast_position = {},\n\t\t$scrollContainer = $('.wrapper'),\n\t\tst;\n\n\t\tconsole.log('%c[video module init]', 'color:blue;');\n\t\t\n\t\tcontrolscroll.getName = function(){\n\t\t\treturn 'hi';\n\t\t}\n\t\t\n\t\tcontrolscroll.setScrollContainer = function(scrollContainer){\n\t\t\t$scrollContainer = scrollContainer;\n\t\t}\n\t\t\n\t\tcontrolscroll.scroll = function(y) {\n\t\t\t\n\t\t}\n\t\n\t\t\n\t\tcontrolscroll.fadeOverlay = function(scrollContainer, y) {\n\t\t\tst = y;\n\t\t\t\n\t\t\t//console.log('st ' +scrollContainer[0].scrollHeight);\n\t\t\t\n\t\t\tif(!scrollContainer.hasClass('looped')) {\n\t\t\t\tif(st < $window.height()) {\n\t\t\t\t\t$('.top-section.bottom-fixed').css('opacity', 0).removeClass('show');\n\t\t\t\t\tvar op = (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('below window height');\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( st < $window.height() * 2) {\n\t\t\t\t\n\t\t\t\t\tvar op = st - $window.height() + (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('below two times')\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(st >= scrollContainer[0].scrollHeight - ($window.height() * 2 ) ) {\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height()  )\n\t\t\t\t//console.log( $scrollContainer[0].scrollHeight / (st + $window.height()) )\n\t\t\t\t//console.log($scrollContainer[0].scrollHeight);\n\t\t\t\t//console.log(st + $window.height());\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  )/ $window.height()  )\n\t\t\t\t//console.log( ($scrollContainer[0].scrollHeight - st) / ( $scrollContainer[0].scrollHeight - $window.height()) )\n\t\t\t\t\n\t\t\t\tconsole.log('at end of page')\n\t\t\t\t\n\t\t\t\tvar op = ( scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height();\n\t\t\t\t\n\t\t\t\tconsole.log(op);\n\t\t\t\t\n\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t$('.top-section.bottom-fixed').addClass('show').css('opacity', 1 - op);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tcontrolscroll.checkScrollPos = function(){\n\t\t\tclearInterval(scrollInt);\n\t\t\tvar st = $scrollContainer.scrollTop();\n\t\t\t\n\t\t\t\n\t\t\tif(st < $window.height()) {\n\t\t\t\t\n\t\t\t\t//$('body').scrollTop($('body')[0].scrollHeight);\n\t\t\t}\n\t\t\t\n\t\t\tif($scrollContainer.hasClass('looped')) {\n\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\n\t\t\t\tif(st > $window.height()) {\n\t\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\t//$scrollContainer.scrollTop(0);\n\t\t\t\t} \n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - $window.height()) {\n\t\t\t\t$('.wrapper').addClass('looped');\n\t\t\t\t$scrollContainer.animate({ scrollTop:0 }, 0)\n\t\t\t\t$scrollContainer.scrollTop(0);\n\t\t\t\t//$('.top-section.bottom-fixed').css('opacity', 0)\n\t\t\t}\n\t\t}\n\t\t\n\n\t\t\n\t\tfunction startAutoScroll(){\n\t\t\t$('body').addClass('autoScroll');\n\t\t}\n\t\t\n\t\tfunction stopAutoScroll(){\n\t\t\t$('body').removeClass('autoScroll');\n\t\t\tsetTimeout(function(){ $('body').removeClass('scrolling autoScroll'); }, 100);\n\t\t\tautoScroll = false;\n\t\t\tclearTimeout(autoScrollTimer);\n\t\t\tautoScrollTimer = setTimeout(function(){\n\t\t\t\tautoScroll = true;\n\t\t\t}, 10000);\n\t\t}\n\n\t\t\n\n\t\t$window.on('mousewheel touchmove touchstart', function(event){\n\t\t\t\n\t\t\t\n\t\t\tif(event.type == 'mousewheel') {\n\t\t\t\tif(event.deltaY < 0) {\n\t\t\t\t\txPos += event.deltaY;\n\t\t\t\t\txListener += event.deltaY;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif(event.deltaX > 1) {\n\t\t\t\t\txPos -= event.deltaX;\n\t\t\t\t\txListener -= event.deltaX;\n\t\t\t\t}\n\t\t\t} else if(event.type == 'touchmove') {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//console.log(event.type)\n\t\t\t$('body').addClass('scrolling');\n\t\t\t\n\t\t\tclearTimeout($.data(this, 'timer'));\n\t\t\t  $.data(this, 'timer', setTimeout(function() {\n\t\t\t\t  $('body').removeClass('scrolling');\n\t\t\t     //do something\n\t\t\t  }, 250));\n\t\t\t  \n\t\t\t//checkScrollPos()  \n\t\t\t//stopAutoScroll();\n\t\t});\n\n\t\n\t\t\n\t\t\n\t\t\n\t\tfunction init(){\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tsetVideos();\n\t\t\tfadeOverlay();\n\t\t\t$('#video-container').fadeIn(6000);\n\t\t\t\n\t\t\t$scrollContainer.on('scroll', function(event) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\t//console.log('scroll triggered')\n\t\t\t\t//var gradientTopPos = $('body').scrollTop();\n\t\t\t\n\t\t\t\tcheckScrollPos();\n\t\t\t\tfadeOverlay();\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\t//console.log(event.deltaX)\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t    watchVideos();\n\t\t\t\t$('body').addClass('scrolling');\n\t\t\t\n\t\t\t\t//stopAutoScroll();\n\t\t\t  \n\t\t\t  \n\t\t\t    //console.log(event.deltaX, event.deltaY, event.deltaFactor);\n\t\t\t});\n\t\t\t\n\t\t\tautoScrollTimer = setTimeout(function(){\n\t\t\t\tautoScroll = true;\n\t\t\t}, 6000);\n\t\t\t\n\t\t\t// Usage\n\t\t\tanimLoop(function( deltaT ) {\n\t\t\t\txPos -= .2;\n\t\t\t\txListener -= .2;\n\t\t\t\t$('.video-scroll').css({\n\t\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"\n\t\t\t\t  });​\n\t\t\t\t\t\n\t\t\t\t  //console.log($window.width())\n\t\t\t\t  //console.log ($('video').eq(0).position().left)\n\t\t\t\t  if(autoScroll) {\n\t\t\t\t\t  //$('input').blur();\n\t\t\t\t\t  startAutoScroll();\n\t\t\t\t\t  checkScrollPos();\n\t\t\t\t\t  fadeOverlay();\n\t\t\t\t  \t  $scrollContainer.scrollTop($scrollContainer.scrollTop() + 1);\n\t\t\t\t\t  //initLoad = false;\n\t\t\t\t  }\n\t\t\t\t  watchVideos();\n\t\t\t\t  \n\t\t\t    //elem.style.left = ( left += 10 * deltaT / 16 ) + \"px\";\n\n\t\t\t// optional 2nd arg: elem containing the animation\n\t\t\t} );\n\t\t\t\n\t\t\t$('.newsletter input').on('focus', inputFocus);\n\t\t\t\n\t\t\t$window.on('resize', winResize);\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction inputFocus(){\n\t\t\tif(!$('.bottom-fixed').hasClass('show')) {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t}\n\t\t\t$scrollContainer\n\t\t}\n\t\t\n\t\tfunction watchVideos(){\n\t\t\t\n\t\t\t//console.log( $('.video-1-clone').position().left )\n\t\t\t/*\n\t\t\t$('.video-holder').each(function(){\n\t\t\t\tif($(this).position().left + $(this).width() >= 0 && $(this).position().left <= $window.width() ) {\n\t\t\t\t\t$(this).find('video')[0].play();\n\t\t\t\t} else {\n\t\t\t\t\t//console.log($(this).find('video').attr('src'))\n\t\t\t\t\t$(this).find('video')[0].pause();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif( $('.video-1-clone').position().left <= 0 ) {\n\t\t\t\txPos = 0;\n\t\t\t\t\n\t\t\t\t$('.video-scroll').css({\n\t\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"\n\t\t\t\t  });​\n\t\t\t\t  \n\t\t\t\t\n\t\t\t}\n\t\t\t*/\n\t\t\t/*\n\t\t\tif(xPos < -vidScrollWidth ) {\n\t\t\t\txPos = 0;\n\t\t\t\txListener = 0;\n\t\t\t\t$videoScroll.append($('.video-holder').eq(0));\n\t\t\t\t\n\t\t\t\tfor(var i=0; i<$('.video-holder').length; i++) {\n\t\t\t\t\t$('.video-holder').eq(i).css('left', ( $videoWidth * i) + 'px');\n\t\t\t\t}\n\t\t\t\t$('.video-holder').eq(1).find('video')[0].play();\n\t\t\t\tconsole.log('reset entire piece')\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t\n\t\t\tif(xListener < -$videoWidth) {\n\t\t\t\txListener = 0;\n\t\t\t\tvar _left = Number( $('.video-holder').last().css('left').split('px').join('') ) + $videoWidth;\n\t\t\t\n\t\t\t\t$('.video-holder').eq(2).find('video')[0].play();\n\t\t\t\t$('.video-holder').eq(0).find('video')[0].pause();\n\t\t\t\t$('.video-holder').eq(0).css('left', _left + 'px')\n\t\t\t\t$videoScroll.append($('.video-holder').eq(0));\n\t\t\t}\n\t\t\t*/\n\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction setVideos(){\n\t\t\tvidScrollWidth = 0;\n\t\t\t$('.video-holder').each(function(){\n\t\t\t\t$(this).css('left', $(this).width() * $(this).index());\n\t\t\t\tvidScrollWidth += $(this).width(); \n\t\t\t});\n\t\t\t$videoScroll.css('width', vidScrollWidth);\n\t\t\t//console.log(vidScrollWidth);\n\t\t}\n\t\t\n\t\t/*\n\t\tsetInterval(function(){\n\t\t\txPos-= 1;\n\t\t\t$('.video-scroll').css({\n\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"\n\t\t\t  });​\n\t\t}, 10);\n\t\t*/\n\t\t\n\t\n\t\tfunction animLoop( render, element ) {\n\t\t    var running, lastFrame = +new Date;\n\t\t    function loop( now ) {\n\t\t        // stop the loop if render returned false\n\t\t        if ( running !== false ) {\n\t\t            requestAnimationFrame( loop, element );\n\t\t            running = render( now - lastFrame );\n\t\t            lastFrame = now;\n\t\t        }\n\t\t    }\n\t\t    loop( lastFrame );\n\t\t}\n\n\t\t\n\t\t\n\t\t/*\n\t\t$('.video-scroll').velocity({\n\t\t\ttranslateZ: 0, // Force HA by animating a 3D property\n\t\t    translateX: \"-10000px\"\n\t\t}, {\n\t\t    \n\t\t\tduration:100000,\n\t\t    easing: \"linear\",\n\t\t});\n\t\t*/\n\t\t\n\t\tfunction winResize(){\n\t\t\t$videoWidth = $('.video-holder').width();\n\t\t\tsetVideos();\n\t\t}\n\t\t\n\t\tif(!settings.isMobile) {\n\t\t\tinit();\n\t\t}\n\t\t\n};\n  ","var makeVideoPlayableInline = require('iphone-inline-video'),\n\tsettings = require('modules/settings'),\n\tmousewheel = require('jquery-mousewheel')($),\n\tcontrolScroll = require(\"modules/control-scroll\"),\n\tvideos = require(\"modules/videos\"),\n\tform = require(\"modules/form\")\n\nvar desktopScroll = module.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n\t\t$videoScroll = $el.find('.video-scroll'),\n\t\t$videoWidth = $('.video-holder').width(),\n\t\tvidScrollWidth = 0,\n\t\txListener = 0,\n\t\txPos = 0,\n\t\tscrollInt,\n\t\tinitLoad = true,\n\t\tautoScrollTimer,\n\t\tautoScroll = false,\n\t\tlast_position = {},\n\t\t$scrollContainer = $('.wrapper');\n\n\t\tconsole.log('%c[desktop module init]', 'color:blue;');\n\t\t\n\t\t/*\n\t\tfunction checkScrollPos(){\n\t\t\tclearInterval(scrollInt);\n\t\t\tvar st = $scrollContainer.scrollTop();\n\t\t\t\n\t\t\t\n\t\t\tif(st < $window.height()) {\n\t\t\t\t$('.top-section.bottom-fixed').css('opacity', 0).removeClass('show');\n\t\t\t\t//$('body').scrollTop($('body')[0].scrollHeight);\n\t\t\t}\n\t\t\t\n\t\t\tif($scrollContainer.hasClass('looped')) {\n\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\n\t\t\t\tif(st > $window.height()) {\n\t\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\t//$scrollContainer.scrollTop(0);\n\t\t\t\t} \n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - $window.height()) {\n\t\t\t\t$('.wrapper').addClass('looped');\n\t\t\t\t$scrollContainer.animate({ scrollTop:0 }, 0)\n\t\t\t\t$scrollContainer.scrollTop(0);\n\t\t\t\t//$('.top-section.bottom-fixed').css('opacity', 0)\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction fadeOverlay(){\n\t\t\tvar st = $scrollContainer.scrollTop();\n\t\t\tif(!$scrollContainer.hasClass('looped')) {\n\t\t\t\tif(st < $window.height()) {\n\t\t\t\t\n\t\t\t\t\tvar op = (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( st < $window.height() * 2) {\n\t\t\t\t\n\t\t\t\t\tvar op = st - $window.height() + (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - ($window.height() * 2 ) ) {\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height()  )\n\t\t\t\t//console.log( $scrollContainer[0].scrollHeight / (st + $window.height()) )\n\t\t\t\t//console.log($scrollContainer[0].scrollHeight);\n\t\t\t\t//console.log(st + $window.height());\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  )/ $window.height()  )\n\t\t\t\t//console.log( ($scrollContainer[0].scrollHeight - st) / ( $scrollContainer[0].scrollHeight - $window.height()) )\n\t\t\t\tvar op = ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height();\n\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t$('.top-section.bottom-fixed').addClass('show').css('opacity', 1 - op);\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction startAutoScroll(){\n\t\t\t$('body').addClass('autoScroll');\n\t\t}\n\t\t\n\t\tfunction stopAutoScroll(){\n\t\t\t$('body').removeClass('autoScroll');\n\t\t\tsetTimeout(function(){ $('body').removeClass('scrolling autoScroll'); }, 100);\n\t\t\tautoScroll = false;\n\t\t\tclearTimeout(autoScrollTimer);\n\t\t\tautoScrollTimer = setTimeout(function(){\n\t\t\t\tautoScroll = true;\n\t\t\t}, 10000);\n\t\t}\n\t\t\n\t\t$window.on('mousedown touchstart', function(event){\n\t\t\t$('body').addClass('mousedown');\n\t\t\t\n\t\t\t$window.on('mousemove', winMouseMove);\n\t\t\t\n\t\t\tstopAutoScroll();\n\t\t}).on('mouseup touchend', function(){\n\t\t\t$('body').removeClass('mousedown');\n\t\t\t$window.off('mousemove');\n\t\t});\n\t\t*/\n\t\t\n\t\t/*\n\t\tfunction winMouseMove(event) {\n\t\t\t//if(event)\n\t\t\t\n\t\t\t\n\t\t\t//check to make sure there is data to compare against\n\t\t    if (typeof(last_position.x) != 'undefined') {\n\n\t\t        //get the change from last position to this position\n\t\t        var deltaX = last_position.x - event.clientX,\n\t\t            deltaY = last_position.y - event.clientY;\n\n\t\t        //check which direction had the highest amplitude and then figure out direction by checking if the value is greater or less than zero\n\t\t        if (Math.abs(deltaX) > Math.abs(deltaY) && deltaX > 0) {\n\t\t            //left\n\t\t\t\t\tconsole.log('moving left')\n\t\t\t\t\txPos -= Math.abs(deltaX);\n\t\t        } else if (Math.abs(deltaX) > Math.abs(deltaY) && deltaX < 0) {\n\t\t            //right\n\t\t        } else if (Math.abs(deltaY) > Math.abs(deltaX) && deltaY > 0) {\n\t\t            //up\n\t\t        } else if (Math.abs(deltaY) > Math.abs(deltaX) && deltaY < 0) {\n\t\t            //down\n\t\t        }\n\t\t    }\n\n\t\t    //set the new last position to the current for next time\n\t\t    last_position = {\n\t\t        x : event.clientX,\n\t\t        y : event.clientY\n\t\t    };\n\t\t\t\n\t\t\t\n\t\t}\n\t\t*/\n\t\t\n\t\t\n\t\t$window.on('mousewheel touchmove', function(event){\n\t\t\t//console.log('mousewheel')\n\t\t\t\n\t\t\tif(event.type == 'mousewheel') {\n\t\t\t\tif(event.deltaY < 0) {\n\t\t\t\t\txPos += event.deltaY;\n\t\t\t\t\txListener += event.deltaY;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif(event.deltaX > 1) {\n\t\t\t\t\txPos -= event.deltaX;\n\t\t\t\t\txListener -= event.deltaX;\n\t\t\t\t}\n\t\t\t} else if(event.type == 'touchmove') {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t//return true;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//console.log(event.type)\n\t\t\t$('body').addClass('scrolling');\n\n\t\t\tclearTimeout($.data(this, 'timer'));\n\t\t\t  $.data(this, 'timer', setTimeout(function() {\n\t\t\t\t  $('body').removeClass('scrolling');\n\t\t\t\t \n\t\t\t     //do something\n\t\t\t  }, 250));\n\t\t\t  \n\t\t\t//checkScrollPos()  \n\t\t\t//stopAutoScroll();\n\t\t});\n\t\t\n\t\t\n\t\t\n\t\tfunction onScroll(event) {\n\t\t\tvar st = $('#wrapper').scrollTop();\n\t\t\t\n\t\t\t//desktop loop\n\t\t\tif(st >= $el.find('#scroller').height() - $window.height()) {\n\t\t\t\t$('#wrapper').scrollTop(0)\n\t\t\t}\n\t\t\t\n\t\t\t//console.log(st)\n\t\t\t\n\t\t\tcontrolScroll.scroll( st );\n\t\t}\n\n\t\t\n\t\tfunction init(){\n\t\t\t//controlScroll.setScrollContainer( $('#') );\n\t\t\t$('#scroller').addClass('desktop');\n\t\t\t\n\t\t\t$scrollContainer.on('scroll', onScroll);\n\t\t\t$window.on('mousedown', winMouseDown).on('mousemove', winMove);\n\t\t}\n\t\t\n\t\tfunction winMouseDown(event) {\n\t\t\n\t\t\t\t//console.log(event.target)\n\t\n\t\t\t\tvar _x = event.pageX;\n\t\t\t\tvar _y = event.pageY;\n\t\n\t\t\t\tif( (_x >= $('.bottom-input').position().left) && (_x <= $('.bottom-input').position().left + $('.bottom-input').outerWidth()) && (_y >= $('.bottom-input').position().top) && (_y <= $('.bottom-input').position().top + $('.bottom-input').outerHeight()) )\n\t\t\t\t{\n\t\t\t\t\t$scrollContainer.scrollTop(0);\n\t\t\t\t\t$('input.top-input').focus();\n\t\t\t\t\tsetTimeout(function(){ $('input.top-input').focus() }, 100);\n\t\t\t\t\tconsole.log('pressed');\n\t\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction testOver(_x, _y, element, cursor) {\n\t\t\t//console.log(element)\n\t\t\tif( (_x >= $(element).position().left) && (_x <= $(element).position().left + $(element).outerWidth()) && (_y >= $(element).position().top) && (_y <= $(element).position().top + $(element).outerHeight()) )\n\t\t\t{\n\t\t\t\t$('body').addClass(cursor)\n\t\t\t\t$(element).addClass('over');\n\t\t\t} else{\n\t\t\t\t$('body').removeClass(cursor)\n\t\t\t\t$(element).removeClass('over');\n\t\t\t}\n\t\t}\n\n\t\tfunction winMove(event){\n\t\t\tvar _x = event.pageX;\n\t\t\tvar _y = event.pageY;\n\n\t\t\ttestOver(_x, _y, $('.bottom-input'), 'text');\n\t\t\ttestOver(_x, _y, $('.button--submit'), 'pointer');\n\t\t}\n\n\n\t\tif(!settings.isMobile) {\n\t\t\tinit();\n\t\t}\n\t\t\n};\n  ","\nvar form = module.exports = function( ) {\n\t\n\tvar $window = $(window);\n\t\n\t// sync input values\n\t$('input').on('keydown', function(){\n\t\t$('input.bottom-input').val( $('input.top-input').val() )\n\t});\n\t\n\t$window.on('mousewheel touchmove', function(event){\n\t\t//$('input').blur();\n\t});\n\t\n};\n","var controlScroll = require(\"modules/control-scroll\"),\n\tsettings = require('modules/settings');\n\nmodule.exports = function( el ) {\n\t\n\tvar $el = $(el),\n\t\t$window = $(window),\n\t\tcurrSet = 0;\n\t\n\t\n\t\tinit();\n\t\n\t\tfunction init() {\n\t\t\t$('.lookbook-block').on('mouseover', lookbookOver).on('mouseout', lookbookOut).on('click', lookbookClick);\n\t\t\t$window.on('resize', winResize);\n\t\t\twinResize();\n\t\t\tsetMargins($('.lookbook-block').length-1, $('.lookbook-block').length-1);\n\t\t}\n\t\t\n\t\tfunction lookbookOver(e) {\n\t\t\tvar $item = $(e.currentTarget);\n\t\t\t\n\t\t\tcurrSet = $item.data('set');\n\t\t\t\n\t\t\t$('.lookbook-block').addClass('hidden');\n\t\t\t$('.lookbook-block[data-set=\"'+ currSet +'\"]').removeClass('hidden');\n\t\t\t$('.lookbook-block[data-set=\"'+ currSet +'\"]').last().addClass('last-block');\n\t\t\t//console.log('over')\n\t\t}\n\t\t\n\t\tfunction lookbookOut(e) {\n\t\t\t//console.log('out')\n\t\t\t\n\t\t\t$('.lookbook-block').removeClass('hidden');\n\t\t}\n\t\t\n\t\tfunction setMargins(firstNum, lastNum) {\n\t\t\t\n\t\t\tvar colCount = 0;\n\t\t\t\n\t\t\tfor(var i=0; i<firstNum; i++) {\n\t\t\t\tif(colCount == 5) {\n\t\t\t\t\t//$('.lookbook-block').eq(i).addClass('no-margin-r');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconsole.log(colCount);\n\t\t\t\tcolCount = colCount < 5 ? colCount + 1 : 0;\n\t\t\t\t\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tcolCount = 0;\n\t\t\t\n\t\t\tfor(var i=lastNum; i<$('.lookbook-block').length-1; i++) {\n\t\t\t\tif(colCount == 5) {\n\t\t\t\t\t//$('.lookbook-block').eq(i).addClass('no-margin-r');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconsole.log(colCount);\n\t\t\t\tcolCount = colCount < 5 ? colCount + 1 : 0;\n\t\t\t\t\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction lookbookClick(e) {\n\t\t\t\n\t\t\tif(settings.isMobile) return true;\n\t\t\t\n\t\t\tvar $item = $(e.currentTarget);\n\t\t\tcurrSet = $item.data('set');\n\t\t\t\n\t\t\t$('.lookbook-block.no-margin-r').removeClass('no-margin-r')\n\t\t\t$('.lookbook-block.zoomed').removeClass('zoomed').addClass('lookbook-thumb');\n\t\t\t$('.lookbook-block.first-image').removeClass('first-image');\n\t\t\t$('.lookbook-block[data-set=\"'+ currSet +'\"]').addClass('zoomed').removeClass('lookbook-thumb');\n\t\t\t$('.lookbook-block[data-set=\"'+ currSet +'\"]').eq(1).addClass('first-image');\n\t\t\t\n\t\t\tconsole.log( 'index of clicked zoomed item' + $('.lookbook-block.zoomed').last().index() )\n\t\t\t\n\t\t\tvar resetNumFirst = $('.lookbook-block.zoomed').eq(0).index();\n\t\t\tvar resetNumLast = $('.lookbook-block.zoomed').last().index() + 1;\n\t\t\tvar colCount = 0;\n\t\t\t\n\t\t\tvar itemHeight = ($('.lookbook-block.zoomed.first-set-image').outerHeight() * $item.data('set-index')) + (($window.width() * .04) * $item.data('set-index'));\n\t\t\tvar posTop = $('.lookbook-block.first-set-image.zoomed').position().top + itemHeight + $window.height();\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t//var itemPos = $('.lookbook-block.lookbook-label.zoomed').position().top + $window.height() + itemHeight;\n\t\t\t\n\t\t\tvar itemPos = $('#lookbook').position().top + $item.position().top + $window.height();\n\t\t\t\n      if($item.data('set') == '1'){\n        $('.lookbook-block[data-set=\"3\"]').first().removeClass('xl-break')\n      } else {\n        $('.lookbook-block[data-set=\"3\"]').first().addClass('xl-break')\n      }\n\t\n\t\t\t\n\t\t\tconsole.log('item index ' + $item.index())\n\t\t\t\n\t\t\tsetMargins(resetNumFirst, resetNumLast);\n\t\t\t\n\t\t\tcontrolScroll.animateScroll( itemPos )\n\t\t\t\n\t\t\t/*\n\t\t\tfor(var i=0; i<resetNumFirst; i++) {\n\t\t\t\tif(colCount == 5) {\n\t\t\t\t\t$('.lookbook-block').addClass('no-margin-r');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcolCount = colCount == 5 ? 0 : colCount + 1;\n\t\t\t}\n\t\t\t*/\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction winResize(){\n\t\t\t//console.log('winresize')\n\t\t\t\n      \n      \n      if($(window).width() >= 1500 && $window.width() < $window.width() - ($window.width() * .12)) {\n        \n      } else {\n       // $('#lookbook').css('margin-left', '');\n      }\n      \n\t\t\tif($window.width() - ($window.width() * .12) >= 1500) {\n\t\t\t\t$('#lookbook-article').addClass('max-width');\n        $('#lookbook').css('margin-left', '');\n\t\t\t} else {\n\t\t\t\tif($('#lookbook-article').hasClass('max-width')){\n\t\t\t\t\t$('#lookbook-article').removeClass('max-width');\n          \n\t\t\t\t}\n\t\t\t}\n      \n      \n\t\t}\n\t\n};\n","var settings = require( \"modules/settings\" ),\n\tthrottle = require(\"modules/throttle\"),\n\tcontrolScroll = require(\"modules/control-scroll\"),\n\tvideos = require(\"modules/videos\"),\n\tform = require(\"modules/form\")\n\n\nmodule.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n\t\tmyScroll,\n\t\tposition;\n\n\n\t\t//console.log(videos.getName())\n    \n    //this.scrollerWidth = Math.round(this.scroller.scrollWidth * this.scale);    \n    //this.scrollerHeight = Math.round(this.scroller.offsetHeight * this.scale);\n\n\t\tfunction updatePosition () {\n\t\t\n\t\t\t//mobile loop\n\t\t\tif(-this.y >= settings.scroller.scrollerHeight - settings.scroller.wrapperHeight) {\n        console.log('loop')\n\t\t\t\tthis.scrollTo(0, 0);\n\t\t\t}\n      \n      console.log(-this.y);\n      \n      console.log(settings.scroller.scrollerHeight - settings.scroller.wrapperHeight)\n\t\t\t\n\t\t\tvar st = -this.y;\n\t\t\t\n\t\t\t\n\t\t\tcontrolScroll.scroll(st);\n\t\t\t\n\t\t\n\t\t\n\t\t}\n\n\t\tfunction attachScroller() {\n\t\t\t//position = document.getElementById('position');\n\t\t\t\n\t\t\tmyScroll = new IScroll('#wrapper', { \n\t\t\t\tprobeType: 3, \n\t\t\t\tscrollbars: 'custom',\n\t\t\t\tfadeScrollbars: true,\n\t\t\t\tbounce: false,\n\t\t\t\tclick:true, // open click event\n\t\t\t\tmouseWheel: true,\n\t\t\t\tscrollbarClass: 'scrollbar',\n\t\t\t\tdeceleration:0.002\n\t\t\t});\n\t\t\t\n\t\t\tsettings.scroller = myScroll;\n\t\t\t\n\t\t\t//console.log(myScroll);\n\n\t\t\tmyScroll.on('scroll', updatePosition);\n\t\t\tmyScroll.on('scrollEnd', updatePosition);\n\t\t}\n\t\t\n\n\t\t\n\n\t\t//document.addEventListener('DOMContentLoaded', loaded, false);\n\t\t\n\t\tfunction init(){\n\t\t\t\n\t\t\tconsole.log('%c[mobile-scroll module init]', 'color:green')\n\t\t\t\n\t\t\n\t\t\tdocument.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);\n\t\t\t\n\t\t\tcontrolScroll.setScrollContainer($('#wrapper'));\n\t\t\tattachScroller();\n\t\t\t\n\t\t\t$window.on('touchstart', touchStart);\n\t\t\t\n\t\t\t$window.on('resize', winResize);\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tcontrolScroll.scrollMobile(myScroll, -200)\n\t\t\t\t//myScroll.scrollTo(0, -200)\n\t\t\t}, 2000);\n\t\t}\n\t\t\n\t\t\n\t\tfunction touchStart(event) {\n\t\t\tconsole.log(event.target)\n\t\n\t\t\tvar _x = event.originalEvent.touches[0].pageX;\n\t\t\tvar _y = event.originalEvent.touches[0].pageY;\n\t\n\t\t\tif( (_x >= $('.bottom-input').position().left) && (_x <= $('.bottom-input').position().left + $('.bottom-input').outerWidth()) && (_y >= $('.bottom-input').position().top) && (_y <= $('.bottom-input').position().top + $('.bottom-input').outerHeight()) )\n\t\t\t{\n\t\t\t\tmyScroll.scrollTo(0, 0);\n\t\t\t\tcontrolScroll.scrollTo(0);\n\t\t\t\t$('input.top-input').focus();\n\t\t\t\tconsole.log('pressed');\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction winResize(){\n\t\t\t\n\t\t\t$('.top-section').css('height', $window.height());\n\t\t\t\n\t\t\tif( $window.height() * 1.5 < $window.width() ) {\n\t\t\t\t$('body').addClass('landscape-format');\n\t\t\t} else {\n\t\t\t\t$('body').removeClass('landscape-format')\n\t\t\t}\n\t\t\t\t\n\t\t}\n\n\t\t\n\t\t//winResize();\n\t\t\n\t\tif(settings.isMobile) {\n\t\t\twinResize();\n\t\t\tinit();\n\t\t}\n\t\t\n\t\t\n};\n  ","var makeVideoPlayableInline = require('iphone-inline-video'),\n\tsettings = require('modules/settings'),\n\tmousewheel = require('jquery-mousewheel')($);\n\nvar scrollLoop = module.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n\t\t$videoScroll = $el.find('.video-scroll'),\n\t\t$videoWidth = $('.video-holder').width(),\n\t\tvidScrollWidth = 0,\n\t\txListener = 0,\n\t\txPos = 0,\n\t\tscrollInt,\n\t\tinitLoad = true,\n\t\tautoScrollTimer,\n\t\tautoScroll = false,\n\t\tlast_position = {},\n\t\t$scrollContainer = $('.wrapper'),\n\t\tst;\n\n\t\tconsole.log('%c[scroll-loop module init]', 'color:blue;');\n\t\t\n\t\tscrollLoop.getName = function(){\n\t\t\treturn 'hi';\n\t\t}\n\t\t\n\t\tscrollLoop.setScrollContainer = function(scrollContainer){\n\t\t\t$scrollContainer = scrollContainer;\n\t\t}\n\t\t\n\t\tscrollLoop.scroll = function(y) {\n\t\t\t\n\t\t}\n\t\n\t\t\n\t\tscrollLoop.fadeOverlay = function(scrollContainer, y) {\n\t\t\tst = y;\n\t\t\t\n\t\t\t//console.log('st ' +scrollContainer[0].scrollHeight);\n\t\t\t\n\t\t\tif(!scrollContainer.hasClass('looped')) {\n\t\t\t\tif(st < $window.height()) {\n\t\t\t\t\t$('.top-section.bottom-fixed').css('opacity', 0).removeClass('show');\n\t\t\t\t\tvar op = (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('below window height');\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( st < $window.height() * 2) {\n\t\t\t\t\n\t\t\t\t\tvar op = st - $window.height() + (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('below two times')\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(st >= scrollContainer[0].scrollHeight - ($window.height() * 2 ) ) {\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height()  )\n\t\t\t\t//console.log( $scrollContainer[0].scrollHeight / (st + $window.height()) )\n\t\t\t\t//console.log($scrollContainer[0].scrollHeight);\n\t\t\t\t//console.log(st + $window.height());\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  )/ $window.height()  )\n\t\t\t\t//console.log( ($scrollContainer[0].scrollHeight - st) / ( $scrollContainer[0].scrollHeight - $window.height()) )\n\t\t\t\t\n\t\t\t\tconsole.log('at end of page')\n\t\t\t\t\n\t\t\t\tvar op = ( scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height();\n\t\t\t\t\n\t\t\t\tconsole.log(op);\n\t\t\t\t\n\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t$('.top-section.bottom-fixed').addClass('show').css('opacity', 1 - op);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tscrollLoop.checkScrollPos = function(){\n\t\t\tclearInterval(scrollInt);\n\t\t\tvar st = $scrollContainer.scrollTop();\n\t\t\t\n\t\t\t\n\t\t\tif(st < $window.height()) {\n\t\t\t\t\n\t\t\t\t//$('body').scrollTop($('body')[0].scrollHeight);\n\t\t\t}\n\t\t\t\n\t\t\tif($scrollContainer.hasClass('looped')) {\n\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\n\t\t\t\tif(st > $window.height()) {\n\t\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\t//$scrollContainer.scrollTop(0);\n\t\t\t\t} \n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - $window.height()) {\n\t\t\t\t$('.wrapper').addClass('looped');\n\t\t\t\t$scrollContainer.animate({ scrollTop:0 }, 0)\n\t\t\t\t$scrollContainer.scrollTop(0);\n\t\t\t\t//$('.top-section.bottom-fixed').css('opacity', 0)\n\t\t\t}\n\t\t}\n\t\t\n\t\t/*\n\t\tfunction checkScrollPos(){\n\t\t\tclearInterval(scrollInt);\n\t\t\tvar st = $scrollContainer.scrollTop();\n\t\t\t\n\t\t\t\n\t\t\tif(st < $window.height()) {\n\t\t\t\t$('.top-section.bottom-fixed').css('opacity', 0).removeClass('show');\n\t\t\t\t//$('body').scrollTop($('body')[0].scrollHeight);\n\t\t\t}\n\t\t\t\n\t\t\tif($scrollContainer.hasClass('looped')) {\n\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\n\t\t\t\tif(st > $window.height()) {\n\t\t\t\t\t$scrollContainer.removeClass('looped');\n\t\t\t\t\t//$scrollContainer.scrollTop(0);\n\t\t\t\t} \n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - $window.height()) {\n\t\t\t\t$('.wrapper').addClass('looped');\n\t\t\t\t$scrollContainer.animate({ scrollTop:0 }, 0)\n\t\t\t\t$scrollContainer.scrollTop(0);\n\t\t\t\t//$('.top-section.bottom-fixed').css('opacity', 0)\n\t\t\t}\n\t\t}\n\t\t*/\n\t\t\n\t\t/*\n\t\tfunction fadeOverlay(){\n\t\t\tvar st = $scrollContainer.scrollTop();\n\t\t\tif(!$scrollContainer.hasClass('looped')) {\n\t\t\t\tif(st < $window.height()) {\n\t\t\t\t\n\t\t\t\t\tvar op = (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( st < $window.height() * 2) {\n\t\t\t\t\n\t\t\t\t\tvar op = st - $window.height() + (st / $window.height()) * 1;\n\t\t\t\t\t//console.log('op ' + op)\n\t\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//$('#color-overlay').css('opacity', 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(st >= $scrollContainer[0].scrollHeight - ($window.height() * 2 ) ) {\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height()  )\n\t\t\t\t//console.log( $scrollContainer[0].scrollHeight / (st + $window.height()) )\n\t\t\t\t//console.log($scrollContainer[0].scrollHeight);\n\t\t\t\t//console.log(st + $window.height());\n\t\t\t\t//console.log( ( $scrollContainer[0].scrollHeight - st  )/ $window.height()  )\n\t\t\t\t//console.log( ($scrollContainer[0].scrollHeight - st) / ( $scrollContainer[0].scrollHeight - $window.height()) )\n\t\t\t\tvar op = ( $scrollContainer[0].scrollHeight - st  - $window.height() )/$window.height();\n\t\t\t\t$('#color-overlay').css('opacity', op);\n\t\t\t\t$('.top-section.bottom-fixed').addClass('show').css('opacity', 1 - op);\n\t\t\t}\n\t\t}\n\t\t*/\n\t\t\n\t\tfunction startAutoScroll(){\n\t\t\t$('body').addClass('autoScroll');\n\t\t}\n\t\t\n\t\tfunction stopAutoScroll(){\n\t\t\t$('body').removeClass('autoScroll');\n\t\t\tsetTimeout(function(){ $('body').removeClass('scrolling autoScroll'); }, 100);\n\t\t\tautoScroll = false;\n\t\t\tclearTimeout(autoScrollTimer);\n\t\t\tautoScrollTimer = setTimeout(function(){\n\t\t\t\tautoScroll = true;\n\t\t\t}, 10000);\n\t\t}\n\t\t\n\t\t/*\n\t\t$window.on('mousedown touchstart', function(event){\n\t\t\t$('body').addClass('mousedown');\n\t\t\t\n\t\t\t$window.on('mousemove', winMouseMove);\n\t\t\t\n\t\t\tstopAutoScroll();\n\t\t}).on('mouseup touchend', function(){\n\t\t\t$('body').removeClass('mousedown');\n\t\t\t$window.off('mousemove');\n\t\t});\n\t\t*/\n\t\t\n\n\t\t$window.on('mousewheel touchmove touchstart', function(event){\n\t\t\t\n\t\t\t\n\t\t\tif(event.type == 'mousewheel') {\n\t\t\t\tif(event.deltaY < 0) {\n\t\t\t\t\txPos += event.deltaY;\n\t\t\t\t\txListener += event.deltaY;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif(event.deltaX > 1) {\n\t\t\t\t\txPos -= event.deltaX;\n\t\t\t\t\txListener -= event.deltaX;\n\t\t\t\t}\n\t\t\t} else if(event.type == 'touchmove') {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t//return true;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//console.log(event.type)\n\t\t\t$('body').addClass('scrolling');\n\t\t\t\n\t\t\tclearTimeout($.data(this, 'timer'));\n\t\t\t  $.data(this, 'timer', setTimeout(function() {\n\t\t\t\t  $('body').removeClass('scrolling');\n\t\t\t     //do something\n\t\t\t  }, 250));\n\t\t\t  \n\t\t\t//checkScrollPos()  \n\t\t\t//stopAutoScroll();\n\t\t});\n\t\t\n\t\t/*\n\t\t$window.on('mousewheel touchmove', function(event){\n\t\t\t\n\t\t\t\n\t\t\tif(event.type == 'mousewheel') {\n\t\t\t\tif(event.deltaY < 0) {\n\t\t\t\t\txPos += event.deltaY;\n\t\t\t\t\txListener += event.deltaY;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif(event.deltaX > 1) {\n\t\t\t\t\txPos -= event.deltaX;\n\t\t\t\t\txListener -= event.deltaX;\n\t\t\t\t}\n\t\t\t} else if(event.type == 'touchmove') {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//console.log(event.type)\n\t\t\t$('body').addClass('scrolling');\n\t\t\t\n\t\t\tclearTimeout($.data(this, 'timer'));\n\t\t\t  $.data(this, 'timer', setTimeout(function() {\n\t\t\t\t  $('body').removeClass('scrolling');\n\t\t\t     //do something\n\t\t\t  }, 250));\n\t\t\t  \n\t\t\tcheckScrollPos()  \n\t\t\tstopAutoScroll();\n\t\t});\n\t\t*/\n\t\n\t\t\n\t\t\n\t\t\n\t\tfunction init(){\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tsetVideos();\n\t\t\tfadeOverlay();\n\t\t\t$('#video-container').fadeIn(6000);\n\t\t\t\n\t\t\t$scrollContainer.on('scroll', function(event) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\t//console.log('scroll triggered')\n\t\t\t\t//var gradientTopPos = $('body').scrollTop();\n\t\t\t\n\t\t\t\tcheckScrollPos();\n\t\t\t\tfadeOverlay();\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\t//console.log(event.deltaX)\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t    watchVideos();\n\t\t\t\t$('body').addClass('scrolling');\n\t\t\t\n\t\t\t\t//stopAutoScroll();\n\t\t\t  \n\t\t\t  \n\t\t\t    //console.log(event.deltaX, event.deltaY, event.deltaFactor);\n\t\t\t});\n\t\t\t\n\t\t\tautoScrollTimer = setTimeout(function(){\n\t\t\t\tautoScroll = true;\n\t\t\t}, 6000);\n\t\t\t\n\t\t\t// Usage\n\t\t\tanimLoop(function( deltaT ) {\n\t\t\t\txPos -= .2;\n\t\t\t\txListener -= .2;\n\t\t\t\t$('.video-scroll').css({\n\t\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"\n\t\t\t\t  });​\n\t\t\t\t\t\n\t\t\t\t  //console.log($window.width())\n\t\t\t\t  //console.log ($('video').eq(0).position().left)\n\t\t\t\t  if(autoScroll) {\n\t\t\t\t\t  //$('input').blur();\n\t\t\t\t\t  startAutoScroll();\n\t\t\t\t\t  checkScrollPos();\n\t\t\t\t\t  fadeOverlay();\n\t\t\t\t  \t  $scrollContainer.scrollTop($scrollContainer.scrollTop() + 1);\n\t\t\t\t\t  //initLoad = false;\n\t\t\t\t  }\n\t\t\t\t  watchVideos();\n\t\t\t\t  \n\t\t\t    //elem.style.left = ( left += 10 * deltaT / 16 ) + \"px\";\n\n\t\t\t// optional 2nd arg: elem containing the animation\n\t\t\t} );\n\t\t\t\n\t\t\t$('.newsletter input').on('focus', inputFocus);\n\t\t\t\n\t\t\t$window.on('resize', winResize);\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction inputFocus(){\n\t\t\tif(!$('.bottom-fixed').hasClass('show')) {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t}\n\t\t\t$scrollContainer\n\t\t}\n\t\t\n\t\tfunction watchVideos(){\n\t\t\t\n\t\t\t//console.log( $('.video-1-clone').position().left )\n\t\t\t/*\n\t\t\t$('.video-holder').each(function(){\n\t\t\t\tif($(this).position().left + $(this).width() >= 0 && $(this).position().left <= $window.width() ) {\n\t\t\t\t\t$(this).find('video')[0].play();\n\t\t\t\t} else {\n\t\t\t\t\t//console.log($(this).find('video').attr('src'))\n\t\t\t\t\t$(this).find('video')[0].pause();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif( $('.video-1-clone').position().left <= 0 ) {\n\t\t\t\txPos = 0;\n\t\t\t\t\n\t\t\t\t$('.video-scroll').css({\n\t\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"\n\t\t\t\t  });​\n\t\t\t\t  \n\t\t\t\t\n\t\t\t}\n\t\t\t*/\n\t\t\t/*\n\t\t\tif(xPos < -vidScrollWidth ) {\n\t\t\t\txPos = 0;\n\t\t\t\txListener = 0;\n\t\t\t\t$videoScroll.append($('.video-holder').eq(0));\n\t\t\t\t\n\t\t\t\tfor(var i=0; i<$('.video-holder').length; i++) {\n\t\t\t\t\t$('.video-holder').eq(i).css('left', ( $videoWidth * i) + 'px');\n\t\t\t\t}\n\t\t\t\t$('.video-holder').eq(1).find('video')[0].play();\n\t\t\t\tconsole.log('reset entire piece')\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t\n\t\t\tif(xListener < -$videoWidth) {\n\t\t\t\txListener = 0;\n\t\t\t\tvar _left = Number( $('.video-holder').last().css('left').split('px').join('') ) + $videoWidth;\n\t\t\t\n\t\t\t\t$('.video-holder').eq(2).find('video')[0].play();\n\t\t\t\t$('.video-holder').eq(0).find('video')[0].pause();\n\t\t\t\t$('.video-holder').eq(0).css('left', _left + 'px')\n\t\t\t\t$videoScroll.append($('.video-holder').eq(0));\n\t\t\t}\n\t\t\t*/\n\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction setVideos(){\n\t\t\tvidScrollWidth = 0;\n\t\t\t$('.video-holder').each(function(){\n\t\t\t\t$(this).css('left', $(this).width() * $(this).index());\n\t\t\t\tvidScrollWidth += $(this).width(); \n\t\t\t});\n\t\t\t$videoScroll.css('width', vidScrollWidth);\n\t\t\t//console.log(vidScrollWidth);\n\t\t}\n\t\t\n\t\t/*\n\t\tsetInterval(function(){\n\t\t\txPos-= 1;\n\t\t\t$('.video-scroll').css({\n\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"\n\t\t\t  });​\n\t\t}, 10);\n\t\t*/\n\t\t\n\t\n\t\tfunction animLoop( render, element ) {\n\t\t    var running, lastFrame = +new Date;\n\t\t    function loop( now ) {\n\t\t        // stop the loop if render returned false\n\t\t        if ( running !== false ) {\n\t\t            requestAnimationFrame( loop, element );\n\t\t            running = render( now - lastFrame );\n\t\t            lastFrame = now;\n\t\t        }\n\t\t    }\n\t\t    loop( lastFrame );\n\t\t}\n\n\t\t\n\t\t\n\t\t/*\n\t\t$('.video-scroll').velocity({\n\t\t\ttranslateZ: 0, // Force HA by animating a 3D property\n\t\t    translateX: \"-10000px\"\n\t\t}, {\n\t\t    \n\t\t\tduration:100000,\n\t\t    easing: \"linear\",\n\t\t});\n\t\t*/\n\t\t\n\t\tfunction winResize(){\n\t\t\t$videoWidth = $('.video-holder').width();\n\t\t\tsetVideos();\n\t\t}\n\t\t\n\t\tif(!settings.isMobile) {\n\t\t\tinit();\n\t\t}\n\t\t\n};\n  ","/**\n * Global settings shared by all modules\n * @type {Object}\n */\n\nfunction checkMobile(){\n\tif( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n}\n\n\n\nvar settings = module.exports = {\n\tbreakpoints: {\n\t\txs: 481,\n\t\ts: 769,\n\t\tm: 1000,\n\t\tml: 999,\n\t\tl: 1281,\n\t\txl: 1441,\n\t\txxl: 1921\n\t},\n\tsiteURL:$('body').data('site-url'),\n\tscrollContainer: 0,\n\tanimationSpeed: 400,\n\tanimationType: \"linear\",\n\tanimating: false,\n\tunique: true,\n\tscroller: null,\n\tisMute:false,\n  ytPlayer: false,\n  isMuteYT: false,\n\tisMobile: checkMobile(),\n\tpage: '',\n};\n\nsettings.isMobile = settings.isMobile;\nsettings.breakpoints = settings.breakpoints;\nsettings.animationSpeed = settings.animationSpeed;\nsettings.animationType = settings.animationType;\nsettings.scrollPos = settings.scrollPos;\nsettings.scrollContainer = settings.scrollContainer;\nsettings.animating = settings.animating;\nsettings.unique = settings.unique;\nsettings.isMute = settings.isMute;\nsettings.ytPlayer = settings.ytPlayer;\nsettings.isMuteYT = settings.isMuteYT;\nsettings.scroller = settings.scroller;\n","// throttle function from Remy Sharp\n// https://remysharp.com/2010/07/21/throttling-function-calls\nmodule.exports = function( fn, threshold, scope ) {\n\tif ( !threshold ) {\n\t\tthreshold = 250;\n\t}\n\n\tvar last, deferTimer;\n\n\treturn function() {\n\t\tvar context = scope || this,\n\t\t\tnow  = +new Date(),\n\t\t\targs = arguments;\n\n\t\tif ( last && now < last + threshold ) {\n\t\t\t// hold on to it\n\t\t\tclearTimeout( deferTimer );\n\t\t\tdeferTimer = setTimeout(function() {\n\t\t\t\tlast = now;\n\t\t\t\tfn.apply( context, args );\n\t\t\t}, threshold );\n\t\t} else {\n\t\t\tlast = now;\n\t\t\tfn.apply( context, args );\n\t\t}\n\t};\n};\n","var makeVideoPlayableInline = require('iphone-inline-video'),\n\tsettings = require('modules/settings'),\n\tmousewheel = require('jquery-mousewheel')($),\n\tAnimationFrame = require('animation-frame');\n\nvar videos = module.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n\t\t$videoScroll = $el.find('.video-scroll'),\n\t\t$videoWidth = $('.video-holder').width(),\n\t\tvidScrollWidth = 0,\n\t\txListener = 0,\n\t\txPos = 0,\n\t\tscrollInt,\n\t\tinitLoad = true,\n\t\tautoScrollTimer,\n\t\tautoScroll = false,\n\t\tlast_position = {},\n\t\t$scrollContainer = $('.wrapper'),\n\t\tst,\n\t\tanimationFrame = new AnimationFrame();\n\n\t\tconsole.log('%c[video module init]', 'color:blue;');\n\t\t\n\t\t \n\t\tfunction winMouseMove(event) {\n\t\t\t//if(event)\n\t\t\t\n\t\t\t\n\t\t\t//check to make sure there is data to compare against\n\t\t    if (typeof(last_position.x) != 'undefined') {\n\n\t\t        //get the change from last position to this position\n\t\t        var deltaX = last_position.x - event.clientX,\n\t\t            deltaY = last_position.y - event.clientY;\n\n\t\t        //check which direction had the highest amplitude and then figure out direction by checking if the value is greater or less than zero\n\t\t        if (Math.abs(deltaX) > Math.abs(deltaY) && deltaX > 0) {\n\t\t            //left\n\t\t\t\t\tconsole.log('moving left')\n\t\t\t\t\txPos -= Math.abs(deltaX);\n\t\t        } else if (Math.abs(deltaX) > Math.abs(deltaY) && deltaX < 0) {\n\t\t            //right\n\t\t        } else if (Math.abs(deltaY) > Math.abs(deltaX) && deltaY > 0) {\n\t\t            //up\n\t\t        } else if (Math.abs(deltaY) > Math.abs(deltaX) && deltaY < 0) {\n\t\t            //down\n\t\t        }\n\t\t    }\n\n\t\t    //set the new last position to the current for next time\n\t\t    last_position = {\n\t\t        x : event.clientX,\n\t\t        y : event.clientY\n\t\t    };\n\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\t\n\t\n\t\t\n\t\t\n\t\t\n\t\tfunction init(){\n\t\t\t\n\t\t\tif(settings.isMobile) {\n\t\t\t\t$('video').each(function () {\n\t\t\t\t    makeVideoPlayableInline(this);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tsetVideos();\n\t\t\tswitchVideos();\n\t\t\t\n\t\t\t$('#video-container').fadeIn(6000);\n\t\t\t\n\n\t\t\tif(!settings.isMobile){\n\t\t\t\t// Usage\n\t\t\t\t(function animate() {\n\t\t            animationFrame.request(function() {\n\t\t\t\t\t\trender();\n\t\t                animate();\n\t\t            });\n\t\t        }());\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//$('.newsletter input').on('focus', inputFocus);\n\t\t\t\n\t\t\t$window.on('resize', winResize);\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction inputFocus(){\n\t\t\tif(!$('.bottom-fixed').hasClass('show')) {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t}\n\t\t\t \n\t\t}\n\t\t\n\t\tfunction nextVideo(vidContainer) {\n\t\n\t\t\tvar vidLength = $(vidContainer).find('video').length;\n\t\t\t\n\t\t\tfor(var i=0; i<vidLength; i++) {\n\t\t\t\tif($(vidContainer).find('video').eq(i).hasClass('active')){\n\t\t\t\t\t$(vidContainer).find('video').eq(i).removeClass('active');\n\t\t\t\t\t\n\t\t\t\t\tvar targ = i + 1 < vidLength ? i + 1 : 0;\n\t\t\t\t\t\n\t\t\t\t\t$(vidContainer).find('video').eq(targ)[0].play();\n\t\t\t\t\t$(vidContainer).find('video').eq(targ).addClass('active');\n\t\t\t\t\tbreak;\n\t\t\t\t\t//$(vidContainer).find('video').eq(i + 1)[0].currentTime = .01;\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t$(vidContainer).find('video').each(function(){\n\t\t\t\tif($(this).hasClass('active')){\n\t\t\t\t\tvar ind = $(this).index();\n\t\t\t\t\t//console.log('index ' + ind);\n\t\t\t\t\t//$(this).removeClass('active');\n\t\t\t\t\t//$(vidContainer).find('video').eq(ind + 1).addClass('active');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tfunction switchVideos(){\n\t\t\t$('video').each(function(){\n\t\t\t\t$(this).attr('data-loaded', 'not-loaded');\n\t\t\t});\n\t\t\t\n\t\t\t$('video').on(\"timeupdate\", function(e) {\n\t\t\t\tvar vid = $(this).get(0);\n\t\t\t\tif(vid.currentTime == 0) {\n\t\t\t\t\t$(this)[0].currentTime = 0.1;\n\t\t\t\t\t$(this)[0].pause();\n\t\t\t\t\t//console.log('looped');\n\t\t\t\t\tnextVideo($(this).parent());\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t$('video').bind('loadeddata', function(e) {\n\t\t\t  $(this).get(0).currentTime = 0.1;\n\t\t\t // console.log($(this).attr('data-loaded', 'loaded'))\n\t\t\t});\n\t\t\t\n\n\t\t}\n\t\t\n\t\t\n\t\tfunction watchVideos(){\n\t\t\t$('.video-holder').each(function(){\n\t\t\t\tif($(this).position().left + $(this).width() >= 0 && $(this).position().left <= $window.width() ) {\n\t\t\t\t\tif(!$(this).find('video').hasClass('playing')) {\n\t\t\t\t\t\t$(this).find('video')[0].play();\n\t\t\t\t\t\t//console.log('play ' + $(this).find('video').attr('src'))\n\t\t\t\t\t}\n\t\t\t\t\t$(this).find('video').addClass('playing');\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tif($(this).find('video').hasClass('playing')){\n\t\t\t\t\t\t//console.log('pause ' + $(this).find('video').attr('src'))\n\t\t\t\t\t\t$(this).find('video').removeClass('playing');\n\t\t\t\t\t\t//$(this).find('video')[0].pause();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t//$('#video-1').currentTime = $('#video-10')[0].currentTime;\n\t\t\t\n\t\n\t\t\t\n\t\t\tif($('.video-1-clone').position().left <= 0) {\n\t\t\t\txPos = 0;\n\t\t\t\t$('#video-container').scrollLeft(0);\n\t\t\t}\n\t\t\n\t\t}\n\t\t\n\t\t\n\t\t$window.on('mousewheel touchmove', function(event){\n\t\t\tevent.stopPropagation();\n\t\t\t\n\t\t\tif(event.type == 'mousewheel') {\n\t\t\t\tif(event.deltaY <= 0) {\n\t\t\t\t\txPos -= event.deltaY;\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tif(event.deltaX >= 0) {\n\t\t\t\t\txPos += event.deltaX;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//console.log(event.deltaX )\n\t\t\t\t\n\t\t\t\twatchVideos();\n\t\t\t\t/*\n\t\t\t\tif(event.deltaY < 0) {\n\t\t\t\t\txPos += event.deltaY;\n\t\t\t\t\txListener += event.deltaY;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif(event.deltaX > 1) {\n\t\t\t\t\txPos -= event.deltaX;\n\t\t\t\t\txListener -= event.deltaX;\n\t\t\t\t}\n\t\t\t\t*/\n\t\t\t} else if(event.type == 'touchmove') {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t//return true;\n\t\t\t}\n\t\t\t\n\t\t\twatchVideos();\n\n\t\t});\n\t\t\n\t\tvar animationFrame = new AnimationFrame();\n        \n\t\t\n\n\n\t\tfunction render(){\n\t\t\txPos += .2;\n\t\t\t$('#video-container').scrollLeft(xPos);\n\t\t\t//watchVideos();\n\t\t\t/*\n\t\t\t$('.video-scroll').css({\n\t\t\t    \"-webkit-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t    \"-ms-transform\":\"translate(\"+xPos+\"px,0)\",\n\t\t\t    \"transform\":\"translate(\"+xPos+\"px,0)\"});\n\t\t\t*/\n\t\t}\n\t\t\n\t\tfunction setVideos(){\n\t\t\tvidScrollWidth = 0;\n\t\t\t//$videoScroll.css('width', vidScrollWidth);\n\t\t\t//console.log(vidScrollWidth);\n\t\t\t\n\t\t\t$('.video-holder').each(function(){\n\t\t\t\t$(this).css('width', Math.floor($(window).height() * 1.745) ).css('left', $(this).width() * $(this).index());\n\t\t\t\tvidScrollWidth += $(this).width();\n\t\t\t});\n\t\n\t\n\t\n\t\t\t$('.video-scroll').css('width', vidScrollWidth);\n\t\t}\n\t\t\n\n\t\tfunction winResize(){\n\t\t\t$videoWidth = $('.video-holder').width();\n\t\t\tsetVideos();\n\t\t}\n\t\t\n\n\t\tinit();\n\t\t\n\t\t\n};\n  ","var settings = require('modules/settings'),\n\taudio = require(\"modules/audio\"),\n\tYouTubePlayer = require(\"youtube-player\"),\n\tcontrolScroll = require(\"modules/control-scroll\");\n\nvar youtube = module.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n    isPlaying = false,\n    isFirstTime = true;\n\t\t\n\t\tconsole.log('%c [youtube.js]', 'color:blue;');\n\t\t\n\t\t//AFQ0iO9NPnU\n\t\tplayer = YouTubePlayer('player', { \n\t\t\tvideoId: 'AFQ0iO9NPnU',\n\t\t\tplayerVars: { 'autoplay': 0, 'controls': 1, 'rel' : 0, 'color': 'white', 'showinfo': 0 }\n\t\t});\n\t\t\n    settings.ytPlayer = player;\n\n\t\tplayer.stopVideo();\n\t\t\n\t\t$window.on('resize', winPlayerResize);\n\t\t\n\t\t\n\t\tplayer.on('stateChange', function(event){\n\t\t\tconsole.log(event.data)\n\t\t\t\n\t\t\tswitch(event.data) {\n\t\t\t\tcase 0:\n\t\t\t\t//ended\n          isPlaying = false;\n\t\t\t\t\tcontrolScroll.initAutoScroll();\n          $('.preview').show();\n\t\t\t\t\taudio.fadeIn();\n          isFirstTime = true;\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase 1:\n\t\t\t\t//playing\n          isPlaying = true;\n\t\t\t\t\tcontrolScroll.removeAutoScroll();\n          settings.isMuteYT = !settings.isMute ? false : true;\n          if(isFirstTime) {\n            isFirstTime = false;\n            audio.fadeOut();\n          } else {\n            audio.muteAll();\n          }\n\t\t\t\t\t\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase 2:\n\t\t\t\t//pause\n          isPlaying = false;\n\t\t\t\t\tcontrolScroll.initAutoScroll();\n          //console.log('audio is: ' + settings.isMute)\n          if(!settings.isMuteYT) {\n            audio.fadeIn();\n          }\n\t\t\t\t\t//audio.fadeIn();\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase 3:\n\t\t\t\t//buffering\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase 5:\n\t\t\t\t\t//video cued\n\t\t\t\t\tplayer.playerVars = {'rel': 0};\n\t\t\t\t\tsetPlayerActions();\n\t\t\t\t\tsizePlayer();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t    // event.data \n\t\t});\n    \n    youtube.stopYTVideo = function(){\n      if(isPlaying) stopVideo();\n    }\n\t\t\n\t\tfunction setPlayerActions(){\n\t\t\t$('.preview').on('click', playVideo);\n\t\t}\n\t\t\n\t\tfunction playVideo(){\n      console.log('play video')\n      player.seekTo(0);\n\t\t\tplayer.playVideo();\n\t\t\t$('.preview').fadeOut();\n\t\t\tcontrolScroll.stopAutoScroll();\n\t\t}\n\t\t\n\t\tfunction stopVideo(){\n      \n\t\t\tplayer.stopVideo();\n\t\t}\n\t\t\n\t\tfunction sizePlayer(){\n      $('#player-holder').css('height', $('#player').width() * .5625);\n\t\t\t$('#player').css('height', $('#player').width() * .5625);\n\t\t\t$('.youtube-container').css('height', $('#player').width() * .5625);\n\t\t}\n\t\t\n\t\tfunction winPlayerResize(){\n      console.log('size player')\n\t\t\tsizePlayer();\n\t\t}\n  \t  \t\n\t\t\t\n};\n  "]}